  [4;36;1mSQL (72.9ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (1.7ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HomeController#index (for 127.0.0.1 at 2010-04-12 20:59:27) [GET]
  [4;36;1mMenyItem Load (52.4ms)[0m   [0;1mSELECT * FROM `meny_items` [0m
  [4;35;1mArticle Load (1.6ms)[0m   [0mSELECT * FROM `articles` WHERE (directory = 'Новости') ORDER BY created_at DESC LIMIT 0, 15[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mArticle Columns (2.7ms)[0m   [0;1mSHOW FIELDS FROM `articles`[0m
Rendered shared/_tree_for_users (20.1ms)
  [4;35;1mMenyItem Columns (2.1ms)[0m   [0mSHOW FIELDS FROM `meny_items`[0m
Rendered shared/_main_many (36.7ms)
  [4;36;1mProductCategory Load (0.5ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (show_slide = 1) [0m
  [4;35;1mProductCategory Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `product_categories`[0m
Completed in 727ms (View: 571, DB: 135) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#tree_funeral (for 127.0.0.1 at 2010-04-12 20:59:28) [GET]
  Parameters: {"id"=>"0"}
  [4;36;1mMenyItem Load (3.9ms)[0m   [0;1mSELECT * FROM `meny_items` [0m
  [4;35;1mProductCategory Load (1.0ms)[0m   [0mSELECT * FROM `product_categories` WHERE ((category_type = 'Funerals') AND (parent_id = 0)) [0m
  [4;36;1mProductCategory Columns (6.3ms)[0m   [0;1mSHOW FIELDS FROM `product_categories`[0m
  [4;35;1mProductCategory Load (0.6ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 9) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.7ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 51) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.5ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 52) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.7ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 53) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.3ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 44) ORDER BY category_name ASC[0m
Completed in 55ms (View: 7, DB: 14) | 200 OK [http://localhost/admin/products/tree_funeral?id=0]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.6ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#tree_monument (for 127.0.0.1 at 2010-04-12 20:59:29) [GET]
  Parameters: {"id"=>"0"}
  [4;36;1mMenyItem Load (0.2ms)[0m   [0;1mSELECT * FROM `meny_items` [0m
  [4;35;1mProductCategory Load (2.8ms)[0m   [0mSELECT * FROM `product_categories` WHERE ((category_type = 'Monuments') AND (parent_id = 0)) [0m
  [4;36;1mProductCategory Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `product_categories`[0m
  [4;35;1mProductCategory Load (0.5ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 10) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.4ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 54) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.5ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 55) ORDER BY category_name ASC[0m
Completed in 35ms (View: 1, DB: 6) | 200 OK [http://localhost/admin/products/tree_monument?id=0]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing SessionsController#new (for 127.0.0.1 at 2010-04-12 20:59:41) [GET]
  [4;36;1mMenyItem Load (0.2ms)[0m   [0;1mSELECT * FROM `meny_items` [0m
Rendering template within layouts/sessions
Rendering sessions/new
Completed in 90ms (View: 70, DB: 0) | 200 OK [http://localhost/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing SessionsController#create (for 127.0.0.1 at 2010-04-12 20:59:43) [POST]
  Parameters: {"authenticity_token"=>"NwfQ4siebA7ku9+Uom1fJehlAtx0p7p9kSCKLdLNNZA=", "login"=>"admin", "password"=>"admin1234"}
  [4;35;1mMenyItem Load (0.2ms)[0m   [0mSELECT * FROM `meny_items` [0m
  [4;36;1mUser Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`login` = 'admin') LIMIT 1[0m
Redirected to http://localhost:3000/admin/articles
Completed in 32ms (DB: 2) | 302 Found [http://localhost/session]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ArticlesController#index (for 127.0.0.1 at 2010-04-12 20:59:44) [GET]
  [4;36;1mMenyItem Load (0.3ms)[0m   [0;1mSELECT * FROM `meny_items` [0m
  [4;35;1mUser Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mArticle Load (0.8ms)[0m   [0mSELECT * FROM `articles` ORDER BY created_at DESC LIMIT 0, 15[0m
Rendering template within layouts/admin
Rendering admin/articles/index
  [4;36;1mArticle Columns (1.7ms)[0m   [0;1mSHOW FIELDS FROM `articles`[0m
Rendered shared/_main_many (2.6ms)
Completed in 227ms (View: 188, DB: 5) | 200 OK [http://localhost/admin/articles]
  [4;35;1mSQL (0.2ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#index (for 127.0.0.1 at 2010-04-12 20:59:48) [GET]
  [4;35;1mMenyItem Load (0.1ms)[0m   [0mSELECT * FROM `meny_items` [0m
  [4;36;1mUser Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Rendering template within layouts/admin
Rendering admin/products/index
Rendered shared/_full_tree (17.8ms)
Rendered shared/_main_many (2.8ms)
Completed in 83ms (View: 52, DB: 2) | 200 OK [http://localhost/admin/products]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#tree_funeral (for 127.0.0.1 at 2010-04-12 20:59:49) [GET]
  Parameters: {"id"=>"0"}
  [4;36;1mMenyItem Load (1.2ms)[0m   [0;1mSELECT * FROM `meny_items` [0m
  [4;35;1mProductCategory Load (0.2ms)[0m   [0mSELECT * FROM `product_categories` WHERE ((category_type = 'Funerals') AND (parent_id = 0)) [0m
  [4;36;1mProductCategory Columns (2.5ms)[0m   [0;1mSHOW FIELDS FROM `product_categories`[0m
  [4;35;1mProductCategory Load (0.3ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 9) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (5.3ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 51) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 52) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.3ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 53) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.2ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 44) ORDER BY category_name ASC[0m
Completed in 47ms (View: 1, DB: 10) | 200 OK [http://localhost/admin/products/tree_funeral?id=0]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#tree_monument (for 127.0.0.1 at 2010-04-12 20:59:49) [GET]
  Parameters: {"id"=>"0"}
  [4;36;1mMenyItem Load (0.2ms)[0m   [0;1mSELECT * FROM `meny_items` [0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE ((category_type = 'Monuments') AND (parent_id = 0)) [0m
  [4;36;1mProductCategory Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `product_categories`[0m
  [4;35;1mProductCategory Load (0.2ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 10) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 54) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (1.0ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 55) ORDER BY category_name ASC[0m
Completed in 33ms (View: 1, DB: 3) | 200 OK [http://localhost/admin/products/tree_monument?id=0]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#show_product_table (for 127.0.0.1 at 2010-04-12 20:59:50) [GET]
  Parameters: {"parent_id"=>"44"}
  [4;36;1mMenyItem Load (0.2ms)[0m   [0;1mSELECT * FROM `meny_items` [0m
  [4;35;1mUser Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mProductCategory Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `product_categories`[0m
  [4;36;1mProductCategory Load (0.3ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.`id` = 44) LIMIT 1[0m
  [4;35;1mProductCategory Load (0.2ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 44) ORDER BY category_name ASC[0m
  [4;36;1mProduct Load (0.7ms)[0m   [0;1mSELECT * FROM `products` WHERE (product_category_id IN(44)) ORDER BY created_at DESC LIMIT 0, 12[0m
Rendered shared/_products (42.5ms)
Completed in 111ms (View: 55, DB: 4) | 200 OK [http://localhost/admin/products/show_product_table?parent_id=44]
  [4;35;1mSQL (0.2ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing HomeController#show_funerals (for 127.0.0.1 at 2010-04-12 21:20:29) [GET]
  Parameters: {"parent_id"=>"44"}
  [4;35;1mMenyItem Load (0.2ms)[0m   [0mSELECT * FROM `meny_items` [0m
  [4;36;1mProductCategory Columns (12.1ms)[0m   [0;1mSHOW FIELDS FROM `product_categories`[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.`id` = 44) LIMIT 1[0m
Completed in 128ms (View: 2, DB: 13) | 200 OK [http://localhost/home/show_funerals?parent_id=44]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HomeController#funerals (for 127.0.0.1 at 2010-04-12 21:20:29) [GET]
  Parameters: {"parent_id"=>"44"}
  [4;36;1mMenyItem Load (0.2ms)[0m   [0;1mSELECT * FROM `meny_items` [0m
  [4;35;1mProductCategory Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `product_categories`[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.`id` = 44) LIMIT 1[0m
  [4;35;1mProductCategory Load (0.2ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 44) ORDER BY category_name ASC[0m
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM `products` WHERE (product_category_id IN(44)) ORDER BY created_at DESC LIMIT 0, 12[0m
Rendering template within layouts/application
Rendering home/funerals
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Rendered shared/_products (22.7ms)
Rendered shared/_funerals_tree (24.5ms)
Rendered shared/_main_many (2.8ms)
  [4;35;1mProductCategory Load (0.2ms)[0m   [0mSELECT * FROM `product_categories` WHERE (show_slide = 1) [0m
  [4;36;1mMenyItem Columns (1.8ms)[0m   [0;1mSHOW FIELDS FROM `meny_items`[0m
Completed in 268ms (View: 215, DB: 6) | 200 OK [http://localhost/home/funerals?parent_id=44]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#tree_funeral (for 127.0.0.1 at 2010-04-12 21:20:30) [GET]
  Parameters: {"id"=>"0"}
  [4;35;1mMenyItem Load (0.3ms)[0m   [0mSELECT * FROM `meny_items` [0m
  [4;36;1mProductCategory Load (0.2ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE ((category_type = 'Funerals') AND (parent_id = 0)) [0m
  [4;35;1mProductCategory Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `product_categories`[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 9) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 51) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 52) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 53) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 44) ORDER BY category_name ASC[0m
Completed in 37ms (View: 1, DB: 2) | 200 OK [http://localhost/admin/products/tree_funeral?id=0]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#tree_monument (for 127.0.0.1 at 2010-04-12 21:20:30) [GET]
  Parameters: {"id"=>"0"}
  [4;35;1mMenyItem Load (0.2ms)[0m   [0mSELECT * FROM `meny_items` [0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE ((category_type = 'Monuments') AND (parent_id = 0)) [0m
  [4;35;1mProductCategory Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `product_categories`[0m
  [4;36;1mProductCategory Load (0.3ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 10) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 54) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 55) ORDER BY category_name ASC[0m
Completed in 30ms (View: 1, DB: 2) | 200 OK [http://localhost/admin/products/tree_monument?id=0]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing HomeController#show_product_table (for 127.0.0.1 at 2010-04-12 21:20:40) [GET]
  Parameters: {"parent_id"=>"54"}
  [4;35;1mMenyItem Load (0.2ms)[0m   [0mSELECT * FROM `meny_items` [0m
  [4;36;1mProductCategory Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `product_categories`[0m
  [4;35;1mProductCategory Load (0.4ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.`id` = 54) LIMIT 1[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 54) ORDER BY category_name ASC[0m
  [4;35;1mProduct Load (0.3ms)[0m   [0mSELECT * FROM `products` WHERE (product_category_id IN(54)) ORDER BY created_at DESC LIMIT 0, 12[0m
  [4;36;1mUser Columns (4.5ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Rendered shared/_products (23.6ms)
Completed in 55ms (View: 22, DB: 7) | 200 OK [http://localhost/home/show_product_table?parent_id=54]
  [4;36;1mSQL (0.6ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HomeController#show_product_table (for 127.0.0.1 at 2010-04-12 21:20:41) [GET]
  Parameters: {"parent_id"=>"55"}
  [4;36;1mMenyItem Load (0.3ms)[0m   [0;1mSELECT * FROM `meny_items` [0m
  [4;35;1mProductCategory Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `product_categories`[0m
  [4;36;1mProductCategory Load (0.4ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.`id` = 55) LIMIT 1[0m
  [4;35;1mProductCategory Load (1.4ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 55) ORDER BY category_name ASC[0m
  [4;36;1mProduct Load (0.4ms)[0m   [0;1mSELECT * FROM `products` WHERE (product_category_id IN(55)) ORDER BY created_at DESC LIMIT 0, 12[0m
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mProduct Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `products`[0m
Rendered shared/_products (46.2ms)
Completed in 150ms (View: 50, DB: 7) | 200 OK [http://localhost/home/show_product_table?parent_id=55]
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HomeController#show_product_table (for 127.0.0.1 at 2010-04-12 21:20:44) [GET]
  Parameters: {"parent_id"=>"51"}
  [4;36;1mMenyItem Load (0.4ms)[0m   [0;1mSELECT * FROM `meny_items` [0m
  [4;35;1mProductCategory Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `product_categories`[0m
  [4;36;1mProductCategory Load (0.3ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.`id` = 51) LIMIT 1[0m
  [4;35;1mProductCategory Load (0.3ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 51) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.2ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 52) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 53) ORDER BY category_name ASC[0m
  [4;36;1mProduct Load (44.5ms)[0m   [0;1mSELECT * FROM `products` WHERE (product_category_id IN(52,53,51)) ORDER BY created_at DESC LIMIT 0, 12[0m
  [4;35;1mProduct Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `products`[0m
  [4;36;1mSQL (120.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM `products` WHERE (product_category_id IN(52,53,51)) [0m
  [4;35;1mUser Columns (1.9ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Rendered shared/_products (197.8ms)
Completed in 423ms (View: 217, DB: 171) | 200 OK [http://localhost/home/show_product_table?parent_id=51]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#index (for 127.0.0.1 at 2010-04-12 21:21:56) [GET]
  [4;35;1mMenyItem Load (0.1ms)[0m   [0mSELECT * FROM `meny_items` [0m
  [4;36;1mUser Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Rendering template within layouts/admin
Rendering admin/products/index
Rendered shared/_full_tree (1.6ms)
Rendered shared/_main_many (1.5ms)
Completed in 57ms (View: 28, DB: 2) | 200 OK [http://localhost/admin/products]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#tree_funeral (for 127.0.0.1 at 2010-04-12 21:21:57) [GET]
  Parameters: {"id"=>"0"}
  [4;36;1mMenyItem Load (0.2ms)[0m   [0;1mSELECT * FROM `meny_items` [0m
  [4;35;1mProductCategory Load (0.2ms)[0m   [0mSELECT * FROM `product_categories` WHERE ((category_type = 'Funerals') AND (parent_id = 0)) [0m
  [4;36;1mProductCategory Columns (11.4ms)[0m   [0;1mSHOW FIELDS FROM `product_categories`[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 9) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 51) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 52) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 53) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 44) ORDER BY category_name ASC[0m
Completed in 75ms (View: 1, DB: 12) | 200 OK [http://localhost/admin/products/tree_funeral?id=0]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#tree_monument (for 127.0.0.1 at 2010-04-12 21:21:57) [GET]
  Parameters: {"id"=>"0"}
  [4;36;1mMenyItem Load (0.2ms)[0m   [0;1mSELECT * FROM `meny_items` [0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE ((category_type = 'Monuments') AND (parent_id = 0)) [0m
  [4;36;1mProductCategory Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `product_categories`[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 10) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 54) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 55) ORDER BY category_name ASC[0m
Completed in 30ms (View: 1, DB: 2) | 200 OK [http://localhost/admin/products/tree_monument?id=0]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#show_product_table (for 127.0.0.1 at 2010-04-12 21:22:05) [GET]
  Parameters: {"parent_id"=>"51"}
  [4;36;1mMenyItem Load (0.1ms)[0m   [0;1mSELECT * FROM `meny_items` [0m
  [4;35;1mUser Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mProductCategory Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `product_categories`[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.`id` = 51) LIMIT 1[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 51) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 52) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 53) ORDER BY category_name ASC[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (product_category_id IN(52,53,51)) ORDER BY created_at DESC LIMIT 0, 12[0m
  [4;35;1mProduct Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `products`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `products` WHERE (product_category_id IN(52,53,51)) [0m
Rendered shared/_products (99.5ms)
Completed in 178ms (View: 129, DB: 4) | 200 OK [http://localhost/admin/products/show_product_table?parent_id=51]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#show_product_table (for 127.0.0.1 at 2010-04-12 21:22:06) [GET]
  Parameters: {"parent_id"=>"44"}
  [4;35;1mMenyItem Load (0.2ms)[0m   [0mSELECT * FROM `meny_items` [0m
  [4;36;1mUser Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mProductCategory Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `product_categories`[0m
  [4;35;1mProductCategory Load (1.0ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.`id` = 44) LIMIT 1[0m
  [4;36;1mProductCategory Load (0.7ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 44) ORDER BY category_name ASC[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (product_category_id IN(44)) ORDER BY created_at DESC LIMIT 0, 12[0m
Rendered shared/_products (9.4ms)
Completed in 118ms (View: 12, DB: 4) | 200 OK [http://localhost/admin/products/show_product_table?parent_id=44]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#show_product_table (for 127.0.0.1 at 2010-04-12 21:22:09) [GET]
  Parameters: {"parent_id"=>"55"}
  [4;36;1mMenyItem Load (0.1ms)[0m   [0;1mSELECT * FROM `meny_items` [0m
  [4;35;1mUser Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mProductCategory Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `product_categories`[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.`id` = 55) LIMIT 1[0m
  [4;35;1mProductCategory Load (2.7ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 55) ORDER BY category_name ASC[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (product_category_id IN(55)) ORDER BY created_at DESC LIMIT 0, 12[0m
  [4;35;1mProduct Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `products`[0m
Rendered shared/_products (19.7ms)
Completed in 67ms (View: 23, DB: 7) | 200 OK [http://localhost/admin/products/show_product_table?parent_id=55]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#show_product_table (for 127.0.0.1 at 2010-04-12 21:22:09) [GET]
  Parameters: {"parent_id"=>"54"}
  [4;36;1mMenyItem Load (0.1ms)[0m   [0;1mSELECT * FROM `meny_items` [0m
  [4;35;1mUser Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mProductCategory Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `product_categories`[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.`id` = 54) LIMIT 1[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 54) ORDER BY category_name ASC[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (product_category_id IN(54)) ORDER BY created_at DESC LIMIT 0, 12[0m
Rendered shared/_products (9.1ms)
Completed in 49ms (View: 12, DB: 3) | 200 OK [http://localhost/admin/products/show_product_table?parent_id=54]
  [4;35;1mSQL (28.5ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#show_product_table (for 127.0.0.1 at 2010-04-12 21:46:51) [GET]
  Parameters: {"parent_id"=>"55"}
  [4;35;1mMenyItem Load (0.1ms)[0m   [0mSELECT * FROM `meny_items` [0m
  [4;36;1mUser Columns (63.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mProductCategory Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `product_categories`[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.`id` = 55) LIMIT 1[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 55) ORDER BY category_name ASC[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (product_category_id IN(55)) ORDER BY created_at DESC LIMIT 0, 12[0m
  [4;36;1mProduct Columns (1.7ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
Rendered shared/_products (55.8ms)
Completed in 401ms (View: 71, DB: 96) | 200 OK [http://localhost/admin/products/show_product_table?parent_id=55]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#new (for 127.0.0.1 at 2010-04-12 21:46:53) [GET]
  Parameters: {"parent_id"=>"55"}
  [4;35;1mMenyItem Load (0.2ms)[0m   [0mSELECT * FROM `meny_items` [0m
  [4;36;1mUser Columns (15.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mProductCategory Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `product_categories`[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.`id` = 55) LIMIT 1[0m
  [4;36;1mProduct Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
Rendering template within layouts/admin
Rendering admin/products/new
Rendered admin/products/_form (27.7ms)
Rendered shared/_main_many (2.6ms)
Completed in 207ms (View: 150, DB: 18) | 200 OK [http://localhost/admin/products/new?parent_id=55]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#create (for 127.0.0.1 at 2010-04-12 21:47:01) [POST]
  Parameters: {"commit"=>"Создать", "authenticity_token"=>"NwfQ4siebA7ku9+Uom1fJehlAtx0p7p9kSCKLdLNNZA=", "product"=>{"title"=>"ва", "description"=>"<p>выа</p>"}, "parent_id"=>"55"}
  [4;35;1mMenyItem Load (0.1ms)[0m   [0mSELECT * FROM `meny_items` [0m
  [4;36;1mUser Columns (34.6ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mProductCategory Columns (2.0ms)[0m   [0;1mSHOW FIELDS FROM `product_categories`[0m
  [4;35;1mProductCategory Load (0.2ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.`id` = 55) LIMIT 1[0m
  [4;36;1mProduct Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
  [4;35;1mSQL (44.8ms)[0m   [0mBEGIN[0m
  [4;36;1mProduct Load (161.6ms)[0m   [0;1mSELECT `products`.id FROM `products` WHERE (`products`.`title` = BINARY 'ва') LIMIT 1[0m
  [4;35;1mProduct Create (260.8ms)[0m   [0mINSERT INTO `products` (`created_at`, `title`, `product_category_id`, `updated_at`, `category_type`, `description`, `product_photo_file_name`, `product_photo_content_type`, `product_photo_file_size`, `product_photo_updated_at`) VALUES('2010-04-12 18:47:02', 'ва', 55, '2010-04-12 18:47:02', 'Monuments', '<p>выа</p>', NULL, NULL, NULL, NULL)[0m
[paperclip] Saving attachments.
  [4;36;1mSQL (17.8ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost:3000/admin/products
Completed in 923ms (DB: 524) | 302 Found [http://localhost/admin/products]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#index (for 127.0.0.1 at 2010-04-12 21:47:02) [GET]
  [4;35;1mMenyItem Load (0.1ms)[0m   [0mSELECT * FROM `meny_items` [0m
  [4;36;1mUser Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Rendering template within layouts/admin
Rendering admin/products/index
Rendered shared/_full_tree (1.0ms)
Rendered shared/_main_many (1.5ms)
Completed in 40ms (View: 10, DB: 1) | 200 OK [http://localhost/admin/products]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#tree_funeral (for 127.0.0.1 at 2010-04-12 21:47:03) [GET]
  Parameters: {"id"=>"0"}
  [4;36;1mMenyItem Load (0.2ms)[0m   [0;1mSELECT * FROM `meny_items` [0m
  [4;35;1mProductCategory Load (4.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE ((category_type = 'Funerals') AND (parent_id = 0)) [0m
  [4;36;1mProductCategory Columns (2.8ms)[0m   [0;1mSHOW FIELDS FROM `product_categories`[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 9) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 51) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (1.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 52) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (3.5ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 53) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 44) ORDER BY category_name ASC[0m
Completed in 52ms (View: 1, DB: 12) | 200 OK [http://localhost/admin/products/tree_funeral?id=0]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#tree_monument (for 127.0.0.1 at 2010-04-12 21:47:04) [GET]
  Parameters: {"id"=>"0"}
  [4;36;1mMenyItem Load (0.3ms)[0m   [0;1mSELECT * FROM `meny_items` [0m
  [4;35;1mProductCategory Load (2.8ms)[0m   [0mSELECT * FROM `product_categories` WHERE ((category_type = 'Monuments') AND (parent_id = 0)) [0m
  [4;36;1mProductCategory Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `product_categories`[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 10) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.3ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 54) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.4ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 55) ORDER BY category_name ASC[0m
Completed in 41ms (View: 1, DB: 6) | 200 OK [http://localhost/admin/products/tree_monument?id=0]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#show_product_table (for 127.0.0.1 at 2010-04-12 21:47:07) [GET]
  Parameters: {"parent_id"=>"55"}
  [4;36;1mMenyItem Load (0.1ms)[0m   [0;1mSELECT * FROM `meny_items` [0m
  [4;35;1mUser Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mProductCategory Columns (2.4ms)[0m   [0mSHOW FIELDS FROM `product_categories`[0m
  [4;36;1mProductCategory Load (2.5ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.`id` = 55) LIMIT 1[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 55) ORDER BY category_name ASC[0m
  [4;36;1mProduct Load (0.4ms)[0m   [0;1mSELECT * FROM `products` WHERE (product_category_id IN(55)) ORDER BY created_at DESC LIMIT 0, 12[0m
  [4;35;1mProduct Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `products`[0m
Rendered shared/_products (27.9ms)
Completed in 78ms (View: 32, DB: 8) | 200 OK [http://localhost/admin/products/show_product_table?parent_id=55]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2010-04-12 21:47:07) [GET]

ActionController::RoutingError (No route matches "/product_photos/thumb/missing.png" with {:method=>:get}):
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendering rescues/layout (not_found)
  [4;36;1mSQL (138.6ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HomeController#index (for 127.0.0.1 at 2010-04-13 07:16:01) [GET]
  [4;36;1mMenyItem Load (228.9ms)[0m   [0;1mSELECT * FROM `meny_items` [0m
  [4;35;1mArticle Load (195.0ms)[0m   [0mSELECT * FROM `articles` WHERE (directory = 'Новости') ORDER BY created_at DESC LIMIT 0, 15[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mArticle Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `articles`[0m
Rendered shared/_tree_for_users (36.8ms)
  [4;35;1mMenyItem Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `meny_items`[0m
Rendered shared/_main_many (39.3ms)
  [4;36;1mProductCategory Load (18.0ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (show_slide = 1) [0m
  [4;35;1mProductCategory Columns (2.8ms)[0m   [0mSHOW FIELDS FROM `product_categories`[0m
Completed in 2731ms (View: 2084, DB: 585) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#tree_funeral (for 127.0.0.1 at 2010-04-13 07:16:09) [GET]
  Parameters: {"id"=>"0"}
  [4;36;1mMenyItem Load (0.2ms)[0m   [0;1mSELECT * FROM `meny_items` [0m
  [4;35;1mProductCategory Load (0.5ms)[0m   [0mSELECT * FROM `product_categories` WHERE ((category_type = 'Funerals') AND (parent_id = 0)) [0m
  [4;36;1mProductCategory Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `product_categories`[0m
  [4;35;1mProductCategory Load (8.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 9) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.4ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 51) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.3ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 52) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.2ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 53) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.2ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 44) ORDER BY category_name ASC[0m
Completed in 58ms (View: 7, DB: 11) | 200 OK [http://localhost/admin/products/tree_funeral?id=0]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#tree_monument (for 127.0.0.1 at 2010-04-13 07:16:10) [GET]
  Parameters: {"id"=>"0"}
  [4;36;1mMenyItem Load (0.1ms)[0m   [0;1mSELECT * FROM `meny_items` [0m
  [4;35;1mProductCategory Load (0.6ms)[0m   [0mSELECT * FROM `product_categories` WHERE ((category_type = 'Monuments') AND (parent_id = 0)) [0m
  [4;36;1mProductCategory Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `product_categories`[0m
  [4;35;1mProductCategory Load (0.4ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 10) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.4ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 54) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.4ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 55) ORDER BY category_name ASC[0m
Completed in 31ms (View: 1, DB: 3) | 200 OK [http://localhost/admin/products/tree_monument?id=0]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing SessionsController#new (for 127.0.0.1 at 2010-04-13 07:16:45) [GET]
  [4;36;1mMenyItem Load (0.2ms)[0m   [0;1mSELECT * FROM `meny_items` [0m
Rendering template within layouts/sessions
Rendering sessions/new
Completed in 50ms (View: 31, DB: 0) | 200 OK [http://localhost/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing SessionsController#create (for 127.0.0.1 at 2010-04-13 07:16:48) [POST]
  Parameters: {"authenticity_token"=>"Rrj/u4SS1TQHsAEqOOfxaUrpawb7M0isBOIh0et12Ts=", "login"=>"admin", "password"=>"admin1234"}
  [4;35;1mMenyItem Load (0.1ms)[0m   [0mSELECT * FROM `meny_items` [0m
  [4;36;1mUser Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`login` = 'admin') LIMIT 1[0m
Redirected to http://localhost:3000/admin/articles
Completed in 32ms (DB: 2) | 302 Found [http://localhost/session]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ArticlesController#index (for 127.0.0.1 at 2010-04-13 07:16:48) [GET]
  [4;36;1mMenyItem Load (0.2ms)[0m   [0;1mSELECT * FROM `meny_items` [0m
  [4;35;1mUser Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mArticle Load (0.4ms)[0m   [0mSELECT * FROM `articles` ORDER BY created_at DESC LIMIT 0, 15[0m
Rendering template within layouts/admin
Rendering admin/articles/index
  [4;36;1mArticle Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `articles`[0m
Rendered shared/_main_many (1.6ms)
Completed in 228ms (View: 125, DB: 3) | 200 OK [http://localhost/admin/articles]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#index (for 127.0.0.1 at 2010-04-13 07:18:25) [GET]
  [4;35;1mMenyItem Load (0.1ms)[0m   [0mSELECT * FROM `meny_items` [0m
  [4;36;1mUser Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Rendering template within layouts/admin
Rendering admin/products/index
Rendered shared/_full_tree (17.1ms)
Rendered shared/_main_many (2.6ms)
Completed in 73ms (View: 44, DB: 2) | 200 OK [http://localhost/admin/products]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#tree_funeral (for 127.0.0.1 at 2010-04-13 07:18:26) [GET]
  Parameters: {"id"=>"0"}
  [4;36;1mMenyItem Load (0.2ms)[0m   [0;1mSELECT * FROM `meny_items` [0m
  [4;35;1mProductCategory Load (0.3ms)[0m   [0mSELECT * FROM `product_categories` WHERE ((category_type = 'Funerals') AND (parent_id = 0)) [0m
  [4;36;1mProductCategory Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `product_categories`[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 9) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 51) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.2ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 52) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.2ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 53) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 44) ORDER BY category_name ASC[0m
Completed in 135ms (View: 1, DB: 3) | 200 OK [http://localhost/admin/products/tree_funeral?id=0]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#tree_monument (for 127.0.0.1 at 2010-04-13 07:18:27) [GET]
  Parameters: {"id"=>"0"}
  [4;36;1mMenyItem Load (0.2ms)[0m   [0;1mSELECT * FROM `meny_items` [0m
  [4;35;1mProductCategory Load (2.2ms)[0m   [0mSELECT * FROM `product_categories` WHERE ((category_type = 'Monuments') AND (parent_id = 0)) [0m
  [4;36;1mProductCategory Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `product_categories`[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 10) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 54) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 55) ORDER BY category_name ASC[0m
Completed in 46ms (View: 1, DB: 4) | 200 OK [http://localhost/admin/products/tree_monument?id=0]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#show_product_table (for 127.0.0.1 at 2010-04-13 07:26:20) [GET]
  Parameters: {"parent_id"=>"51"}
  [4;36;1mMenyItem Load (0.2ms)[0m   [0;1mSELECT * FROM `meny_items` [0m
  [4;35;1mUser Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mProductCategory Columns (1.8ms)[0m   [0mSHOW FIELDS FROM `product_categories`[0m
  [4;36;1mProductCategory Load (0.7ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.`id` = 51) LIMIT 1[0m
  [4;35;1mProductCategory Load (0.2ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 51) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.2ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 52) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 53) ORDER BY category_name ASC[0m
  [4;36;1mProduct Load (19.4ms)[0m   [0;1mSELECT * FROM `products` WHERE (product_category_id IN(52,53,51)) ORDER BY created_at DESC LIMIT 0, 12[0m
  [4;35;1mProduct Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `products`[0m
  [4;36;1mSQL (4.8ms)[0m   [0;1mSELECT count(*) AS count_all FROM `products` WHERE (product_category_id IN(52,53,51)) [0m
Rendered shared/_products (177.7ms)
Completed in 388ms (View: 272, DB: 31) | 200 OK [http://localhost/admin/products/show_product_table?parent_id=51]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#new (for 127.0.0.1 at 2010-04-13 07:26:23) [GET]
  Parameters: {"parent_id"=>"51"}
  [4;35;1mMenyItem Load (0.3ms)[0m   [0mSELECT * FROM `meny_items` [0m
  [4;36;1mUser Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mProductCategory Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `product_categories`[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.`id` = 51) LIMIT 1[0m
  [4;36;1mProduct Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
Rendering template within layouts/admin
Rendering admin/products/new
Rendered admin/products/_form (32.7ms)
Rendered shared/_main_many (2.9ms)
Completed in 148ms (View: 108, DB: 4) | 200 OK [http://localhost/admin/products/new?parent_id=51]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#create (for 127.0.0.1 at 2010-04-13 07:26:29) [POST]
  Parameters: {"commit"=>"Создать", "authenticity_token"=>"Rrj/u4SS1TQHsAEqOOfxaUrpawb7M0isBOIh0et12Ts=", "product"=>{"title"=>"sdf", "description"=>"<p>sdf</p>"}, "parent_id"=>"51"}
  [4;35;1mMenyItem Load (0.1ms)[0m   [0mSELECT * FROM `meny_items` [0m
  [4;36;1mUser Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mProductCategory Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `product_categories`[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.`id` = 51) LIMIT 1[0m
  [4;36;1mProduct Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
  [4;35;1mSQL (16.4ms)[0m   [0mBEGIN[0m
  [4;36;1mProduct Load (51.2ms)[0m   [0;1mSELECT `products`.id FROM `products` WHERE (`products`.`title` = BINARY 'sdf') LIMIT 1[0m
  [4;35;1mProduct Create (139.5ms)[0m   [0mINSERT INTO `products` (`created_at`, `title`, `product_category_id`, `updated_at`, `category_type`, `description`, `product_photo_file_name`, `product_photo_content_type`, `product_photo_file_size`, `product_photo_updated_at`) VALUES('2010-04-13 04:26:29', 'sdf', 51, '2010-04-13 04:26:29', 'Funerals', '<p>sdf</p>', NULL, NULL, NULL, NULL)[0m
[paperclip] Saving attachments.
  [4;36;1mSQL (3.6ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mProductCategory Load (0.2ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 51) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.3ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 52) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.2ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 53) ORDER BY category_name ASC[0m
  [4;36;1mProduct Load (0.5ms)[0m   [0;1mSELECT * FROM `products` WHERE (product_category_id IN(52,53,51)) ORDER BY created_at DESC LIMIT 0, 12[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `products` WHERE (product_category_id IN(52,53,51)) [0m

ActionView::MissingTemplate (Missing template admin/products/create.erb in view path app/views):
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2010-04-13 07:26:33) [GET]

ActionController::RoutingError (No route matches "/favicon.ico" with {:method=>:get}):
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendering rescues/layout (not_found)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#index (for 127.0.0.1 at 2010-04-13 07:32:00) [GET]
  [4;36;1mMenyItem Load (0.2ms)[0m   [0;1mSELECT * FROM `meny_items` [0m
  [4;35;1mUser Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Rendering template within layouts/admin
Rendering admin/products/index
Rendered shared/_full_tree (0.9ms)
Rendered shared/_main_many (1.4ms)
Completed in 43ms (View: 15, DB: 1) | 200 OK [http://localhost/admin/products]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2010-04-13 07:32:00) [GET]

ActionController::RoutingError (No route matches "/admin/images/favicon.ico" with {:method=>:get}):
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendering rescues/layout (not_found)
  [4;35;1mSQL (0.8ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (1.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#tree_funeral (for 127.0.0.1 at 2010-04-13 07:32:01) [GET]
  Parameters: {"id"=>"0"}
  [4;35;1mMenyItem Load (0.1ms)[0m   [0mSELECT * FROM `meny_items` [0m
  [4;36;1mProductCategory Load (0.2ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE ((category_type = 'Funerals') AND (parent_id = 0)) [0m
  [4;35;1mProductCategory Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `product_categories`[0m
  [4;36;1mProductCategory Load (0.2ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 9) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 51) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 52) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.2ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 53) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 44) ORDER BY category_name ASC[0m
Completed in 111ms (View: 1, DB: 4) | 200 OK [http://localhost/admin/products/tree_funeral?id=0]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#tree_monument (for 127.0.0.1 at 2010-04-13 07:32:01) [GET]
  Parameters: {"id"=>"0"}
  [4;35;1mMenyItem Load (0.2ms)[0m   [0mSELECT * FROM `meny_items` [0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE ((category_type = 'Monuments') AND (parent_id = 0)) [0m
  [4;35;1mProductCategory Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `product_categories`[0m
  [4;36;1mProductCategory Load (0.2ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 10) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.3ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 54) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.2ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 55) ORDER BY category_name ASC[0m
Completed in 32ms (View: 1, DB: 2) | 200 OK [http://localhost/admin/products/tree_monument?id=0]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#show_product_table (for 127.0.0.1 at 2010-04-13 07:32:03) [GET]
  Parameters: {"parent_id"=>"51"}
  [4;35;1mMenyItem Load (0.2ms)[0m   [0mSELECT * FROM `meny_items` [0m
  [4;36;1mUser Columns (9.5ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mProductCategory Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `product_categories`[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.`id` = 51) LIMIT 1[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 51) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.6ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 52) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 53) ORDER BY category_name ASC[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (product_category_id IN(52,53,51)) ORDER BY created_at DESC LIMIT 0, 12[0m
  [4;36;1mProduct Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `products` WHERE (product_category_id IN(52,53,51)) [0m
Rendered shared/_products (91.3ms)
Completed in 243ms (View: 175, DB: 13) | 200 OK [http://localhost/admin/products/show_product_table?parent_id=51]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2010-04-13 07:32:03) [GET]

ActionController::RoutingError (No route matches "/product_photos/thumb/missing.png" with {:method=>:get}):
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendering rescues/layout (not_found)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2010-04-13 07:32:03) [GET]

ActionController::RoutingError (No route matches "/admin/images/favicon.ico" with {:method=>:get}):
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendering rescues/layout (not_found)
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#index (for 127.0.0.1 at 2010-04-13 07:32:22) [GET]
  [4;36;1mMenyItem Load (0.1ms)[0m   [0;1mSELECT * FROM `meny_items` [0m
  [4;35;1mUser Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Rendering template within layouts/admin
Rendering admin/products/index
Rendered shared/_full_tree (0.8ms)
Rendered shared/_main_many (1.5ms)
Completed in 47ms (View: 18, DB: 1) | 200 OK [http://localhost/admin/products]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#tree_funeral (for 127.0.0.1 at 2010-04-13 07:32:23) [GET]
  Parameters: {"id"=>"0"}
  [4;35;1mMenyItem Load (0.1ms)[0m   [0mSELECT * FROM `meny_items` [0m
  [4;36;1mProductCategory Load (0.2ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE ((category_type = 'Funerals') AND (parent_id = 0)) [0m
  [4;35;1mProductCategory Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `product_categories`[0m
  [4;36;1mProductCategory Load (0.2ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 9) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 51) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 52) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.2ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 53) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.9ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 44) ORDER BY category_name ASC[0m
Completed in 43ms (View: 1, DB: 4) | 200 OK [http://localhost/admin/products/tree_funeral?id=0]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#tree_monument (for 127.0.0.1 at 2010-04-13 07:32:23) [GET]
  Parameters: {"id"=>"0"}
  [4;35;1mMenyItem Load (0.2ms)[0m   [0mSELECT * FROM `meny_items` [0m
  [4;36;1mProductCategory Load (0.2ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE ((category_type = 'Monuments') AND (parent_id = 0)) [0m
  [4;35;1mProductCategory Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `product_categories`[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 10) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 54) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 55) ORDER BY category_name ASC[0m
Completed in 41ms (View: 1, DB: 2) | 200 OK [http://localhost/admin/products/tree_monument?id=0]
  [4;35;1mSQL (1.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#show_product_table (for 127.0.0.1 at 2010-04-13 07:32:24) [GET]
  Parameters: {"parent_id"=>"44"}
  [4;35;1mMenyItem Load (0.2ms)[0m   [0mSELECT * FROM `meny_items` [0m
  [4;36;1mUser Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mProductCategory Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `product_categories`[0m
  [4;35;1mProductCategory Load (1.6ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.`id` = 44) LIMIT 1[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 44) ORDER BY category_name ASC[0m
  [4;35;1mProduct Load (0.4ms)[0m   [0mSELECT * FROM `products` WHERE (product_category_id IN(44)) ORDER BY created_at DESC LIMIT 0, 12[0m
Rendered shared/_products (10.6ms)
Completed in 61ms (View: 14, DB: 6) | 200 OK [http://localhost/admin/products/show_product_table?parent_id=44]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#show_product_table (for 127.0.0.1 at 2010-04-13 07:32:26) [GET]
  Parameters: {"parent_id"=>"51"}
  [4;36;1mMenyItem Load (0.1ms)[0m   [0;1mSELECT * FROM `meny_items` [0m
  [4;35;1mUser Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mProductCategory Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `product_categories`[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.`id` = 51) LIMIT 1[0m
  [4;35;1mProductCategory Load (0.3ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 51) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 52) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 53) ORDER BY category_name ASC[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (product_category_id IN(52,53,51)) ORDER BY created_at DESC LIMIT 0, 12[0m
  [4;35;1mProduct Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `products`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `products` WHERE (product_category_id IN(52,53,51)) [0m
Rendered shared/_products (89.2ms)
Completed in 157ms (View: 109, DB: 4) | 200 OK [http://localhost/admin/products/show_product_table?parent_id=51]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2010-04-13 07:32:26) [GET]

ActionController::RoutingError (No route matches "/product_photos/thumb/missing.png" with {:method=>:get}):
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendering rescues/layout (not_found)
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#show_product_table (for 127.0.0.1 at 2010-04-13 07:32:27) [GET]
  Parameters: {"parent_id"=>"54"}
  [4;35;1mMenyItem Load (0.1ms)[0m   [0mSELECT * FROM `meny_items` [0m
  [4;36;1mUser Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mProductCategory Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `product_categories`[0m
  [4;35;1mProductCategory Load (0.3ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.`id` = 54) LIMIT 1[0m
  [4;36;1mProductCategory Load (0.2ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 54) ORDER BY category_name ASC[0m
  [4;35;1mProduct Load (0.3ms)[0m   [0mSELECT * FROM `products` WHERE (product_category_id IN(54)) ORDER BY created_at DESC LIMIT 0, 12[0m
Rendered shared/_products (8.9ms)
Completed in 53ms (View: 12, DB: 3) | 200 OK [http://localhost/admin/products/show_product_table?parent_id=54]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#show_product_table (for 127.0.0.1 at 2010-04-13 07:32:29) [GET]
  Parameters: {"parent_id"=>"55"}
  [4;36;1mMenyItem Load (0.2ms)[0m   [0;1mSELECT * FROM `meny_items` [0m
  [4;35;1mUser Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mProductCategory Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `product_categories`[0m
  [4;36;1mProductCategory Load (0.3ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.`id` = 55) LIMIT 1[0m
  [4;35;1mProductCategory Load (0.2ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 55) ORDER BY category_name ASC[0m
  [4;36;1mProduct Load (0.4ms)[0m   [0;1mSELECT * FROM `products` WHERE (product_category_id IN(55)) ORDER BY created_at DESC LIMIT 0, 12[0m
  [4;35;1mProduct Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `products`[0m
Rendered shared/_products (42.8ms)
Completed in 95ms (View: 50, DB: 4) | 200 OK [http://localhost/admin/products/show_product_table?parent_id=55]
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#show_product_table (for 127.0.0.1 at 2010-04-13 07:32:49) [GET]
  Parameters: {"parent_id"=>"9"}
  [4;36;1mMenyItem Load (0.2ms)[0m   [0;1mSELECT * FROM `meny_items` [0m
  [4;35;1mUser Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mProductCategory Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `product_categories`[0m
  [4;36;1mProductCategory Load (0.5ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.`id` = 9) LIMIT 1[0m
  [4;35;1mProductCategory Load (0.3ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 9) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.4ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 51) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (1.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 52) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.2ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 53) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 44) ORDER BY category_name ASC[0m
  [4;36;1mProduct Load (0.5ms)[0m   [0;1mSELECT * FROM `products` WHERE (product_category_id IN(52,53,51,44,9)) ORDER BY created_at DESC LIMIT 0, 12[0m
  [4;35;1mProduct Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `products`[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM `products` WHERE (product_category_id IN(52,53,51,44,9)) [0m
Rendered shared/_products (89.7ms)
Completed in 158ms (View: 107, DB: 8) | 200 OK [http://localhost/admin/products/show_product_table?parent_id=9]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#index (for 127.0.0.1 at 2010-04-13 07:32:50) [GET]
  [4;35;1mMenyItem Load (0.1ms)[0m   [0mSELECT * FROM `meny_items` [0m
  [4;36;1mUser Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Rendering template within layouts/admin
Rendering admin/products/index
Rendered shared/_full_tree (0.9ms)
Rendered shared/_main_many (1.4ms)
Completed in 40ms (View: 7, DB: 2) | 200 OK [http://localhost/admin/products]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#tree_funeral (for 127.0.0.1 at 2010-04-13 07:32:52) [GET]
  Parameters: {"id"=>"0"}
  [4;36;1mMenyItem Load (0.2ms)[0m   [0;1mSELECT * FROM `meny_items` [0m
  [4;35;1mProductCategory Load (0.3ms)[0m   [0mSELECT * FROM `product_categories` WHERE ((category_type = 'Funerals') AND (parent_id = 0)) [0m
  [4;36;1mProductCategory Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `product_categories`[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 9) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.3ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 51) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 52) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 53) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 44) ORDER BY category_name ASC[0m
Completed in 108ms (View: 67, DB: 3) | 200 OK [http://localhost/admin/products/tree_funeral?id=0]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (1.8ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#tree_monument (for 127.0.0.1 at 2010-04-13 07:32:52) [GET]
  Parameters: {"id"=>"0"}
  [4;36;1mMenyItem Load (0.1ms)[0m   [0;1mSELECT * FROM `meny_items` [0m
  [4;35;1mProductCategory Load (3.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE ((category_type = 'Monuments') AND (parent_id = 0)) [0m
  [4;36;1mProductCategory Columns (1.7ms)[0m   [0;1mSHOW FIELDS FROM `product_categories`[0m
  [4;35;1mProductCategory Load (0.3ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 10) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 54) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 55) ORDER BY category_name ASC[0m
Completed in 36ms (View: 1, DB: 7) | 200 OK [http://localhost/admin/products/tree_monument?id=0]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#show_product_table (for 127.0.0.1 at 2010-04-13 07:32:52) [GET]
  Parameters: {"parent_id"=>"51"}
  [4;36;1mMenyItem Load (0.2ms)[0m   [0;1mSELECT * FROM `meny_items` [0m
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mProductCategory Columns (3.0ms)[0m   [0mSHOW FIELDS FROM `product_categories`[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.`id` = 51) LIMIT 1[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 51) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 52) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 53) ORDER BY category_name ASC[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (product_category_id IN(52,53,51)) ORDER BY created_at DESC LIMIT 0, 12[0m
  [4;35;1mProduct Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `products`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `products` WHERE (product_category_id IN(52,53,51)) [0m
Rendered shared/_products (94.3ms)
Completed in 228ms (View: 180, DB: 6) | 200 OK [http://localhost/admin/products/show_product_table?parent_id=51]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2010-04-13 07:32:53) [GET]

ActionController::RoutingError (No route matches "/product_photos/thumb/missing.png" with {:method=>:get}):
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendering rescues/layout (not_found)
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#index (for 127.0.0.1 at 2010-04-13 07:36:52) [GET]
  [4;35;1mMenyItem Load (0.1ms)[0m   [0mSELECT * FROM `meny_items` [0m
  [4;36;1mUser Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Rendering template within layouts/admin
Rendering admin/products/index
Rendered shared/_full_tree (0.9ms)
Rendered shared/_main_many (1.5ms)
Completed in 48ms (View: 19, DB: 1) | 200 OK [http://localhost/admin/products]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#tree_funeral (for 127.0.0.1 at 2010-04-13 07:36:53) [GET]
  Parameters: {"id"=>"0"}
  [4;36;1mMenyItem Load (0.2ms)[0m   [0;1mSELECT * FROM `meny_items` [0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE ((category_type = 'Funerals') AND (parent_id = 0)) [0m
  [4;36;1mProductCategory Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `product_categories`[0m
  [4;35;1mProductCategory Load (0.2ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 9) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 51) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.7ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 52) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.2ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 53) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 44) ORDER BY category_name ASC[0m
Completed in 46ms (View: 1, DB: 3) | 200 OK [http://localhost/admin/products/tree_funeral?id=0]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#tree_monument (for 127.0.0.1 at 2010-04-13 07:36:54) [GET]
  Parameters: {"id"=>"0"}
  [4;36;1mMenyItem Load (0.1ms)[0m   [0;1mSELECT * FROM `meny_items` [0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE ((category_type = 'Monuments') AND (parent_id = 0)) [0m
  [4;36;1mProductCategory Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `product_categories`[0m
  [4;35;1mProductCategory Load (2.9ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 10) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 54) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 55) ORDER BY category_name ASC[0m
Completed in 39ms (View: 1, DB: 5) | 200 OK [http://localhost/admin/products/tree_monument?id=0]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#show_product_table (for 127.0.0.1 at 2010-04-13 07:36:55) [GET]
  Parameters: {"parent_id"=>"44"}
  [4;36;1mMenyItem Load (0.2ms)[0m   [0;1mSELECT * FROM `meny_items` [0m
  [4;35;1mUser Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mProductCategory Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `product_categories`[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.`id` = 44) LIMIT 1[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 44) ORDER BY category_name ASC[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (product_category_id IN(44)) ORDER BY created_at DESC LIMIT 0, 12[0m
Rendered shared/_products (9.0ms)
Completed in 57ms (View: 12, DB: 3) | 200 OK [http://localhost/admin/products/show_product_table?parent_id=44]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#show_product_table (for 127.0.0.1 at 2010-04-13 07:36:55) [GET]
  Parameters: {"parent_id"=>"51"}
  [4;35;1mMenyItem Load (0.1ms)[0m   [0mSELECT * FROM `meny_items` [0m
  [4;36;1mUser Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mProductCategory Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `product_categories`[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.`id` = 51) LIMIT 1[0m
  [4;36;1mProductCategory Load (0.3ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 51) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 52) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 53) ORDER BY category_name ASC[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (product_category_id IN(52,53,51)) ORDER BY created_at DESC LIMIT 0, 12[0m
  [4;36;1mProduct Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `products` WHERE (product_category_id IN(52,53,51)) [0m
Rendered shared/_products (85.8ms)
Completed in 149ms (View: 103, DB: 4) | 200 OK [http://localhost/admin/products/show_product_table?parent_id=51]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2010-04-13 07:36:56) [GET]

ActionController::RoutingError (No route matches "/product_photos/thumb/missing.png" with {:method=>:get}):
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendering rescues/layout (not_found)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#index (for 127.0.0.1 at 2010-04-13 07:38:28) [GET]
  [4;36;1mMenyItem Load (0.3ms)[0m   [0;1mSELECT * FROM `meny_items` [0m
  [4;35;1mUser Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Rendering template within layouts/admin
Rendering admin/products/index
Rendered shared/_full_tree (0.9ms)
Rendered shared/_main_many (1.4ms)
Completed in 42ms (View: 13, DB: 1) | 200 OK [http://localhost/admin/products]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#tree_monument (for 127.0.0.1 at 2010-04-13 07:38:29) [GET]
  Parameters: {"id"=>"0"}
  [4;35;1mMenyItem Load (0.2ms)[0m   [0mSELECT * FROM `meny_items` [0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE ((category_type = 'Monuments') AND (parent_id = 0)) [0m
  [4;35;1mProductCategory Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `product_categories`[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 10) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 54) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 55) ORDER BY category_name ASC[0m
Completed in 31ms (View: 1, DB: 2) | 200 OK [http://localhost/admin/products/tree_monument?id=0]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#tree_funeral (for 127.0.0.1 at 2010-04-13 07:38:29) [GET]
  Parameters: {"id"=>"0"}
  [4;35;1mMenyItem Load (6.8ms)[0m   [0mSELECT * FROM `meny_items` [0m
  [4;36;1mProductCategory Load (0.2ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE ((category_type = 'Funerals') AND (parent_id = 0)) [0m
  [4;35;1mProductCategory Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `product_categories`[0m
  [4;36;1mProductCategory Load (0.7ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 9) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 51) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 52) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 53) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.2ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 44) ORDER BY category_name ASC[0m
Completed in 39ms (View: 1, DB: 9) | 200 OK [http://localhost/admin/products/tree_funeral?id=0]
  [4;35;1mSQL (2.6ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#show_product_table (for 127.0.0.1 at 2010-04-13 07:38:30) [GET]
  Parameters: {"parent_id"=>"51"}
  [4;35;1mMenyItem Load (0.2ms)[0m   [0mSELECT * FROM `meny_items` [0m
  [4;36;1mUser Columns (1.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mProductCategory Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `product_categories`[0m
  [4;35;1mProductCategory Load (5.8ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.`id` = 51) LIMIT 1[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 51) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (2.4ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 52) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 53) ORDER BY category_name ASC[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (product_category_id IN(52,53,51)) ORDER BY created_at DESC LIMIT 0, 12[0m
  [4;36;1mProduct Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `products` WHERE (product_category_id IN(52,53,51)) [0m
Rendered shared/_products (95.8ms)
Completed in 229ms (View: 114, DB: 16) | 200 OK [http://localhost/admin/products/show_product_table?parent_id=51]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2010-04-13 07:38:30) [GET]

ActionController::RoutingError (No route matches "/product_photos/thumb/missing.png" with {:method=>:get}):
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendering rescues/layout (not_found)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#show_product_table (for 127.0.0.1 at 2010-04-13 07:38:31) [GET]
  Parameters: {"parent_id"=>"44"}
  [4;36;1mMenyItem Load (0.1ms)[0m   [0;1mSELECT * FROM `meny_items` [0m
  [4;35;1mUser Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mProductCategory Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `product_categories`[0m
  [4;36;1mProductCategory Load (0.2ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.`id` = 44) LIMIT 1[0m
  [4;35;1mProductCategory Load (0.2ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 44) ORDER BY category_name ASC[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (product_category_id IN(44)) ORDER BY created_at DESC LIMIT 0, 12[0m
Rendered shared/_products (9.6ms)
Completed in 129ms (View: 13, DB: 3) | 200 OK [http://localhost/admin/products/show_product_table?parent_id=44]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#show_product_table (for 127.0.0.1 at 2010-04-13 07:38:33) [GET]
  Parameters: {"parent_id"=>"55"}
  [4;35;1mMenyItem Load (0.1ms)[0m   [0mSELECT * FROM `meny_items` [0m
  [4;36;1mUser Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mProductCategory Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `product_categories`[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.`id` = 55) LIMIT 1[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 55) ORDER BY category_name ASC[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (product_category_id IN(55)) ORDER BY created_at DESC LIMIT 0, 12[0m
  [4;36;1mProduct Columns (3.0ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
Rendered shared/_products (26.7ms)
Completed in 70ms (View: 29, DB: 6) | 200 OK [http://localhost/admin/products/show_product_table?parent_id=55]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#show_product_table (for 127.0.0.1 at 2010-04-13 07:38:34) [GET]
  Parameters: {"parent_id"=>"54"}
  [4;35;1mMenyItem Load (0.1ms)[0m   [0mSELECT * FROM `meny_items` [0m
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mProductCategory Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `product_categories`[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.`id` = 54) LIMIT 1[0m
  [4;36;1mProductCategory Load (0.2ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 54) ORDER BY category_name ASC[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (product_category_id IN(54)) ORDER BY created_at DESC LIMIT 0, 12[0m
Rendered shared/_products (9.3ms)
Completed in 121ms (View: 83, DB: 3) | 200 OK [http://localhost/admin/products/show_product_table?parent_id=54]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#show_product_table (for 127.0.0.1 at 2010-04-13 07:38:35) [GET]
  Parameters: {"parent_id"=>"51"}
  [4;36;1mMenyItem Load (0.2ms)[0m   [0;1mSELECT * FROM `meny_items` [0m
  [4;35;1mUser Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mProductCategory Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `product_categories`[0m
  [4;36;1mProductCategory Load (0.8ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.`id` = 51) LIMIT 1[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 51) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.2ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 52) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 53) ORDER BY category_name ASC[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (product_category_id IN(52,53,51)) ORDER BY created_at DESC LIMIT 0, 12[0m
  [4;35;1mProduct Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `products`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `products` WHERE (product_category_id IN(52,53,51)) [0m
Rendered shared/_products (95.6ms)
Completed in 169ms (View: 114, DB: 5) | 200 OK [http://localhost/admin/products/show_product_table?parent_id=51]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#show_product_table (for 127.0.0.1 at 2010-04-13 07:38:39) [GET]
  Parameters: {"parent_id"=>"44"}
  [4;35;1mMenyItem Load (0.1ms)[0m   [0mSELECT * FROM `meny_items` [0m
  [4;36;1mUser Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mProductCategory Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `product_categories`[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.`id` = 44) LIMIT 1[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 44) ORDER BY category_name ASC[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (product_category_id IN(44)) ORDER BY created_at DESC LIMIT 0, 12[0m
Rendered shared/_products (9.4ms)
Completed in 128ms (View: 12, DB: 3) | 200 OK [http://localhost/admin/products/show_product_table?parent_id=44]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#new (for 127.0.0.1 at 2010-04-13 07:38:43) [GET]
  Parameters: {"parent_id"=>"44"}
  [4;36;1mMenyItem Load (0.1ms)[0m   [0;1mSELECT * FROM `meny_items` [0m
  [4;35;1mUser Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mProductCategory Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `product_categories`[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.`id` = 44) LIMIT 1[0m
  [4;35;1mProduct Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `products`[0m
Rendering template within layouts/admin
Rendering admin/products/new
Rendered admin/products/_form (8.3ms)
Rendered shared/_main_many (1.6ms)
Completed in 59ms (View: 16, DB: 3) | 200 OK [http://localhost/admin/products/new?parent_id=44]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#create (for 127.0.0.1 at 2010-04-13 07:38:47) [POST]
  Parameters: {"commit"=>"Создать", "authenticity_token"=>"Rrj/u4SS1TQHsAEqOOfxaUrpawb7M0isBOIh0et12Ts=", "product"=>{"title"=>"dsf", "description"=>"<p>sdf</p>"}, "parent_id"=>"44"}
  [4;36;1mMenyItem Load (0.4ms)[0m   [0;1mSELECT * FROM `meny_items` [0m
  [4;35;1mUser Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mProductCategory Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `product_categories`[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.`id` = 44) LIMIT 1[0m
  [4;35;1mProduct Columns (12.8ms)[0m   [0mSHOW FIELDS FROM `products`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mProduct Load (0.6ms)[0m   [0mSELECT `products`.id FROM `products` WHERE (`products`.`title` = BINARY 'dsf') LIMIT 1[0m
  [4;36;1mProduct Create (26.5ms)[0m   [0;1mINSERT INTO `products` (`created_at`, `title`, `product_category_id`, `updated_at`, `category_type`, `description`, `product_photo_file_name`, `product_photo_content_type`, `product_photo_file_size`, `product_photo_updated_at`) VALUES('2010-04-13 04:38:47', 'dsf', 44, '2010-04-13 04:38:47', 'Funerals', '<p>sdf</p>', NULL, NULL, NULL, NULL)[0m
[paperclip] Saving attachments.
  [4;35;1mSQL (11.3ms)[0m   [0mCOMMIT[0m
  [4;36;1mProductCategory Load (3.2ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 44) ORDER BY category_name ASC[0m
  [4;35;1mProduct Load (0.5ms)[0m   [0mSELECT * FROM `products` WHERE (product_category_id IN(44)) ORDER BY created_at DESC LIMIT 0, 12[0m

ActionView::MissingTemplate (Missing template admin/products/create.erb in view path app/views):
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#create (for 127.0.0.1 at 2010-04-13 07:40:53) [POST]
  Parameters: {"commit"=>"Создать", "authenticity_token"=>"Rrj/u4SS1TQHsAEqOOfxaUrpawb7M0isBOIh0et12Ts=", "product"=>{"title"=>"dsf", "description"=>"<p>sdf</p>"}, "parent_id"=>"44"}
  [4;36;1mMenyItem Load (0.1ms)[0m   [0;1mSELECT * FROM `meny_items` [0m
  [4;35;1mUser Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mProductCategory Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `product_categories`[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.`id` = 44) LIMIT 1[0m
  [4;35;1mProduct Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `products`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mProduct Load (0.3ms)[0m   [0mSELECT `products`.id FROM `products` WHERE (`products`.`title` = BINARY 'dsf') LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
Rendering template within layouts/admin
Rendering admin/products/new
Rendered admin/products/_form (198.0ms)
Rendered shared/_main_many (1.6ms)
Completed in 256ms (View: 206, DB: 4) | 200 OK [http://localhost/admin/products]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#create (for 127.0.0.1 at 2010-04-13 07:41:01) [POST]
  Parameters: {"commit"=>"Создать", "authenticity_token"=>"Rrj/u4SS1TQHsAEqOOfxaUrpawb7M0isBOIh0et12Ts=", "product"=>{"title"=>"sdfsd", "description"=>"<p>sdf</p>"}, "parent_id"=>"44"}
  [4;35;1mMenyItem Load (0.1ms)[0m   [0mSELECT * FROM `meny_items` [0m
  [4;36;1mUser Columns (4.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mProductCategory Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `product_categories`[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.`id` = 44) LIMIT 1[0m
  [4;36;1mProduct Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mProduct Load (0.3ms)[0m   [0;1mSELECT `products`.id FROM `products` WHERE (`products`.`title` = BINARY 'sdfsd') LIMIT 1[0m
  [4;35;1mProduct Create (0.3ms)[0m   [0mINSERT INTO `products` (`created_at`, `title`, `product_category_id`, `updated_at`, `category_type`, `description`, `product_photo_file_name`, `product_photo_content_type`, `product_photo_file_size`, `product_photo_updated_at`) VALUES('2010-04-13 04:41:01', 'sdfsd', 44, '2010-04-13 04:41:01', 'Funerals', '<p>sdf</p>', NULL, NULL, NULL, NULL)[0m
[paperclip] Saving attachments.
  [4;36;1mSQL (5.8ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 44) ORDER BY category_name ASC[0m
  [4;36;1mProduct Load (0.4ms)[0m   [0;1mSELECT * FROM `products` WHERE (product_category_id IN(44)) ORDER BY created_at DESC LIMIT 0, 12[0m
Redirected to http://localhost:3000/admin/products
Completed in 62ms (DB: 14) | 302 Found [http://localhost/admin/products]
  [4;35;1mSQL (2.4ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#index (for 127.0.0.1 at 2010-04-13 07:41:01) [GET]
  [4;35;1mMenyItem Load (0.2ms)[0m   [0mSELECT * FROM `meny_items` [0m
  [4;36;1mUser Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (3.8ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Rendering template within layouts/admin
Rendering admin/products/index
Rendered shared/_full_tree (1.0ms)
Rendered shared/_main_many (1.5ms)
Completed in 45ms (View: 8, DB: 7) | 200 OK [http://localhost/admin/products]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#tree_funeral (for 127.0.0.1 at 2010-04-13 07:41:02) [GET]
  Parameters: {"id"=>"0"}
  [4;36;1mMenyItem Load (0.2ms)[0m   [0;1mSELECT * FROM `meny_items` [0m
  [4;35;1mProductCategory Load (0.8ms)[0m   [0mSELECT * FROM `product_categories` WHERE ((category_type = 'Funerals') AND (parent_id = 0)) [0m
  [4;36;1mProductCategory Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `product_categories`[0m
  [4;35;1mProductCategory Load (0.2ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 9) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.2ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 51) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.8ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 52) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 53) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 44) ORDER BY category_name ASC[0m
Completed in 42ms (View: 1, DB: 4) | 200 OK [http://localhost/admin/products/tree_funeral?id=0]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#tree_monument (for 127.0.0.1 at 2010-04-13 07:41:02) [GET]
  Parameters: {"id"=>"0"}
  [4;36;1mMenyItem Load (0.2ms)[0m   [0;1mSELECT * FROM `meny_items` [0m
  [4;35;1mProductCategory Load (0.4ms)[0m   [0mSELECT * FROM `product_categories` WHERE ((category_type = 'Monuments') AND (parent_id = 0)) [0m
  [4;36;1mProductCategory Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `product_categories`[0m
  [4;35;1mProductCategory Load (0.2ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 10) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 54) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 55) ORDER BY category_name ASC[0m
Completed in 33ms (View: 1, DB: 3) | 200 OK [http://localhost/admin/products/tree_monument?id=0]
  [4;36;1mSQL (195.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#show_product_table (for 127.0.0.1 at 2010-04-13 07:49:06) [GET]
  Parameters: {"parent_id"=>"51"}
  [4;36;1mMenyItem Load (0.3ms)[0m   [0;1mSELECT * FROM `meny_items` [0m
  [4;35;1mUser Columns (44.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mProductCategory Columns (2.3ms)[0m   [0mSHOW FIELDS FROM `product_categories`[0m
  [4;36;1mProductCategory Load (0.2ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.`id` = 51) LIMIT 1[0m
  [4;35;1mProductCategory Load (0.2ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 51) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.5ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 52) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.2ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 53) ORDER BY category_name ASC[0m
  [4;36;1mProduct Load (91.4ms)[0m   [0;1mSELECT * FROM `products` WHERE (product_category_id IN(52,53,51)) ORDER BY created_at DESC LIMIT 0, 12[0m
  [4;35;1mProduct Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `products`[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `products` WHERE (product_category_id IN(52,53,51)) [0m
Rendered shared/_products (237.0ms)
Completed in 754ms (View: 255, DB: 337) | 200 OK [http://localhost/admin/products/show_product_table?parent_id=51]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (1.7ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#show_product_table (for 127.0.0.1 at 2010-04-13 07:49:07) [GET]
  Parameters: {"parent_id"=>"44"}
  [4;35;1mMenyItem Load (0.2ms)[0m   [0mSELECT * FROM `meny_items` [0m
  [4;36;1mUser Columns (45.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (3.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mProductCategory Columns (1.8ms)[0m   [0;1mSHOW FIELDS FROM `product_categories`[0m
  [4;35;1mProductCategory Load (0.2ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.`id` = 44) LIMIT 1[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 44) ORDER BY category_name ASC[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (product_category_id IN(44)) ORDER BY created_at DESC LIMIT 0, 12[0m
  [4;36;1mProduct Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
Rendered shared/_products (26.0ms)
Completed in 154ms (View: 35, DB: 54) | 200 OK [http://localhost/admin/products/show_product_table?parent_id=44]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2010-04-13 07:49:07) [GET]

ActionController::RoutingError (No route matches "/product_photos/thumb/missing.png" with {:method=>:get}):
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendering rescues/layout (not_found)
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#show_product_table (for 127.0.0.1 at 2010-04-13 07:49:08) [GET]
  Parameters: {"parent_id"=>"44"}
  [4;35;1mMenyItem Load (0.2ms)[0m   [0mSELECT * FROM `meny_items` [0m
  [4;36;1mUser Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mProductCategory Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `product_categories`[0m
  [4;35;1mProductCategory Load (0.4ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.`id` = 44) LIMIT 1[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 44) ORDER BY category_name ASC[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (product_category_id IN(44)) ORDER BY created_at DESC LIMIT 0, 12[0m
  [4;36;1mProduct Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
Rendered shared/_products (25.7ms)
Completed in 75ms (View: 30, DB: 5) | 200 OK [http://localhost/admin/products/show_product_table?parent_id=44]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#destroy (for 127.0.0.1 at 2010-04-13 07:49:15) [DELETE]
  Parameters: {"authenticity_token"=>"Rrj/u4SS1TQHsAEqOOfxaUrpawb7M0isBOIh0et12Ts=", "id"=>"28"}
  [4;35;1mMenyItem Load (0.1ms)[0m   [0mSELECT * FROM `meny_items` [0m
  [4;36;1mUser Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mProduct Columns (3.4ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
  [4;35;1mProduct Load (0.5ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 28) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
[paperclip] Deleting attachments.
  [4;35;1mProduct Destroy (66.6ms)[0m   [0mDELETE FROM `products` WHERE `id` = 28[0m
  [4;36;1mSQL (58.3ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost:3000/admin/products
Completed in 298ms (DB: 131) | 302 Found [http://localhost/admin/products/28]
  [4;35;1mSQL (5.3ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#index (for 127.0.0.1 at 2010-04-13 07:49:16) [GET]
  [4;35;1mMenyItem Load (0.2ms)[0m   [0mSELECT * FROM `meny_items` [0m
  [4;36;1mUser Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mProductCategory Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `product_categories`[0m
  [4;35;1mProductCategory Load (0.3ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.`id` = 0) LIMIT 1[0m

NoMethodError (undefined method `bkank?' for nil:NilClass):
  app/controllers/admin/products_controller.rb:22:in `index'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (47.1ms)
Rendered rescues/_request_and_response (35.4ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.9ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#index (for 127.0.0.1 at 2010-04-13 07:49:26) [GET]
  [4;36;1mMenyItem Load (0.1ms)[0m   [0;1mSELECT * FROM `meny_items` [0m
  [4;35;1mUser Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mProductCategory Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `product_categories`[0m
  [4;36;1mProductCategory Load (0.5ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.`id` = 0) LIMIT 1[0m
Rendering template within layouts/admin
Rendering admin/products/index
Rendered shared/_full_tree (0.9ms)
Rendered shared/_main_many (1.4ms)
Completed in 42ms (View: 9, DB: 4) | 200 OK [http://localhost/admin/products]
  [4;35;1mSQL (0.2ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#tree_funeral (for 127.0.0.1 at 2010-04-13 07:49:27) [GET]
  Parameters: {"id"=>"0"}
  [4;35;1mMenyItem Load (0.1ms)[0m   [0mSELECT * FROM `meny_items` [0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE ((category_type = 'Funerals') AND (parent_id = 0)) [0m
  [4;35;1mProductCategory Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `product_categories`[0m
  [4;36;1mProductCategory Load (2.8ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 9) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 51) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.2ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 52) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 53) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 44) ORDER BY category_name ASC[0m
Completed in 71ms (View: 1, DB: 5) | 200 OK [http://localhost/admin/products/tree_funeral?id=0]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#tree_monument (for 127.0.0.1 at 2010-04-13 07:49:27) [GET]
  Parameters: {"id"=>"0"}
  [4;35;1mMenyItem Load (0.2ms)[0m   [0mSELECT * FROM `meny_items` [0m
  [4;36;1mProductCategory Load (4.2ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE ((category_type = 'Monuments') AND (parent_id = 0)) [0m
  [4;35;1mProductCategory Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `product_categories`[0m
  [4;36;1mProductCategory Load (2.0ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 10) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 54) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.8ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 55) ORDER BY category_name ASC[0m
Completed in 44ms (View: 1, DB: 9) | 200 OK [http://localhost/admin/products/tree_monument?id=0]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#show_product_table (for 127.0.0.1 at 2010-04-13 07:49:29) [GET]
  Parameters: {"parent_id"=>"44"}
  [4;35;1mMenyItem Load (0.2ms)[0m   [0mSELECT * FROM `meny_items` [0m
  [4;36;1mUser Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mProductCategory Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `product_categories`[0m
  [4;35;1mProductCategory Load (0.2ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.`id` = 44) LIMIT 1[0m
  [4;36;1mProductCategory Load (0.3ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 44) ORDER BY category_name ASC[0m
  [4;35;1mProduct Load (0.4ms)[0m   [0mSELECT * FROM `products` WHERE (product_category_id IN(44)) ORDER BY created_at DESC LIMIT 0, 12[0m
  [4;36;1mProduct Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
Rendered shared/_products (20.7ms)
Completed in 71ms (View: 24, DB: 5) | 200 OK [http://localhost/admin/products/show_product_table?parent_id=44]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2010-04-13 07:49:29) [GET]

ActionController::RoutingError (No route matches "/product_photos/thumb/missing.png" with {:method=>:get}):
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendering rescues/layout (not_found)
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#destroy (for 127.0.0.1 at 2010-04-13 07:49:31) [DELETE]
  Parameters: {"authenticity_token"=>"Rrj/u4SS1TQHsAEqOOfxaUrpawb7M0isBOIh0et12Ts=", "id"=>"29"}
  [4;35;1mMenyItem Load (0.4ms)[0m   [0mSELECT * FROM `meny_items` [0m
  [4;36;1mUser Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mProduct Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
  [4;35;1mProduct Load (0.3ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 29) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
[paperclip] Deleting attachments.
  [4;35;1mProduct Destroy (0.3ms)[0m   [0mDELETE FROM `products` WHERE `id` = 29[0m
  [4;36;1mSQL (58.4ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost:3000/admin/products
Completed in 101ms (DB: 62) | 302 Found [http://localhost/admin/products/29]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#index (for 127.0.0.1 at 2010-04-13 07:49:32) [GET]
  [4;35;1mMenyItem Load (0.1ms)[0m   [0mSELECT * FROM `meny_items` [0m
  [4;36;1mUser Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mProductCategory Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `product_categories`[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.`id` = 0) LIMIT 1[0m
Rendering template within layouts/admin
Rendering admin/products/index
Rendered shared/_full_tree (0.9ms)
Rendered shared/_main_many (1.4ms)
Completed in 41ms (View: 8, DB: 3) | 200 OK [http://localhost/admin/products]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#tree_funeral (for 127.0.0.1 at 2010-04-13 07:49:32) [GET]
  Parameters: {"id"=>"0"}
  [4;36;1mMenyItem Load (0.1ms)[0m   [0;1mSELECT * FROM `meny_items` [0m
  [4;35;1mProductCategory Load (0.2ms)[0m   [0mSELECT * FROM `product_categories` WHERE ((category_type = 'Funerals') AND (parent_id = 0)) [0m
  [4;36;1mProductCategory Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `product_categories`[0m
  [4;35;1mProductCategory Load (2.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 9) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.2ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 51) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.2ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 52) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 53) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 44) ORDER BY category_name ASC[0m
Completed in 43ms (View: 1, DB: 4) | 200 OK [http://localhost/admin/products/tree_funeral?id=0]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#tree_monument (for 127.0.0.1 at 2010-04-13 07:49:32) [GET]
  Parameters: {"id"=>"0"}
  [4;36;1mMenyItem Load (4.4ms)[0m   [0;1mSELECT * FROM `meny_items` [0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE ((category_type = 'Monuments') AND (parent_id = 0)) [0m
  [4;36;1mProductCategory Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `product_categories`[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 10) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 54) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 55) ORDER BY category_name ASC[0m
Completed in 32ms (View: 1, DB: 6) | 200 OK [http://localhost/admin/products/tree_monument?id=0]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#show_product_table (for 127.0.0.1 at 2010-04-13 07:49:34) [GET]
  Parameters: {"parent_id"=>"51"}
  [4;36;1mMenyItem Load (2.4ms)[0m   [0;1mSELECT * FROM `meny_items` [0m
  [4;35;1mUser Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mProductCategory Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `product_categories`[0m
  [4;36;1mProductCategory Load (0.2ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.`id` = 51) LIMIT 1[0m
  [4;35;1mProductCategory Load (0.2ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 51) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 52) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 53) ORDER BY category_name ASC[0m
  [4;36;1mProduct Load (0.8ms)[0m   [0;1mSELECT * FROM `products` WHERE (product_category_id IN(52,53,51)) ORDER BY created_at DESC LIMIT 0, 12[0m
  [4;35;1mProduct Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `products`[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSELECT count(*) AS count_all FROM `products` WHERE (product_category_id IN(52,53,51)) [0m
Rendered shared/_products (99.0ms)
Completed in 177ms (View: 120, DB: 8) | 200 OK [http://localhost/admin/products/show_product_table?parent_id=51]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2010-04-13 07:49:34) [GET]

ActionController::RoutingError (No route matches "/product_photos/thumb/missing.png" with {:method=>:get}):
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendering rescues/layout (not_found)
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#destroy (for 127.0.0.1 at 2010-04-13 07:49:38) [DELETE]
  Parameters: {"authenticity_token"=>"Rrj/u4SS1TQHsAEqOOfxaUrpawb7M0isBOIh0et12Ts=", "id"=>"27"}
  [4;35;1mMenyItem Load (0.1ms)[0m   [0mSELECT * FROM `meny_items` [0m
  [4;36;1mUser Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mProduct Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
  [4;35;1mProduct Load (0.4ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 27) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
[paperclip] Deleting attachments.
  [4;35;1mProduct Destroy (36.1ms)[0m   [0mDELETE FROM `products` WHERE `id` = 27[0m
  [4;36;1mSQL (10.2ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost:3000/admin/products
Completed in 93ms (DB: 50) | 302 Found [http://localhost/admin/products/27]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#index (for 127.0.0.1 at 2010-04-13 07:49:38) [GET]
  [4;35;1mMenyItem Load (0.2ms)[0m   [0mSELECT * FROM `meny_items` [0m
  [4;36;1mUser Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mProductCategory Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `product_categories`[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.`id` = 0) LIMIT 1[0m
Rendering template within layouts/admin
Rendering admin/products/index
Rendered shared/_full_tree (0.9ms)
Rendered shared/_main_many (1.5ms)
Completed in 41ms (View: 8, DB: 2) | 200 OK [http://localhost/admin/products]
  [4;36;1mSQL (5.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (25.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#tree_funeral (for 127.0.0.1 at 2010-04-13 07:49:39) [GET]
  Parameters: {"id"=>"0"}
  [4;36;1mMenyItem Load (0.5ms)[0m   [0;1mSELECT * FROM `meny_items` [0m
  [4;35;1mProductCategory Load (0.3ms)[0m   [0mSELECT * FROM `product_categories` WHERE ((category_type = 'Funerals') AND (parent_id = 0)) [0m
  [4;36;1mProductCategory Columns (1.8ms)[0m   [0;1mSHOW FIELDS FROM `product_categories`[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 9) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 51) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.2ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 52) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.5ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 53) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 44) ORDER BY category_name ASC[0m
Completed in 40ms (View: 1, DB: 34) | 200 OK [http://localhost/admin/products/tree_funeral?id=0]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#tree_monument (for 127.0.0.1 at 2010-04-13 07:49:39) [GET]
  Parameters: {"id"=>"0"}
  [4;36;1mMenyItem Load (0.1ms)[0m   [0;1mSELECT * FROM `meny_items` [0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE ((category_type = 'Monuments') AND (parent_id = 0)) [0m
  [4;36;1mProductCategory Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `product_categories`[0m
  [4;35;1mProductCategory Load (0.2ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 10) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 54) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 55) ORDER BY category_name ASC[0m
Completed in 32ms (View: 1, DB: 2) | 200 OK [http://localhost/admin/products/tree_monument?id=0]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#show_product_table (for 127.0.0.1 at 2010-04-13 07:49:40) [GET]
  Parameters: {"parent_id"=>"51"}
  [4;36;1mMenyItem Load (0.1ms)[0m   [0;1mSELECT * FROM `meny_items` [0m
  [4;35;1mUser Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mProductCategory Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `product_categories`[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.`id` = 51) LIMIT 1[0m
  [4;35;1mProductCategory Load (0.4ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 51) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 52) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 53) ORDER BY category_name ASC[0m
  [4;36;1mProduct Load (0.6ms)[0m   [0;1mSELECT * FROM `products` WHERE (product_category_id IN(52,53,51)) ORDER BY created_at DESC LIMIT 0, 12[0m
  [4;35;1mProduct Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `products`[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSELECT count(*) AS count_all FROM `products` WHERE (product_category_id IN(52,53,51)) [0m
Rendered shared/_products (114.7ms)
Completed in 179ms (View: 132, DB: 5) | 200 OK [http://localhost/admin/products/show_product_table?parent_id=51]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#new (for 127.0.0.1 at 2010-04-13 07:49:45) [GET]
  Parameters: {"parent_id"=>"51"}
  [4;35;1mMenyItem Load (0.2ms)[0m   [0mSELECT * FROM `meny_items` [0m
  [4;36;1mUser Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mProductCategory Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `product_categories`[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.`id` = 51) LIMIT 1[0m
  [4;36;1mProduct Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
Rendering template within layouts/admin
Rendering admin/products/new
Rendered admin/products/_form (8.5ms)
Rendered shared/_main_many (1.6ms)
Completed in 84ms (View: 41, DB: 4) | 200 OK [http://localhost/admin/products/new?parent_id=51]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#create (for 127.0.0.1 at 2010-04-13 07:49:50) [POST]
  Parameters: {"commit"=>"Создать", "authenticity_token"=>"Rrj/u4SS1TQHsAEqOOfxaUrpawb7M0isBOIh0et12Ts=", "product"=>{"title"=>"fdg", "description"=>"<p>fdg</p>"}, "parent_id"=>"51"}
  [4;35;1mMenyItem Load (0.1ms)[0m   [0mSELECT * FROM `meny_items` [0m
  [4;36;1mUser Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mProductCategory Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `product_categories`[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.`id` = 51) LIMIT 1[0m
  [4;36;1mProduct Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mProduct Load (61.4ms)[0m   [0;1mSELECT `products`.id FROM `products` WHERE (`products`.`title` = BINARY 'fdg') LIMIT 1[0m
  [4;35;1mProduct Create (70.6ms)[0m   [0mINSERT INTO `products` (`created_at`, `title`, `product_category_id`, `updated_at`, `category_type`, `description`, `product_photo_file_name`, `product_photo_content_type`, `product_photo_file_size`, `product_photo_updated_at`) VALUES('2010-04-13 04:49:50', 'fdg', 51, '2010-04-13 04:49:50', 'Funerals', '<p>fdg</p>', NULL, NULL, NULL, NULL)[0m
[paperclip] Saving attachments.
  [4;36;1mSQL (17.9ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost:3000/admin/products
Completed in 199ms (DB: 153) | 302 Found [http://localhost/admin/products]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#index (for 127.0.0.1 at 2010-04-13 07:49:50) [GET]
  [4;35;1mMenyItem Load (0.2ms)[0m   [0mSELECT * FROM `meny_items` [0m
  [4;36;1mUser Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mProductCategory Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `product_categories`[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.`id` = 0) LIMIT 1[0m
Rendering template within layouts/admin
Rendering admin/products/index
Rendered shared/_full_tree (0.8ms)
Rendered shared/_main_many (1.5ms)
Completed in 43ms (View: 8, DB: 3) | 200 OK [http://localhost/admin/products]
  [4;36;1mSQL (3.4ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#tree_funeral (for 127.0.0.1 at 2010-04-13 07:49:51) [GET]
  Parameters: {"id"=>"0"}
  [4;36;1mMenyItem Load (1.1ms)[0m   [0;1mSELECT * FROM `meny_items` [0m
  [4;35;1mProductCategory Load (1.8ms)[0m   [0mSELECT * FROM `product_categories` WHERE ((category_type = 'Funerals') AND (parent_id = 0)) [0m
  [4;36;1mProductCategory Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `product_categories`[0m
  [4;35;1mProductCategory Load (3.7ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 9) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (4.5ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 51) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 52) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.2ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 53) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 44) ORDER BY category_name ASC[0m
Completed in 47ms (View: 1, DB: 17) | 200 OK [http://localhost/admin/products/tree_funeral?id=0]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#tree_monument (for 127.0.0.1 at 2010-04-13 07:49:51) [GET]
  Parameters: {"id"=>"0"}
  [4;36;1mMenyItem Load (0.2ms)[0m   [0;1mSELECT * FROM `meny_items` [0m
  [4;35;1mProductCategory Load (0.2ms)[0m   [0mSELECT * FROM `product_categories` WHERE ((category_type = 'Monuments') AND (parent_id = 0)) [0m
  [4;36;1mProductCategory Columns (2.3ms)[0m   [0;1mSHOW FIELDS FROM `product_categories`[0m
  [4;35;1mProductCategory Load (0.5ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 10) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 54) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 55) ORDER BY category_name ASC[0m
Completed in 33ms (View: 1, DB: 4) | 200 OK [http://localhost/admin/products/tree_monument?id=0]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#show_product_table (for 127.0.0.1 at 2010-04-13 07:50:34) [GET]
  Parameters: {"parent_id"=>"51"}
  [4;36;1mMenyItem Load (0.1ms)[0m   [0;1mSELECT * FROM `meny_items` [0m
  [4;35;1mUser Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mProductCategory Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `product_categories`[0m
  [4;36;1mProductCategory Load (0.4ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.`id` = 51) LIMIT 1[0m
  [4;35;1mProductCategory Load (2.6ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 51) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (1.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 52) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 53) ORDER BY category_name ASC[0m
  [4;36;1mProduct Load (0.6ms)[0m   [0;1mSELECT * FROM `products` WHERE (product_category_id IN(52,53,51)) ORDER BY created_at DESC LIMIT 0, 12[0m
  [4;35;1mProduct Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `products`[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM `products` WHERE (product_category_id IN(52,53,51)) [0m
Rendered shared/_products (163.9ms)
Completed in 435ms (View: 183, DB: 10) | 200 OK [http://localhost/admin/products/show_product_table?parent_id=51]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2010-04-13 07:50:34) [GET]

ActionController::RoutingError (No route matches "/product_photos/thumb/missing.png" with {:method=>:get}):
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendering rescues/layout (not_found)
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#destroy (for 127.0.0.1 at 2010-04-13 07:50:36) [DELETE]
  Parameters: {"authenticity_token"=>"Rrj/u4SS1TQHsAEqOOfxaUrpawb7M0isBOIh0et12Ts=", "id"=>"30"}
  [4;35;1mMenyItem Load (0.1ms)[0m   [0mSELECT * FROM `meny_items` [0m
  [4;36;1mUser Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mProduct Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
  [4;35;1mProduct Load (0.7ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 30) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
[paperclip] Deleting attachments.
  [4;35;1mProduct Destroy (0.4ms)[0m   [0mDELETE FROM `products` WHERE `id` = 30[0m
  [4;36;1mSQL (4.5ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost:3000/admin/products
Completed in 49ms (DB: 9) | 302 Found [http://localhost/admin/products/30]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#index (for 127.0.0.1 at 2010-04-13 07:50:36) [GET]
  [4;35;1mMenyItem Load (0.1ms)[0m   [0mSELECT * FROM `meny_items` [0m
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mProductCategory Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `product_categories`[0m
  [4;35;1mProductCategory Load (0.2ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.`id` = 0) LIMIT 1[0m
Rendering template within layouts/admin
Rendering admin/products/index
Rendered shared/_full_tree (0.9ms)
Rendered shared/_main_many (1.5ms)
Completed in 47ms (View: 8, DB: 3) | 200 OK [http://localhost/admin/products]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#tree_funeral (for 127.0.0.1 at 2010-04-13 07:50:37) [GET]
  Parameters: {"id"=>"0"}
  [4;36;1mMenyItem Load (0.1ms)[0m   [0;1mSELECT * FROM `meny_items` [0m
  [4;35;1mProductCategory Load (0.2ms)[0m   [0mSELECT * FROM `product_categories` WHERE ((category_type = 'Funerals') AND (parent_id = 0)) [0m
  [4;36;1mProductCategory Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `product_categories`[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 9) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 51) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.2ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 52) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (2.3ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 53) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.2ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 44) ORDER BY category_name ASC[0m
Completed in 78ms (View: 1, DB: 4) | 200 OK [http://localhost/admin/products/tree_funeral?id=0]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#tree_monument (for 127.0.0.1 at 2010-04-13 07:50:37) [GET]
  Parameters: {"id"=>"0"}
  [4;36;1mMenyItem Load (0.1ms)[0m   [0;1mSELECT * FROM `meny_items` [0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE ((category_type = 'Monuments') AND (parent_id = 0)) [0m
  [4;36;1mProductCategory Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `product_categories`[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 10) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 54) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 55) ORDER BY category_name ASC[0m
Completed in 30ms (View: 1, DB: 2) | 200 OK [http://localhost/admin/products/tree_monument?id=0]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#show_product_table (for 127.0.0.1 at 2010-04-13 07:50:41) [GET]
  Parameters: {"parent_id"=>"51"}
  [4;36;1mMenyItem Load (0.1ms)[0m   [0;1mSELECT * FROM `meny_items` [0m
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mProductCategory Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `product_categories`[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.`id` = 51) LIMIT 1[0m
  [4;35;1mProductCategory Load (0.4ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 51) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 52) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 53) ORDER BY category_name ASC[0m
  [4;36;1mProduct Load (0.6ms)[0m   [0;1mSELECT * FROM `products` WHERE (product_category_id IN(52,53,51)) ORDER BY created_at DESC LIMIT 0, 12[0m
  [4;35;1mProduct Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `products`[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM `products` WHERE (product_category_id IN(52,53,51)) [0m
Rendered shared/_products (90.6ms)
Completed in 162ms (View: 108, DB: 5) | 200 OK [http://localhost/admin/products/show_product_table?parent_id=51]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#new (for 127.0.0.1 at 2010-04-13 07:52:44) [GET]
  Parameters: {"parent_id"=>"51"}
  [4;35;1mMenyItem Load (0.2ms)[0m   [0mSELECT * FROM `meny_items` [0m
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mProductCategory Columns (2.6ms)[0m   [0;1mSHOW FIELDS FROM `product_categories`[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.`id` = 51) LIMIT 1[0m
  [4;36;1mProduct Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
Rendering template within layouts/admin
Rendering admin/products/new
Rendered admin/products/_form (8.2ms)
Rendered shared/_main_many (1.5ms)
Completed in 59ms (View: 16, DB: 6) | 200 OK [http://localhost/admin/products/new?parent_id=51]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#create (for 127.0.0.1 at 2010-04-13 07:52:48) [POST]
  Parameters: {"commit"=>"Создать", "authenticity_token"=>"Rrj/u4SS1TQHsAEqOOfxaUrpawb7M0isBOIh0et12Ts=", "product"=>{"title"=>"sdf", "description"=>"<p>sdf</p>"}, "parent_id"=>"51"}
  [4;35;1mMenyItem Load (0.1ms)[0m   [0mSELECT * FROM `meny_items` [0m
  [4;36;1mUser Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mProductCategory Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `product_categories`[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.`id` = 51) LIMIT 1[0m
  [4;36;1mProduct Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mProduct Load (0.4ms)[0m   [0;1mSELECT `products`.id FROM `products` WHERE (`products`.`title` = BINARY 'sdf') LIMIT 1[0m
  [4;35;1mProduct Create (0.3ms)[0m   [0mINSERT INTO `products` (`created_at`, `title`, `product_category_id`, `updated_at`, `category_type`, `description`, `product_photo_file_name`, `product_photo_content_type`, `product_photo_file_size`, `product_photo_updated_at`) VALUES('2010-04-13 04:52:48', 'sdf', 51, '2010-04-13 04:52:48', 'Funerals', '<p>sdf</p>', NULL, NULL, NULL, NULL)[0m
[paperclip] Saving attachments.
  [4;36;1mSQL (6.7ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost:3000/admin/products
Completed in 59ms (DB: 11) | 302 Found [http://localhost/admin/products]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#index (for 127.0.0.1 at 2010-04-13 07:52:48) [GET]
  [4;35;1mMenyItem Load (0.1ms)[0m   [0mSELECT * FROM `meny_items` [0m
  [4;36;1mUser Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mProductCategory Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `product_categories`[0m
  [4;35;1mProductCategory Load (0.5ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.`id` = 0) LIMIT 1[0m
Rendering template within layouts/admin
Rendering admin/products/index
Rendered shared/_full_tree (0.9ms)
Rendered shared/_main_many (1.5ms)
Completed in 40ms (View: 8, DB: 3) | 200 OK [http://localhost/admin/products]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#tree_funeral (for 127.0.0.1 at 2010-04-13 07:52:49) [GET]
  Parameters: {"id"=>"0"}
  [4;36;1mMenyItem Load (0.1ms)[0m   [0;1mSELECT * FROM `meny_items` [0m
  [4;35;1mProductCategory Load (0.2ms)[0m   [0mSELECT * FROM `product_categories` WHERE ((category_type = 'Funerals') AND (parent_id = 0)) [0m
  [4;36;1mProductCategory Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `product_categories`[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 9) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 51) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 52) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 53) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (1.0ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 44) ORDER BY category_name ASC[0m
Completed in 99ms (View: 1, DB: 3) | 200 OK [http://localhost/admin/products/tree_funeral?id=0]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#tree_monument (for 127.0.0.1 at 2010-04-13 07:52:49) [GET]
  Parameters: {"id"=>"0"}
  [4;36;1mMenyItem Load (0.1ms)[0m   [0;1mSELECT * FROM `meny_items` [0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE ((category_type = 'Monuments') AND (parent_id = 0)) [0m
  [4;36;1mProductCategory Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `product_categories`[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 10) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 54) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 55) ORDER BY category_name ASC[0m
Completed in 28ms (View: 1, DB: 2) | 200 OK [http://localhost/admin/products/tree_monument?id=0]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#show_product_table (for 127.0.0.1 at 2010-04-13 07:53:48) [GET]
  Parameters: {"parent_id"=>"51"}
  [4;36;1mMenyItem Load (0.2ms)[0m   [0;1mSELECT * FROM `meny_items` [0m
  [4;35;1mUser Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mProductCategory Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `product_categories`[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.`id` = 51) LIMIT 1[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 51) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 52) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 53) ORDER BY category_name ASC[0m
  [4;36;1mProduct Load (0.7ms)[0m   [0;1mSELECT * FROM `products` WHERE (product_category_id IN(52,53,51)) ORDER BY created_at DESC LIMIT 0, 12[0m
  [4;35;1mProduct Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `products`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `products` WHERE (product_category_id IN(52,53,51)) [0m
Rendered shared/_products (97.8ms)
Completed in 242ms (View: 188, DB: 5) | 200 OK [http://localhost/admin/products/show_product_table?parent_id=51]
  [4;35;1mSQL (7.3ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2010-04-13 07:53:48) [GET]

ActionController::RoutingError (No route matches "/product_photos/thumb/missing.png" with {:method=>:get}):
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendering rescues/layout (not_found)
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#new (for 127.0.0.1 at 2010-04-13 07:53:50) [GET]
  Parameters: {"parent_id"=>"51"}
  [4;35;1mMenyItem Load (0.2ms)[0m   [0mSELECT * FROM `meny_items` [0m
  [4;36;1mUser Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mProductCategory Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `product_categories`[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.`id` = 51) LIMIT 1[0m
  [4;36;1mProduct Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
Rendering template within layouts/admin
Rendering admin/products/new
Rendered admin/products/_form (12.3ms)
Rendered shared/_main_many (1.5ms)
Completed in 63ms (View: 20, DB: 4) | 200 OK [http://localhost/admin/products/new?parent_id=51]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#create (for 127.0.0.1 at 2010-04-13 07:53:55) [POST]
  Parameters: {"commit"=>"Создать", "authenticity_token"=>"Rrj/u4SS1TQHsAEqOOfxaUrpawb7M0isBOIh0et12Ts=", "product"=>{"title"=>"sdf", "description"=>"<p>sdf</p>"}, "parent_id"=>"51"}
  [4;35;1mMenyItem Load (0.1ms)[0m   [0mSELECT * FROM `meny_items` [0m
  [4;36;1mUser Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mProductCategory Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `product_categories`[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.`id` = 51) LIMIT 1[0m
  [4;36;1mProduct Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mProduct Load (0.3ms)[0m   [0;1mSELECT `products`.id FROM `products` WHERE (`products`.`title` = BINARY 'sdf') LIMIT 1[0m
  [4;35;1mSQL (64.8ms)[0m   [0mROLLBACK[0m
Rendering template within layouts/admin
Rendering admin/products/new
Rendered admin/products/_form (290.3ms)
Rendered shared/_main_many (1.5ms)
Completed in 489ms (View: 300, DB: 69) | 200 OK [http://localhost/admin/products]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#create (for 127.0.0.1 at 2010-04-13 07:53:59) [POST]
  Parameters: {"commit"=>"Создать", "authenticity_token"=>"Rrj/u4SS1TQHsAEqOOfxaUrpawb7M0isBOIh0et12Ts=", "product"=>{"title"=>"gfsdf", "description"=>"<p>sdf</p>"}, "parent_id"=>"51"}
  [4;36;1mMenyItem Load (0.2ms)[0m   [0;1mSELECT * FROM `meny_items` [0m
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mProductCategory Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `product_categories`[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.`id` = 51) LIMIT 1[0m
  [4;35;1mProduct Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `products`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mProduct Load (0.3ms)[0m   [0mSELECT `products`.id FROM `products` WHERE (`products`.`title` = BINARY 'gfsdf') LIMIT 1[0m
  [4;36;1mProduct Create (0.2ms)[0m   [0;1mINSERT INTO `products` (`created_at`, `title`, `product_category_id`, `updated_at`, `category_type`, `description`, `product_photo_file_name`, `product_photo_content_type`, `product_photo_file_size`, `product_photo_updated_at`) VALUES('2010-04-13 04:53:59', 'gfsdf', 51, '2010-04-13 04:53:59', 'Funerals', '<p>sdf</p>', NULL, NULL, NULL, NULL)[0m
[paperclip] Saving attachments.
  [4;35;1mSQL (22.3ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost:3000/admin/products
Completed in 73ms (DB: 27) | 302 Found [http://localhost/admin/products]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#index (for 127.0.0.1 at 2010-04-13 07:53:59) [GET]
  [4;36;1mMenyItem Load (0.2ms)[0m   [0;1mSELECT * FROM `meny_items` [0m
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mProductCategory Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `product_categories`[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.`id` = 0) LIMIT 1[0m
Rendering template within layouts/admin
Rendering admin/products/index
Rendered shared/_full_tree (0.9ms)
Rendered shared/_main_many (1.5ms)
Completed in 40ms (View: 7, DB: 3) | 200 OK [http://localhost/admin/products]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#tree_funeral (for 127.0.0.1 at 2010-04-13 07:54:00) [GET]
  Parameters: {"id"=>"0"}
  [4;35;1mMenyItem Load (0.1ms)[0m   [0mSELECT * FROM `meny_items` [0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE ((category_type = 'Funerals') AND (parent_id = 0)) [0m
  [4;35;1mProductCategory Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `product_categories`[0m
  [4;36;1mProductCategory Load (0.2ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 9) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 51) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.5ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 52) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 53) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 44) ORDER BY category_name ASC[0m
Completed in 44ms (View: 3, DB: 3) | 200 OK [http://localhost/admin/products/tree_funeral?id=0]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#tree_monument (for 127.0.0.1 at 2010-04-13 07:54:00) [GET]
  Parameters: {"id"=>"0"}
  [4;35;1mMenyItem Load (0.2ms)[0m   [0mSELECT * FROM `meny_items` [0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE ((category_type = 'Monuments') AND (parent_id = 0)) [0m
  [4;35;1mProductCategory Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `product_categories`[0m
  [4;36;1mProductCategory Load (1.5ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 10) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 54) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 55) ORDER BY category_name ASC[0m
Completed in 30ms (View: 1, DB: 3) | 200 OK [http://localhost/admin/products/tree_monument?id=0]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#show_product_table (for 127.0.0.1 at 2010-04-13 07:56:04) [GET]
  Parameters: {"parent_id"=>"51"}
  [4;35;1mMenyItem Load (0.1ms)[0m   [0mSELECT * FROM `meny_items` [0m
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mProductCategory Columns (4.6ms)[0m   [0;1mSHOW FIELDS FROM `product_categories`[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.`id` = 51) LIMIT 1[0m
  [4;36;1mProductCategory Load (0.7ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 51) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (5.4ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 52) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (10.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 53) ORDER BY category_name ASC[0m
  [4;35;1mProduct Load (0.8ms)[0m   [0mSELECT * FROM `products` WHERE (product_category_id IN(52,53,51)) ORDER BY created_at DESC LIMIT 0, 12[0m
  [4;36;1mProduct Columns (2.3ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSELECT count(*) AS count_all FROM `products` WHERE (product_category_id IN(52,53,51)) [0m
Rendered shared/_products (163.7ms)
Completed in 254ms (View: 184, DB: 26) | 200 OK [http://localhost/admin/products/show_product_table?parent_id=51]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2010-04-13 07:56:05) [GET]

ActionController::RoutingError (No route matches "/product_photos/thumb/missing.png" with {:method=>:get}):
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendering rescues/layout (not_found)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#new (for 127.0.0.1 at 2010-04-13 07:56:06) [GET]
  Parameters: {"parent_id"=>"51"}
  [4;36;1mMenyItem Load (0.2ms)[0m   [0;1mSELECT * FROM `meny_items` [0m
  [4;35;1mUser Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mProductCategory Columns (3.2ms)[0m   [0mSHOW FIELDS FROM `product_categories`[0m
  [4;36;1mProductCategory Load (0.2ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.`id` = 51) LIMIT 1[0m
  [4;35;1mProduct Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `products`[0m
Rendering template within layouts/admin
Rendering admin/products/new
Rendered admin/products/_form (14.5ms)
Rendered shared/_main_many (1.4ms)
Completed in 72ms (View: 30, DB: 6) | 200 OK [http://localhost/admin/products/new?parent_id=51]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#create (for 127.0.0.1 at 2010-04-13 07:56:11) [POST]
  Parameters: {"commit"=>"Создать", "authenticity_token"=>"Rrj/u4SS1TQHsAEqOOfxaUrpawb7M0isBOIh0et12Ts=", "product"=>{"title"=>"kl", "description"=>"<p>k</p>"}, "parent_id"=>"51"}
  [4;36;1mMenyItem Load (0.1ms)[0m   [0;1mSELECT * FROM `meny_items` [0m
  [4;35;1mUser Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mProductCategory Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `product_categories`[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.`id` = 51) LIMIT 1[0m
  [4;35;1mProduct Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `products`[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mBEGIN[0m
  [4;35;1mProduct Load (0.4ms)[0m   [0mSELECT `products`.id FROM `products` WHERE (`products`.`title` = BINARY 'kl') LIMIT 1[0m
  [4;36;1mProduct Create (2.4ms)[0m   [0;1mINSERT INTO `products` (`created_at`, `title`, `product_category_id`, `updated_at`, `category_type`, `description`, `product_photo_file_name`, `product_photo_content_type`, `product_photo_file_size`, `product_photo_updated_at`) VALUES('2010-04-13 04:56:11', 'kl', 51, '2010-04-13 04:56:11', 'Funerals', '<p>k</p>', NULL, NULL, NULL, NULL)[0m
[paperclip] Saving attachments.
  [4;35;1mSQL (2.4ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost:3000/admin/products?parent_id=51
Completed in 60ms (DB: 9) | 302 Found [http://localhost/admin/products]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#index (for 127.0.0.1 at 2010-04-13 07:56:11) [GET]
  Parameters: {"parent_id"=>"51"}
  [4;36;1mMenyItem Load (0.2ms)[0m   [0;1mSELECT * FROM `meny_items` [0m
  [4;35;1mUser Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mProductCategory Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `product_categories`[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.`id` = 51) LIMIT 1[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 51) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 52) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 53) ORDER BY category_name ASC[0m
  [4;36;1mProduct Load (2.2ms)[0m   [0;1mSELECT * FROM `products` WHERE (product_category_id IN(52,53,51)) ORDER BY created_at DESC LIMIT 0, 12[0m
  [4;35;1mProduct Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `products`[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSELECT count(*) AS count_all FROM `products` WHERE (product_category_id IN(52,53,51)) [0m
Rendering template within layouts/admin
Rendering admin/products/index
Rendered shared/_products (89.5ms)
Rendered shared/_full_tree (0.8ms)
Rendered shared/_main_many (1.5ms)
Completed in 151ms (View: 98, DB: 7) | 200 OK [http://localhost/admin/products?parent_id=51]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2010-04-13 07:56:11) [GET]

ActionController::RoutingError (No route matches "/product_photos/thumb/missing.png" with {:method=>:get}):
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendering rescues/layout (not_found)
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#tree_funeral (for 127.0.0.1 at 2010-04-13 07:56:11) [GET]
  Parameters: {"id"=>"0"}
  [4;35;1mMenyItem Load (0.1ms)[0m   [0mSELECT * FROM `meny_items` [0m
  [4;36;1mProductCategory Load (0.6ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE ((category_type = 'Funerals') AND (parent_id = 0)) [0m
  [4;35;1mProductCategory Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `product_categories`[0m
  [4;36;1mProductCategory Load (0.4ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 9) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 51) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 52) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.2ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 53) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 44) ORDER BY category_name ASC[0m
Completed in 44ms (View: 1, DB: 3) | 200 OK [http://localhost/admin/products/tree_funeral?id=0]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#tree_monument (for 127.0.0.1 at 2010-04-13 07:56:12) [GET]
  Parameters: {"id"=>"0"}
  [4;35;1mMenyItem Load (0.7ms)[0m   [0mSELECT * FROM `meny_items` [0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE ((category_type = 'Monuments') AND (parent_id = 0)) [0m
  [4;35;1mProductCategory Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `product_categories`[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 10) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 54) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 55) ORDER BY category_name ASC[0m
Completed in 29ms (View: 1, DB: 2) | 200 OK [http://localhost/admin/products/tree_monument?id=0]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#index (for 127.0.0.1 at 2010-04-13 07:56:56) [GET]
  [4;35;1mMenyItem Load (0.2ms)[0m   [0mSELECT * FROM `meny_items` [0m
  [4;36;1mUser Columns (5.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mProductCategory Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `product_categories`[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.`id` = 0) LIMIT 1[0m
Rendering template within layouts/admin
Rendering admin/products/index
Rendered shared/_full_tree (0.9ms)
Rendered shared/_main_many (1.4ms)
Completed in 46ms (View: 9, DB: 7) | 200 OK [http://localhost/admin/products]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#tree_funeral (for 127.0.0.1 at 2010-04-13 07:56:56) [GET]
  Parameters: {"id"=>"0"}
  [4;36;1mMenyItem Load (0.2ms)[0m   [0;1mSELECT * FROM `meny_items` [0m
  [4;35;1mProductCategory Load (0.6ms)[0m   [0mSELECT * FROM `product_categories` WHERE ((category_type = 'Funerals') AND (parent_id = 0)) [0m
  [4;36;1mProductCategory Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `product_categories`[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 9) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 51) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 52) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 53) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 44) ORDER BY category_name ASC[0m
Completed in 37ms (View: 1, DB: 3) | 200 OK [http://localhost/admin/products/tree_funeral?id=0]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#tree_monument (for 127.0.0.1 at 2010-04-13 07:56:56) [GET]
  Parameters: {"id"=>"0"}
  [4;36;1mMenyItem Load (0.2ms)[0m   [0;1mSELECT * FROM `meny_items` [0m
  [4;35;1mProductCategory Load (1.3ms)[0m   [0mSELECT * FROM `product_categories` WHERE ((category_type = 'Monuments') AND (parent_id = 0)) [0m
  [4;36;1mProductCategory Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `product_categories`[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 10) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.3ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 54) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 55) ORDER BY category_name ASC[0m
Completed in 32ms (View: 1, DB: 3) | 200 OK [http://localhost/admin/products/tree_monument?id=0]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#show_product_table (for 127.0.0.1 at 2010-04-13 07:56:58) [GET]
  Parameters: {"parent_id"=>"44"}
  [4;36;1mMenyItem Load (0.1ms)[0m   [0;1mSELECT * FROM `meny_items` [0m
  [4;35;1mUser Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mProductCategory Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `product_categories`[0m
  [4;36;1mProductCategory Load (0.3ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.`id` = 44) LIMIT 1[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 44) ORDER BY category_name ASC[0m
  [4;36;1mProduct Load (0.5ms)[0m   [0;1mSELECT * FROM `products` WHERE (product_category_id IN(44)) ORDER BY created_at DESC LIMIT 0, 12[0m
Rendered shared/_products (9.2ms)
Completed in 157ms (View: 92, DB: 3) | 200 OK [http://localhost/admin/products/show_product_table?parent_id=44]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#new (for 127.0.0.1 at 2010-04-13 07:56:59) [GET]
  Parameters: {"parent_id"=>"44"}
  [4;35;1mMenyItem Load (0.1ms)[0m   [0mSELECT * FROM `meny_items` [0m
  [4;36;1mUser Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mProductCategory Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `product_categories`[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.`id` = 44) LIMIT 1[0m
  [4;36;1mProduct Columns (3.2ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
Rendering template within layouts/admin
Rendering admin/products/new
Rendered admin/products/_form (8.2ms)
Rendered shared/_main_many (1.5ms)
Completed in 58ms (View: 16, DB: 5) | 200 OK [http://localhost/admin/products/new?parent_id=44]
  [4;35;1mSQL (0.5ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#create (for 127.0.0.1 at 2010-04-13 07:57:03) [POST]
  Parameters: {"commit"=>"Создать", "authenticity_token"=>"Rrj/u4SS1TQHsAEqOOfxaUrpawb7M0isBOIh0et12Ts=", "product"=>{"title"=>"gf", "description"=>"<p>gf</p>"}, "parent_id"=>"44"}
  [4;35;1mMenyItem Load (0.1ms)[0m   [0mSELECT * FROM `meny_items` [0m
  [4;36;1mUser Columns (1.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mProductCategory Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `product_categories`[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.`id` = 44) LIMIT 1[0m
  [4;36;1mProduct Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mProduct Load (0.4ms)[0m   [0;1mSELECT `products`.id FROM `products` WHERE (`products`.`title` = BINARY 'gf') LIMIT 1[0m
  [4;35;1mProduct Create (0.3ms)[0m   [0mINSERT INTO `products` (`created_at`, `title`, `product_category_id`, `updated_at`, `category_type`, `description`, `product_photo_file_name`, `product_photo_content_type`, `product_photo_file_size`, `product_photo_updated_at`) VALUES('2010-04-13 04:57:03', 'gf', 44, '2010-04-13 04:57:03', 'Funerals', '<p>gf</p>', NULL, NULL, NULL, NULL)[0m
[paperclip] Saving attachments.
  [4;36;1mSQL (8.4ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost:3000/admin/products?parent_id=44
Completed in 60ms (DB: 14) | 302 Found [http://localhost/admin/products]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#index (for 127.0.0.1 at 2010-04-13 07:57:03) [GET]
  Parameters: {"parent_id"=>"44"}
  [4;35;1mMenyItem Load (0.1ms)[0m   [0mSELECT * FROM `meny_items` [0m
  [4;36;1mUser Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mProductCategory Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `product_categories`[0m
  [4;35;1mProductCategory Load (0.2ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.`id` = 44) LIMIT 1[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 44) ORDER BY category_name ASC[0m
  [4;35;1mProduct Load (0.4ms)[0m   [0mSELECT * FROM `products` WHERE (product_category_id IN(44)) ORDER BY created_at DESC LIMIT 0, 12[0m
Rendering template within layouts/admin
Rendering admin/products/index
  [4;36;1mProduct Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
Rendered shared/_products (17.3ms)
Rendered shared/_full_tree (0.9ms)
Rendered shared/_main_many (1.5ms)
Completed in 73ms (View: 24, DB: 4) | 200 OK [http://localhost/admin/products?parent_id=44]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2010-04-13 07:57:04) [GET]

ActionController::RoutingError (No route matches "/product_photos/thumb/missing.png" with {:method=>:get}):
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendering rescues/layout (not_found)
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#tree_funeral (for 127.0.0.1 at 2010-04-13 07:57:04) [GET]
  Parameters: {"id"=>"0"}
  [4;35;1mMenyItem Load (0.1ms)[0m   [0mSELECT * FROM `meny_items` [0m
  [4;36;1mProductCategory Load (0.2ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE ((category_type = 'Funerals') AND (parent_id = 0)) [0m
  [4;35;1mProductCategory Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `product_categories`[0m
  [4;36;1mProductCategory Load (0.5ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 9) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.4ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 51) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 52) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (1.0ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 53) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 44) ORDER BY category_name ASC[0m
Completed in 39ms (View: 1, DB: 4) | 200 OK [http://localhost/admin/products/tree_funeral?id=0]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#tree_monument (for 127.0.0.1 at 2010-04-13 07:57:04) [GET]
  Parameters: {"id"=>"0"}
  [4;35;1mMenyItem Load (0.2ms)[0m   [0mSELECT * FROM `meny_items` [0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE ((category_type = 'Monuments') AND (parent_id = 0)) [0m
  [4;35;1mProductCategory Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `product_categories`[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 10) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 54) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 55) ORDER BY category_name ASC[0m
Completed in 98ms (View: 1, DB: 2) | 200 OK [http://localhost/admin/products/tree_monument?id=0]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#show_product_table (for 127.0.0.1 at 2010-04-13 07:57:10) [GET]
  Parameters: {"parent_id"=>"53"}
  [4;35;1mMenyItem Load (0.3ms)[0m   [0mSELECT * FROM `meny_items` [0m
  [4;36;1mUser Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mProductCategory Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `product_categories`[0m
  [4;35;1mProductCategory Load (0.3ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.`id` = 53) LIMIT 1[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 53) ORDER BY category_name ASC[0m
  [4;35;1mProduct Load (0.4ms)[0m   [0mSELECT * FROM `products` WHERE (product_category_id IN(53)) ORDER BY created_at DESC LIMIT 0, 12[0m
  [4;36;1mProduct Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
Rendered shared/_products (33.3ms)
Completed in 80ms (View: 39, DB: 4) | 200 OK [http://localhost/admin/products/show_product_table?parent_id=53]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#new (for 127.0.0.1 at 2010-04-13 07:57:12) [GET]
  Parameters: {"parent_id"=>"53"}
  [4;35;1mMenyItem Load (0.2ms)[0m   [0mSELECT * FROM `meny_items` [0m
  [4;36;1mUser Columns (3.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mProductCategory Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `product_categories`[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.`id` = 53) LIMIT 1[0m
  [4;36;1mProduct Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
Rendering template within layouts/admin
Rendering admin/products/new
Rendered admin/products/_form (8.4ms)
Rendered shared/_main_many (1.5ms)
Completed in 58ms (View: 16, DB: 6) | 200 OK [http://localhost/admin/products/new?parent_id=53]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#create (for 127.0.0.1 at 2010-04-13 07:57:18) [POST]
  Parameters: {"commit"=>"Создать", "authenticity_token"=>"Rrj/u4SS1TQHsAEqOOfxaUrpawb7M0isBOIh0et12Ts=", "product"=>{"title"=>"jkl", "description"=>"<p>jkl</p>"}, "parent_id"=>"53"}
  [4;35;1mMenyItem Load (0.2ms)[0m   [0mSELECT * FROM `meny_items` [0m
  [4;36;1mUser Columns (3.1ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mProductCategory Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `product_categories`[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.`id` = 53) LIMIT 1[0m
  [4;36;1mProduct Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mProduct Load (0.4ms)[0m   [0;1mSELECT `products`.id FROM `products` WHERE (`products`.`title` = BINARY 'jkl') LIMIT 1[0m
  [4;35;1mProduct Create (0.3ms)[0m   [0mINSERT INTO `products` (`created_at`, `title`, `product_category_id`, `updated_at`, `category_type`, `description`, `product_photo_file_name`, `product_photo_content_type`, `product_photo_file_size`, `product_photo_updated_at`) VALUES('2010-04-13 04:57:18', 'jkl', 53, '2010-04-13 04:57:18', 'Funerals', '<p>jkl</p>', NULL, NULL, NULL, NULL)[0m
[paperclip] Saving attachments.
  [4;36;1mSQL (2.6ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost:3000/admin/products?parent_id=53
Completed in 58ms (DB: 9) | 302 Found [http://localhost/admin/products]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#index (for 127.0.0.1 at 2010-04-13 07:57:18) [GET]
  Parameters: {"parent_id"=>"53"}
  [4;35;1mMenyItem Load (0.2ms)[0m   [0mSELECT * FROM `meny_items` [0m
  [4;36;1mUser Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mProductCategory Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `product_categories`[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.`id` = 53) LIMIT 1[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 53) ORDER BY category_name ASC[0m
  [4;35;1mProduct Load (0.4ms)[0m   [0mSELECT * FROM `products` WHERE (product_category_id IN(53)) ORDER BY created_at DESC LIMIT 0, 12[0m
Rendering template within layouts/admin
Rendering admin/products/index
  [4;36;1mProduct Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
Rendered shared/_products (39.2ms)
Rendered shared/_full_tree (0.9ms)
Rendered shared/_main_many (1.4ms)
Completed in 93ms (View: 47, DB: 4) | 200 OK [http://localhost/admin/products?parent_id=53]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2010-04-13 07:57:19) [GET]

ActionController::RoutingError (No route matches "/product_photos/thumb/missing.png" with {:method=>:get}):
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendering rescues/layout (not_found)
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#tree_funeral (for 127.0.0.1 at 2010-04-13 07:57:19) [GET]
  Parameters: {"id"=>"0"}
  [4;35;1mMenyItem Load (0.1ms)[0m   [0mSELECT * FROM `meny_items` [0m
  [4;36;1mProductCategory Load (0.2ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE ((category_type = 'Funerals') AND (parent_id = 0)) [0m
  [4;35;1mProductCategory Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `product_categories`[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 9) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 51) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 52) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 53) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 44) ORDER BY category_name ASC[0m
Completed in 33ms (View: 1, DB: 2) | 200 OK [http://localhost/admin/products/tree_funeral?id=0]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#tree_monument (for 127.0.0.1 at 2010-04-13 07:57:19) [GET]
  Parameters: {"id"=>"0"}
  [4;35;1mMenyItem Load (0.2ms)[0m   [0mSELECT * FROM `meny_items` [0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE ((category_type = 'Monuments') AND (parent_id = 0)) [0m
  [4;35;1mProductCategory Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `product_categories`[0m
  [4;36;1mProductCategory Load (2.2ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 10) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 54) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 55) ORDER BY category_name ASC[0m
Completed in 31ms (View: 1, DB: 4) | 200 OK [http://localhost/admin/products/tree_monument?id=0]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#destroy (for 127.0.0.1 at 2010-04-13 07:57:22) [DELETE]
  Parameters: {"authenticity_token"=>"Rrj/u4SS1TQHsAEqOOfxaUrpawb7M0isBOIh0et12Ts=", "id"=>"35"}
  [4;35;1mMenyItem Load (0.2ms)[0m   [0mSELECT * FROM `meny_items` [0m
  [4;36;1mUser Columns (6.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mProduct Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
  [4;35;1mProduct Load (0.5ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 35) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
[paperclip] Deleting attachments.
  [4;35;1mProduct Destroy (0.3ms)[0m   [0mDELETE FROM `products` WHERE `id` = 35[0m
  [4;36;1mSQL (4.7ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost:3000/admin/products
Completed in 135ms (DB: 13) | 302 Found [http://localhost/admin/products/35]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#index (for 127.0.0.1 at 2010-04-13 07:57:23) [GET]
  [4;35;1mMenyItem Load (0.2ms)[0m   [0mSELECT * FROM `meny_items` [0m
  [4;36;1mUser Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mProductCategory Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `product_categories`[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.`id` = 0) LIMIT 1[0m
Rendering template within layouts/admin
Rendering admin/products/index
Rendered shared/_full_tree (1.1ms)
Rendered shared/_main_many (1.5ms)
Completed in 44ms (View: 9, DB: 3) | 200 OK [http://localhost/admin/products]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#tree_funeral (for 127.0.0.1 at 2010-04-13 07:57:23) [GET]
  Parameters: {"id"=>"0"}
  [4;36;1mMenyItem Load (0.2ms)[0m   [0;1mSELECT * FROM `meny_items` [0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE ((category_type = 'Funerals') AND (parent_id = 0)) [0m
  [4;36;1mProductCategory Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `product_categories`[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 9) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 51) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 52) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.2ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 53) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 44) ORDER BY category_name ASC[0m
Completed in 43ms (View: 1, DB: 2) | 200 OK [http://localhost/admin/products/tree_funeral?id=0]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#tree_monument (for 127.0.0.1 at 2010-04-13 07:57:23) [GET]
  Parameters: {"id"=>"0"}
  [4;36;1mMenyItem Load (0.1ms)[0m   [0;1mSELECT * FROM `meny_items` [0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE ((category_type = 'Monuments') AND (parent_id = 0)) [0m
  [4;36;1mProductCategory Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `product_categories`[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 10) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 54) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 55) ORDER BY category_name ASC[0m
Completed in 103ms (View: 1, DB: 2) | 200 OK [http://localhost/admin/products/tree_monument?id=0]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#show_product_table (for 127.0.0.1 at 2010-04-13 07:57:24) [GET]
  Parameters: {"parent_id"=>"51"}
  [4;36;1mMenyItem Load (2.6ms)[0m   [0;1mSELECT * FROM `meny_items` [0m
  [4;35;1mUser Columns (1.9ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mProductCategory Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `product_categories`[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.`id` = 51) LIMIT 1[0m
  [4;35;1mProductCategory Load (0.2ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 51) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 52) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 53) ORDER BY category_name ASC[0m
  [4;36;1mProduct Load (0.6ms)[0m   [0;1mSELECT * FROM `products` WHERE (product_category_id IN(52,53,51)) ORDER BY created_at DESC LIMIT 0, 12[0m
  [4;35;1mProduct Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `products`[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM `products` WHERE (product_category_id IN(52,53,51)) [0m
Rendered shared/_products (92.5ms)
Completed in 163ms (View: 109, DB: 8) | 200 OK [http://localhost/admin/products/show_product_table?parent_id=51]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2010-04-13 07:57:24) [GET]

ActionController::RoutingError (No route matches "/product_photos/thumb/missing.png" with {:method=>:get}):
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendering rescues/layout (not_found)
  [4;35;1mSQL (0.2ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#destroy (for 127.0.0.1 at 2010-04-13 07:57:28) [DELETE]
  Parameters: {"authenticity_token"=>"Rrj/u4SS1TQHsAEqOOfxaUrpawb7M0isBOIh0et12Ts=", "id"=>"31"}
  [4;35;1mMenyItem Load (0.1ms)[0m   [0mSELECT * FROM `meny_items` [0m
  [4;36;1mUser Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mProduct Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
  [4;35;1mProduct Load (0.3ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 31) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
[paperclip] Deleting attachments.
  [4;35;1mProduct Destroy (0.3ms)[0m   [0mDELETE FROM `products` WHERE `id` = 31[0m
  [4;36;1mSQL (1.5ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost:3000/admin/products
Completed in 48ms (DB: 5) | 302 Found [http://localhost/admin/products/31]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#index (for 127.0.0.1 at 2010-04-13 07:57:28) [GET]
  [4;35;1mMenyItem Load (0.1ms)[0m   [0mSELECT * FROM `meny_items` [0m
  [4;36;1mUser Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mProductCategory Columns (3.1ms)[0m   [0;1mSHOW FIELDS FROM `product_categories`[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.`id` = 0) LIMIT 1[0m
Rendering template within layouts/admin
Rendering admin/products/index
Rendered shared/_full_tree (0.8ms)
Rendered shared/_main_many (1.4ms)
Completed in 41ms (View: 7, DB: 5) | 200 OK [http://localhost/admin/products]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#tree_funeral (for 127.0.0.1 at 2010-04-13 07:57:28) [GET]
  Parameters: {"id"=>"0"}
  [4;36;1mMenyItem Load (20.2ms)[0m   [0;1mSELECT * FROM `meny_items` [0m
  [4;35;1mProductCategory Load (0.2ms)[0m   [0mSELECT * FROM `product_categories` WHERE ((category_type = 'Funerals') AND (parent_id = 0)) [0m
  [4;36;1mProductCategory Columns (17.3ms)[0m   [0;1mSHOW FIELDS FROM `product_categories`[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 9) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 51) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 52) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 53) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 44) ORDER BY category_name ASC[0m
Completed in 139ms (View: 1, DB: 38) | 200 OK [http://localhost/admin/products/tree_funeral?id=0]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#tree_monument (for 127.0.0.1 at 2010-04-13 07:57:28) [GET]
  Parameters: {"id"=>"0"}
  [4;36;1mMenyItem Load (0.1ms)[0m   [0;1mSELECT * FROM `meny_items` [0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE ((category_type = 'Monuments') AND (parent_id = 0)) [0m
  [4;36;1mProductCategory Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `product_categories`[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 10) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 54) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 55) ORDER BY category_name ASC[0m
Completed in 29ms (View: 1, DB: 2) | 200 OK [http://localhost/admin/products/tree_monument?id=0]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#show_product_table (for 127.0.0.1 at 2010-04-13 07:58:07) [GET]
  Parameters: {"parent_id"=>"44"}
  [4;36;1mMenyItem Load (0.1ms)[0m   [0;1mSELECT * FROM `meny_items` [0m
  [4;35;1mUser Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mProductCategory Columns (2.9ms)[0m   [0mSHOW FIELDS FROM `product_categories`[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.`id` = 44) LIMIT 1[0m
  [4;35;1mProductCategory Load (0.2ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 44) ORDER BY category_name ASC[0m
  [4;36;1mProduct Load (0.4ms)[0m   [0;1mSELECT * FROM `products` WHERE (product_category_id IN(44)) ORDER BY created_at DESC LIMIT 0, 12[0m
  [4;35;1mProduct Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `products`[0m
Rendered shared/_products (21.3ms)
Completed in 67ms (View: 23, DB: 7) | 200 OK [http://localhost/admin/products/show_product_table?parent_id=44]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (4.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2010-04-13 07:58:08) [GET]

ActionController::RoutingError (No route matches "/product_photos/thumb/missing.png" with {:method=>:get}):
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendering rescues/layout (not_found)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#destroy (for 127.0.0.1 at 2010-04-13 07:58:11) [DELETE]
  Parameters: {"authenticity_token"=>"Rrj/u4SS1TQHsAEqOOfxaUrpawb7M0isBOIh0et12Ts=", "id"=>"34"}
  [4;36;1mMenyItem Load (0.1ms)[0m   [0;1mSELECT * FROM `meny_items` [0m
  [4;35;1mUser Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (2.8ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mProduct Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `products`[0m
  [4;36;1mProduct Load (0.3ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 34) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
[paperclip] Deleting attachments.
  [4;36;1mProduct Destroy (0.3ms)[0m   [0;1mDELETE FROM `products` WHERE `id` = 34[0m
  [4;35;1mSQL (1.6ms)[0m   [0mCOMMIT[0m

RuntimeError (Called id for nil, which would mistakenly be 4 -- if you really wanted the id of nil, use object_id):
  app/controllers/admin/products_controller.rb:66:in `destroy'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (46.0ms)
Rendered rescues/_request_and_response (0.6ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (1.3ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#index (for 127.0.0.1 at 2010-04-13 07:59:01) [GET]
  [4;36;1mMenyItem Load (0.2ms)[0m   [0;1mSELECT * FROM `meny_items` [0m
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mProductCategory Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `product_categories`[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.`id` = 0) LIMIT 1[0m
Rendering template within layouts/admin
Rendering admin/products/index
Rendered shared/_full_tree (0.9ms)
Rendered shared/_main_many (1.4ms)
Completed in 41ms (View: 8, DB: 4) | 200 OK [http://localhost/admin/products]
  [4;35;1mSQL (7.5ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#tree_funeral (for 127.0.0.1 at 2010-04-13 07:59:02) [GET]
  Parameters: {"id"=>"0"}
  [4;35;1mMenyItem Load (0.2ms)[0m   [0mSELECT * FROM `meny_items` [0m
  [4;36;1mProductCategory Load (0.2ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE ((category_type = 'Funerals') AND (parent_id = 0)) [0m
  [4;35;1mProductCategory Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `product_categories`[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 9) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 51) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 52) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 53) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.6ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 44) ORDER BY category_name ASC[0m
Completed in 33ms (View: 1, DB: 10) | 200 OK [http://localhost/admin/products/tree_funeral?id=0]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (1.9ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#tree_monument (for 127.0.0.1 at 2010-04-13 07:59:02) [GET]
  Parameters: {"id"=>"0"}
  [4;35;1mMenyItem Load (0.2ms)[0m   [0mSELECT * FROM `meny_items` [0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE ((category_type = 'Monuments') AND (parent_id = 0)) [0m
  [4;35;1mProductCategory Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `product_categories`[0m
  [4;36;1mProductCategory Load (0.2ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 10) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 54) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.5ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 55) ORDER BY category_name ASC[0m
Completed in 57ms (View: 1, DB: 4) | 200 OK [http://localhost/admin/products/tree_monument?id=0]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#show_product_table (for 127.0.0.1 at 2010-04-13 07:59:04) [GET]
  Parameters: {"parent_id"=>"44"}
  [4;35;1mMenyItem Load (0.1ms)[0m   [0mSELECT * FROM `meny_items` [0m
  [4;36;1mUser Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mProductCategory Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `product_categories`[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.`id` = 44) LIMIT 1[0m
  [4;36;1mProductCategory Load (0.2ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 44) ORDER BY category_name ASC[0m
  [4;35;1mProduct Load (0.4ms)[0m   [0mSELECT * FROM `products` WHERE (product_category_id IN(44)) ORDER BY created_at DESC LIMIT 0, 12[0m
Rendered shared/_products (9.3ms)
Completed in 54ms (View: 12, DB: 3) | 200 OK [http://localhost/admin/products/show_product_table?parent_id=44]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#show_product_table (for 127.0.0.1 at 2010-04-13 07:59:05) [GET]
  Parameters: {"parent_id"=>"51"}
  [4;36;1mMenyItem Load (0.2ms)[0m   [0;1mSELECT * FROM `meny_items` [0m
  [4;35;1mUser Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mProductCategory Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `product_categories`[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.`id` = 51) LIMIT 1[0m
  [4;35;1mProductCategory Load (9.2ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 51) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.2ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 52) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 53) ORDER BY category_name ASC[0m
  [4;36;1mProduct Load (0.6ms)[0m   [0;1mSELECT * FROM `products` WHERE (product_category_id IN(52,53,51)) ORDER BY created_at DESC LIMIT 0, 12[0m
  [4;35;1mProduct Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `products`[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM `products` WHERE (product_category_id IN(52,53,51)) [0m
Rendered shared/_products (96.2ms)
Completed in 171ms (View: 113, DB: 14) | 200 OK [http://localhost/admin/products/show_product_table?parent_id=51]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2010-04-13 07:59:05) [GET]

ActionController::RoutingError (No route matches "/product_photos/thumb/missing.png" with {:method=>:get}):
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendering rescues/layout (not_found)
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#destroy (for 127.0.0.1 at 2010-04-13 07:59:08) [DELETE]
  Parameters: {"authenticity_token"=>"Rrj/u4SS1TQHsAEqOOfxaUrpawb7M0isBOIh0et12Ts=", "id"=>"32"}
  [4;35;1mMenyItem Load (0.3ms)[0m   [0mSELECT * FROM `meny_items` [0m
  [4;36;1mUser Columns (3.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mProductCategory Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `product_categories`[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.`id` = 0) LIMIT 1[0m
  [4;36;1mProduct Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
  [4;35;1mProduct Load (0.3ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 32) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
[paperclip] Deleting attachments.
  [4;35;1mProduct Destroy (0.3ms)[0m   [0mDELETE FROM `products` WHERE `id` = 32[0m
  [4;36;1mSQL (1.5ms)[0m   [0;1mCOMMIT[0m

RuntimeError (Called id for nil, which would mistakenly be 4 -- if you really wanted the id of nil, use object_id):
  app/controllers/admin/products_controller.rb:66:in `destroy'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (44.6ms)
Rendered rescues/_request_and_response (0.5ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#index (for 127.0.0.1 at 2010-04-13 08:01:30) [GET]
  [4;35;1mMenyItem Load (0.1ms)[0m   [0mSELECT * FROM `meny_items` [0m
  [4;36;1mUser Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mProductCategory Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `product_categories`[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.`id` = 0) LIMIT 1[0m
Rendering template within layouts/admin
Rendering admin/products/index
Rendered shared/_full_tree (0.9ms)
Rendered shared/_main_many (1.6ms)
Completed in 44ms (View: 8, DB: 3) | 200 OK [http://localhost/admin/products]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#tree_funeral (for 127.0.0.1 at 2010-04-13 08:01:31) [GET]
  Parameters: {"id"=>"0"}
  [4;36;1mMenyItem Load (3.4ms)[0m   [0;1mSELECT * FROM `meny_items` [0m
  [4;35;1mProductCategory Load (0.5ms)[0m   [0mSELECT * FROM `product_categories` WHERE ((category_type = 'Funerals') AND (parent_id = 0)) [0m
  [4;36;1mProductCategory Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `product_categories`[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 9) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 51) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.4ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 52) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 53) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 44) ORDER BY category_name ASC[0m
Completed in 41ms (View: 1, DB: 7) | 200 OK [http://localhost/admin/products/tree_funeral?id=0]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#tree_monument (for 127.0.0.1 at 2010-04-13 08:01:31) [GET]
  Parameters: {"id"=>"0"}
  [4;36;1mMenyItem Load (4.2ms)[0m   [0;1mSELECT * FROM `meny_items` [0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE ((category_type = 'Monuments') AND (parent_id = 0)) [0m
  [4;36;1mProductCategory Columns (2.4ms)[0m   [0;1mSHOW FIELDS FROM `product_categories`[0m
  [4;35;1mProductCategory Load (0.2ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 10) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 54) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.6ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 55) ORDER BY category_name ASC[0m
Completed in 45ms (View: 1, DB: 8) | 200 OK [http://localhost/admin/products/tree_monument?id=0]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#show_product_table (for 127.0.0.1 at 2010-04-13 08:01:31) [GET]
  Parameters: {"parent_id"=>"51"}
  [4;36;1mMenyItem Load (0.2ms)[0m   [0;1mSELECT * FROM `meny_items` [0m
  [4;35;1mUser Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mProductCategory Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `product_categories`[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.`id` = 51) LIMIT 1[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 51) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 52) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 53) ORDER BY category_name ASC[0m
  [4;36;1mProduct Load (0.5ms)[0m   [0;1mSELECT * FROM `products` WHERE (product_category_id IN(52,53,51)) ORDER BY created_at DESC LIMIT 0, 12[0m
  [4;35;1mProduct Columns (2.0ms)[0m   [0mSHOW FIELDS FROM `products`[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSELECT count(*) AS count_all FROM `products` WHERE (product_category_id IN(52,53,51)) [0m
Rendered shared/_products (98.1ms)
Completed in 173ms (View: 122, DB: 6) | 200 OK [http://localhost/admin/products/show_product_table?parent_id=51]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (3.7ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2010-04-13 08:01:32) [GET]

ActionController::RoutingError (No route matches "/product_photos/thumb/missing.png" with {:method=>:get}):
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendering rescues/layout (not_found)
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#destroy (for 127.0.0.1 at 2010-04-13 08:01:34) [DELETE]
  Parameters: {"authenticity_token"=>"Rrj/u4SS1TQHsAEqOOfxaUrpawb7M0isBOIh0et12Ts=", "id"=>"33"}
  [4;35;1mMenyItem Load (0.2ms)[0m   [0mSELECT * FROM `meny_items` [0m
  [4;36;1mUser Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mProductCategory Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `product_categories`[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.`id` = 0) LIMIT 1[0m
  [4;36;1mProduct Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
  [4;35;1mProduct Load (0.3ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 33) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
[paperclip] Deleting attachments.
  [4;35;1mProduct Destroy (41.4ms)[0m   [0mDELETE FROM `products` WHERE `id` = 33[0m
  [4;36;1mSQL (4.1ms)[0m   [0;1mCOMMIT[0m

RuntimeError (Called id for nil, which would mistakenly be 4 -- if you really wanted the id of nil, use object_id):
  app/controllers/admin/products_controller.rb:66:in `destroy'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (66.8ms)
Rendered rescues/_request_and_response (0.5ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.2ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#show_product_table (for 127.0.0.1 at 2010-04-13 08:01:55) [GET]
  Parameters: {"parent_id"=>"51"}
  [4;35;1mMenyItem Load (0.2ms)[0m   [0mSELECT * FROM `meny_items` [0m
  [4;36;1mUser Columns (1.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mProductCategory Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `product_categories`[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.`id` = 51) LIMIT 1[0m
  [4;36;1mProductCategory Load (0.2ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 51) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 52) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (1.8ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 53) ORDER BY category_name ASC[0m
  [4;35;1mProduct Load (0.7ms)[0m   [0mSELECT * FROM `products` WHERE (product_category_id IN(52,53,51)) ORDER BY created_at DESC LIMIT 0, 12[0m
  [4;36;1mProduct Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
  [4;35;1mSQL (0.7ms)[0m   [0mSELECT count(*) AS count_all FROM `products` WHERE (product_category_id IN(52,53,51)) [0m
Rendered shared/_products (93.8ms)
Completed in 298ms (View: 120, DB: 8) | 200 OK [http://localhost/admin/products/show_product_table?parent_id=51]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#show_product_table (for 127.0.0.1 at 2010-04-13 08:01:58) [GET]
  Parameters: {"parent_id"=>"54"}
  [4;36;1mMenyItem Load (0.2ms)[0m   [0;1mSELECT * FROM `meny_items` [0m
  [4;35;1mUser Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mProductCategory Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `product_categories`[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.`id` = 54) LIMIT 1[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 54) ORDER BY category_name ASC[0m
  [4;36;1mProduct Load (0.6ms)[0m   [0;1mSELECT * FROM `products` WHERE (product_category_id IN(54)) ORDER BY created_at DESC LIMIT 0, 12[0m
Rendered shared/_products (9.6ms)
Completed in 130ms (View: 13, DB: 3) | 200 OK [http://localhost/admin/products/show_product_table?parent_id=54]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#show_product_table (for 127.0.0.1 at 2010-04-13 08:01:59) [GET]
  Parameters: {"parent_id"=>"55"}
  [4;35;1mMenyItem Load (0.2ms)[0m   [0mSELECT * FROM `meny_items` [0m
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mProductCategory Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `product_categories`[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.`id` = 55) LIMIT 1[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 55) ORDER BY category_name ASC[0m
  [4;35;1mProduct Load (0.4ms)[0m   [0mSELECT * FROM `products` WHERE (product_category_id IN(55)) ORDER BY created_at DESC LIMIT 0, 12[0m
  [4;36;1mProduct Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
Rendered shared/_products (51.6ms)
Completed in 101ms (View: 58, DB: 4) | 200 OK [http://localhost/admin/products/show_product_table?parent_id=55]
  [4;35;1mSQL (14.3ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#index (for 127.0.0.1 at 2010-04-13 08:02:04) [GET]
  [4;35;1mMenyItem Load (0.1ms)[0m   [0mSELECT * FROM `meny_items` [0m
  [4;36;1mUser Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mProductCategory Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `product_categories`[0m
  [4;35;1mProductCategory Load (0.5ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.`id` = 0) LIMIT 1[0m
Rendering template within layouts/admin
Rendering admin/products/index
Rendered shared/_full_tree (1.0ms)
Rendered shared/_main_many (1.5ms)
Completed in 41ms (View: 8, DB: 17) | 200 OK [http://localhost/admin/products]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#tree_funeral (for 127.0.0.1 at 2010-04-13 08:02:05) [GET]
  Parameters: {"id"=>"0"}
  [4;36;1mMenyItem Load (0.1ms)[0m   [0;1mSELECT * FROM `meny_items` [0m
  [4;35;1mProductCategory Load (0.5ms)[0m   [0mSELECT * FROM `product_categories` WHERE ((category_type = 'Funerals') AND (parent_id = 0)) [0m
  [4;36;1mProductCategory Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `product_categories`[0m
  [4;35;1mProductCategory Load (0.2ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 9) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 51) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.7ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 52) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 53) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 44) ORDER BY category_name ASC[0m
Completed in 44ms (View: 1, DB: 3) | 200 OK [http://localhost/admin/products/tree_funeral?id=0]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#tree_monument (for 127.0.0.1 at 2010-04-13 08:02:05) [GET]
  Parameters: {"id"=>"0"}
  [4;36;1mMenyItem Load (0.2ms)[0m   [0;1mSELECT * FROM `meny_items` [0m
  [4;35;1mProductCategory Load (0.5ms)[0m   [0mSELECT * FROM `product_categories` WHERE ((category_type = 'Monuments') AND (parent_id = 0)) [0m
  [4;36;1mProductCategory Columns (3.0ms)[0m   [0;1mSHOW FIELDS FROM `product_categories`[0m
  [4;35;1mProductCategory Load (0.6ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 10) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 54) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.3ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 55) ORDER BY category_name ASC[0m
Completed in 38ms (View: 1, DB: 5) | 200 OK [http://localhost/admin/products/tree_monument?id=0]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#show_product_table (for 127.0.0.1 at 2010-04-13 08:02:05) [GET]
  Parameters: {"parent_id"=>"55"}
  [4;36;1mMenyItem Load (2.0ms)[0m   [0;1mSELECT * FROM `meny_items` [0m
  [4;35;1mUser Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mProductCategory Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `product_categories`[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.`id` = 55) LIMIT 1[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 55) ORDER BY category_name ASC[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (product_category_id IN(55)) ORDER BY created_at DESC LIMIT 0, 12[0m
  [4;35;1mProduct Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `products`[0m
Rendered shared/_products (33.1ms)
Completed in 92ms (View: 37, DB: 6) | 200 OK [http://localhost/admin/products/show_product_table?parent_id=55]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2010-04-13 08:02:06) [GET]

ActionController::RoutingError (No route matches "/product_photos/thumb/missing.png" with {:method=>:get}):
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendering rescues/layout (not_found)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#destroy (for 127.0.0.1 at 2010-04-13 08:02:08) [DELETE]
  Parameters: {"authenticity_token"=>"Rrj/u4SS1TQHsAEqOOfxaUrpawb7M0isBOIh0et12Ts=", "id"=>"26", "parent_id"=>"55"}
  [4;36;1mMenyItem Load (12.0ms)[0m   [0;1mSELECT * FROM `meny_items` [0m
  [4;35;1mUser Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mProductCategory Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `product_categories`[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.`id` = 55) LIMIT 1[0m
  [4;35;1mProduct Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `products`[0m
  [4;36;1mProduct Load (0.3ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 26) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
[paperclip] Deleting attachments.
  [4;36;1mProduct Destroy (0.2ms)[0m   [0;1mDELETE FROM `products` WHERE `id` = 26[0m
  [4;35;1mSQL (1.4ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost:3000/admin/products?parent_id=55
Completed in 60ms (DB: 18) | 302 Found [http://localhost/admin/products/26?parent_id=55]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#index (for 127.0.0.1 at 2010-04-13 08:02:08) [GET]
  Parameters: {"parent_id"=>"55"}
  [4;36;1mMenyItem Load (0.2ms)[0m   [0;1mSELECT * FROM `meny_items` [0m
  [4;35;1mUser Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (1.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mProductCategory Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `product_categories`[0m
  [4;36;1mProductCategory Load (0.2ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.`id` = 55) LIMIT 1[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 55) ORDER BY category_name ASC[0m
  [4;36;1mProduct Load (2.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (product_category_id IN(55)) ORDER BY created_at DESC LIMIT 0, 12[0m
Rendering template within layouts/admin
Rendering admin/products/index
  [4;35;1mProduct Columns (3.9ms)[0m   [0mSHOW FIELDS FROM `products`[0m
Rendered shared/_products (21.4ms)
Rendered shared/_full_tree (0.9ms)
Rendered shared/_main_many (1.6ms)
Completed in 82ms (View: 28, DB: 10) | 200 OK [http://localhost/admin/products?parent_id=55]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#tree_funeral (for 127.0.0.1 at 2010-04-13 08:02:08) [GET]
  Parameters: {"id"=>"0"}
  [4;36;1mMenyItem Load (0.1ms)[0m   [0;1mSELECT * FROM `meny_items` [0m
  [4;35;1mProductCategory Load (0.9ms)[0m   [0mSELECT * FROM `product_categories` WHERE ((category_type = 'Funerals') AND (parent_id = 0)) [0m
  [4;36;1mProductCategory Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `product_categories`[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 9) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.2ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 51) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.6ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 52) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 53) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 44) ORDER BY category_name ASC[0m
Completed in 43ms (View: 1, DB: 4) | 200 OK [http://localhost/admin/products/tree_funeral?id=0]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#tree_monument (for 127.0.0.1 at 2010-04-13 08:02:09) [GET]
  Parameters: {"id"=>"0"}
  [4;36;1mMenyItem Load (0.1ms)[0m   [0;1mSELECT * FROM `meny_items` [0m
  [4;35;1mProductCategory Load (0.3ms)[0m   [0mSELECT * FROM `product_categories` WHERE ((category_type = 'Monuments') AND (parent_id = 0)) [0m
  [4;36;1mProductCategory Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `product_categories`[0m
  [4;35;1mProductCategory Load (0.2ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 10) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.2ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 54) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.2ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 55) ORDER BY category_name ASC[0m
Completed in 29ms (View: 1, DB: 2) | 200 OK [http://localhost/admin/products/tree_monument?id=0]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (1.8ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#show_product_table (for 127.0.0.1 at 2010-04-13 08:02:14) [GET]
  Parameters: {"parent_id"=>"51"}
  [4;36;1mMenyItem Load (0.2ms)[0m   [0;1mSELECT * FROM `meny_items` [0m
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mProductCategory Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `product_categories`[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.`id` = 51) LIMIT 1[0m
  [4;35;1mProductCategory Load (0.7ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 51) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.2ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 52) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 53) ORDER BY category_name ASC[0m
  [4;36;1mProduct Load (0.6ms)[0m   [0;1mSELECT * FROM `products` WHERE (product_category_id IN(52,53,51)) ORDER BY created_at DESC LIMIT 0, 12[0m
  [4;35;1mProduct Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `products`[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSELECT count(*) AS count_all FROM `products` WHERE (product_category_id IN(52,53,51)) [0m
Rendered shared/_products (91.0ms)
Completed in 162ms (View: 109, DB: 7) | 200 OK [http://localhost/admin/products/show_product_table?parent_id=51]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#show_product_table (for 127.0.0.1 at 2010-04-13 08:02:15) [GET]
  Parameters: {"parent_id"=>"51"}
  [4;35;1mMenyItem Load (0.1ms)[0m   [0mSELECT * FROM `meny_items` [0m
  [4;36;1mUser Columns (2.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mProductCategory Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `product_categories`[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.`id` = 51) LIMIT 1[0m
  [4;36;1mProductCategory Load (0.3ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 51) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.2ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 52) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 53) ORDER BY category_name ASC[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (product_category_id IN(52,53,51)) ORDER BY created_at DESC LIMIT 0, 12[0m
  [4;36;1mProduct Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
  [4;35;1mSQL (1.9ms)[0m   [0mSELECT count(*) AS count_all FROM `products` WHERE (product_category_id IN(52,53,51)) [0m
Rendered shared/_products (91.0ms)
Completed in 235ms (View: 109, DB: 7) | 200 OK [http://localhost/admin/products/show_product_table?parent_id=51]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#new (for 127.0.0.1 at 2010-04-13 08:02:16) [GET]
  Parameters: {"parent_id"=>"51"}
  [4;36;1mMenyItem Load (0.2ms)[0m   [0;1mSELECT * FROM `meny_items` [0m
  [4;35;1mUser Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mProductCategory Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `product_categories`[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.`id` = 51) LIMIT 1[0m
  [4;35;1mProduct Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `products`[0m
Rendering template within layouts/admin
Rendering admin/products/new
Rendered admin/products/_form (8.5ms)
Rendered shared/_main_many (1.6ms)
Completed in 59ms (View: 17, DB: 4) | 200 OK [http://localhost/admin/products/new?parent_id=51]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#create (for 127.0.0.1 at 2010-04-13 08:02:20) [POST]
  Parameters: {"commit"=>"Создать", "authenticity_token"=>"Rrj/u4SS1TQHsAEqOOfxaUrpawb7M0isBOIh0et12Ts=", "product"=>{"title"=>"h", "description"=>"<p>h</p>"}, "parent_id"=>"51"}
  [4;36;1mMenyItem Load (0.2ms)[0m   [0;1mSELECT * FROM `meny_items` [0m
  [4;35;1mUser Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mProductCategory Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `product_categories`[0m
  [4;36;1mProductCategory Load (11.2ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.`id` = 51) LIMIT 1[0m
  [4;35;1mProduct Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `products`[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mBEGIN[0m
  [4;35;1mProduct Load (0.4ms)[0m   [0mSELECT `products`.id FROM `products` WHERE (`products`.`title` = BINARY 'h') LIMIT 1[0m
  [4;36;1mProduct Create (0.3ms)[0m   [0;1mINSERT INTO `products` (`created_at`, `title`, `product_category_id`, `updated_at`, `category_type`, `description`, `product_photo_file_name`, `product_photo_content_type`, `product_photo_file_size`, `product_photo_updated_at`) VALUES('2010-04-13 05:02:20', 'h', 51, '2010-04-13 05:02:20', 'Funerals', '<p>h</p>', NULL, NULL, NULL, NULL)[0m
[paperclip] Saving attachments.
  [4;35;1mSQL (2.8ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost:3000/admin/products?parent_id=51
Completed in 148ms (DB: 19) | 302 Found [http://localhost/admin/products]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#index (for 127.0.0.1 at 2010-04-13 08:02:20) [GET]
  Parameters: {"parent_id"=>"51"}
  [4;36;1mMenyItem Load (0.1ms)[0m   [0;1mSELECT * FROM `meny_items` [0m
  [4;35;1mUser Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mProductCategory Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `product_categories`[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.`id` = 51) LIMIT 1[0m
  [4;35;1mProductCategory Load (0.3ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 51) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 52) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 53) ORDER BY category_name ASC[0m
  [4;36;1mProduct Load (0.5ms)[0m   [0;1mSELECT * FROM `products` WHERE (product_category_id IN(52,53,51)) ORDER BY created_at DESC LIMIT 0, 12[0m
  [4;35;1mProduct Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `products`[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM `products` WHERE (product_category_id IN(52,53,51)) [0m
Rendering template within layouts/admin
Rendering admin/products/index
Rendered shared/_products (91.5ms)
Rendered shared/_full_tree (0.9ms)
Rendered shared/_main_many (1.4ms)
Completed in 150ms (View: 100, DB: 5) | 200 OK [http://localhost/admin/products?parent_id=51]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2010-04-13 08:02:21) [GET]

ActionController::RoutingError (No route matches "/product_photos/thumb/missing.png" with {:method=>:get}):
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendering rescues/layout (not_found)
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#tree_funeral (for 127.0.0.1 at 2010-04-13 08:02:21) [GET]
  Parameters: {"id"=>"0"}
  [4;35;1mMenyItem Load (0.7ms)[0m   [0mSELECT * FROM `meny_items` [0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE ((category_type = 'Funerals') AND (parent_id = 0)) [0m
  [4;35;1mProductCategory Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `product_categories`[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 9) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 51) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 52) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 53) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.2ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 44) ORDER BY category_name ASC[0m
Completed in 42ms (View: 1, DB: 3) | 200 OK [http://localhost/admin/products/tree_funeral?id=0]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#tree_monument (for 127.0.0.1 at 2010-04-13 08:02:21) [GET]
  Parameters: {"id"=>"0"}
  [4;35;1mMenyItem Load (0.2ms)[0m   [0mSELECT * FROM `meny_items` [0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE ((category_type = 'Monuments') AND (parent_id = 0)) [0m
  [4;35;1mProductCategory Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `product_categories`[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 10) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 54) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 55) ORDER BY category_name ASC[0m
Completed in 30ms (View: 1, DB: 2) | 200 OK [http://localhost/admin/products/tree_monument?id=0]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#destroy (for 127.0.0.1 at 2010-04-13 08:02:25) [DELETE]
  Parameters: {"authenticity_token"=>"Rrj/u4SS1TQHsAEqOOfxaUrpawb7M0isBOIh0et12Ts=", "id"=>"36", "parent_id"=>"51"}
  [4;35;1mMenyItem Load (0.4ms)[0m   [0mSELECT * FROM `meny_items` [0m
  [4;36;1mUser Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.9ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mProductCategory Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `product_categories`[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.`id` = 51) LIMIT 1[0m
  [4;36;1mProduct Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
  [4;35;1mProduct Load (0.4ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 36) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
[paperclip] Deleting attachments.
  [4;35;1mProduct Destroy (0.3ms)[0m   [0mDELETE FROM `products` WHERE `id` = 36[0m
  [4;36;1mSQL (6.7ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost:3000/admin/products?parent_id=51
Completed in 58ms (DB: 12) | 302 Found [http://localhost/admin/products/36?parent_id=51]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#index (for 127.0.0.1 at 2010-04-13 08:02:26) [GET]
  Parameters: {"parent_id"=>"51"}
  [4;35;1mMenyItem Load (0.2ms)[0m   [0mSELECT * FROM `meny_items` [0m
  [4;36;1mUser Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mProductCategory Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `product_categories`[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.`id` = 51) LIMIT 1[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 51) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 52) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 53) ORDER BY category_name ASC[0m
  [4;35;1mProduct Load (0.6ms)[0m   [0mSELECT * FROM `products` WHERE (product_category_id IN(52,53,51)) ORDER BY created_at DESC LIMIT 0, 12[0m
  [4;36;1mProduct Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSELECT count(*) AS count_all FROM `products` WHERE (product_category_id IN(52,53,51)) [0m
Rendering template within layouts/admin
Rendering admin/products/index
Rendered shared/_products (92.6ms)
Rendered shared/_full_tree (1.0ms)
Rendered shared/_main_many (1.5ms)
Completed in 159ms (View: 101, DB: 5) | 200 OK [http://localhost/admin/products?parent_id=51]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#tree_funeral (for 127.0.0.1 at 2010-04-13 08:02:26) [GET]
  Parameters: {"id"=>"0"}
  [4;36;1mMenyItem Load (0.2ms)[0m   [0;1mSELECT * FROM `meny_items` [0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE ((category_type = 'Funerals') AND (parent_id = 0)) [0m
  [4;36;1mProductCategory Columns (3.3ms)[0m   [0;1mSHOW FIELDS FROM `product_categories`[0m
  [4;35;1mProductCategory Load (0.2ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 9) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 51) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 52) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.2ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 53) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 44) ORDER BY category_name ASC[0m
Completed in 49ms (View: 1, DB: 5) | 200 OK [http://localhost/admin/products/tree_funeral?id=0]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#tree_monument (for 127.0.0.1 at 2010-04-13 08:02:26) [GET]
  Parameters: {"id"=>"0"}
  [4;36;1mMenyItem Load (0.2ms)[0m   [0;1mSELECT * FROM `meny_items` [0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE ((category_type = 'Monuments') AND (parent_id = 0)) [0m
  [4;36;1mProductCategory Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `product_categories`[0m
  [4;35;1mProductCategory Load (0.3ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 10) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 54) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 55) ORDER BY category_name ASC[0m
Completed in 103ms (View: 1, DB: 2) | 200 OK [http://localhost/admin/products/tree_monument?id=0]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#show_product_table (for 127.0.0.1 at 2010-04-13 08:02:56) [GET]
  Parameters: {"parent_id"=>"44"}
  [4;36;1mMenyItem Load (0.2ms)[0m   [0;1mSELECT * FROM `meny_items` [0m
  [4;35;1mUser Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mProductCategory Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `product_categories`[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.`id` = 44) LIMIT 1[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 44) ORDER BY category_name ASC[0m
  [4;36;1mProduct Load (0.3ms)[0m   [0;1mSELECT * FROM `products` WHERE (product_category_id IN(44)) ORDER BY created_at DESC LIMIT 0, 12[0m
Rendered shared/_products (8.8ms)
Completed in 54ms (View: 12, DB: 4) | 200 OK [http://localhost/admin/products/show_product_table?parent_id=44]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#show_product_table (for 127.0.0.1 at 2010-04-13 08:02:57) [GET]
  Parameters: {"parent_id"=>"51"}
  [4;35;1mMenyItem Load (0.3ms)[0m   [0mSELECT * FROM `meny_items` [0m
  [4;36;1mUser Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mProductCategory Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `product_categories`[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.`id` = 51) LIMIT 1[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 51) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.9ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 52) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 53) ORDER BY category_name ASC[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (product_category_id IN(52,53,51)) ORDER BY created_at DESC LIMIT 0, 12[0m
  [4;36;1mProduct Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `products` WHERE (product_category_id IN(52,53,51)) [0m
Rendered shared/_products (105.7ms)
Completed in 247ms (View: 195, DB: 5) | 200 OK [http://localhost/admin/products/show_product_table?parent_id=51]
  [4;36;1mSQL (12.8ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#new (for 127.0.0.1 at 2010-04-13 08:02:59) [GET]
  Parameters: {"parent_id"=>"51"}
  [4;36;1mMenyItem Load (0.1ms)[0m   [0;1mSELECT * FROM `meny_items` [0m
  [4;35;1mUser Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mProductCategory Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `product_categories`[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.`id` = 51) LIMIT 1[0m
  [4;35;1mProduct Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `products`[0m
Rendering template within layouts/admin
Rendering admin/products/new
Rendered admin/products/_form (8.2ms)
Rendered shared/_main_many (1.5ms)
Completed in 60ms (View: 16, DB: 16) | 200 OK [http://localhost/admin/products/new?parent_id=51]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#create (for 127.0.0.1 at 2010-04-13 08:03:08) [POST]
  Parameters: {"commit"=>"Создать", "authenticity_token"=>"Rrj/u4SS1TQHsAEqOOfxaUrpawb7M0isBOIh0et12Ts=", "product"=>{"title"=>"y", "description"=>"<p>y</p>"}, "parent_id"=>"51"}
  [4;36;1mMenyItem Load (0.2ms)[0m   [0;1mSELECT * FROM `meny_items` [0m
  [4;35;1mUser Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mProductCategory Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `product_categories`[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.`id` = 51) LIMIT 1[0m
  [4;35;1mProduct Columns (2.4ms)[0m   [0mSHOW FIELDS FROM `products`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mProduct Load (0.7ms)[0m   [0mSELECT `products`.id FROM `products` WHERE (`products`.`title` = BINARY 'y') LIMIT 1[0m
  [4;36;1mProduct Create (0.4ms)[0m   [0;1mINSERT INTO `products` (`created_at`, `title`, `product_category_id`, `updated_at`, `category_type`, `description`, `product_photo_file_name`, `product_photo_content_type`, `product_photo_file_size`, `product_photo_updated_at`) VALUES('2010-04-13 05:03:08', 'y', 51, '2010-04-13 05:03:08', 'Funerals', '<p>y</p>', NULL, NULL, NULL, NULL)[0m
[paperclip] Saving attachments.
  [4;35;1mSQL (2.5ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost:3000/admin/products?parent_id=51
Completed in 55ms (DB: 9) | 302 Found [http://localhost/admin/products]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#index (for 127.0.0.1 at 2010-04-13 08:03:09) [GET]
  Parameters: {"parent_id"=>"51"}
  [4;36;1mMenyItem Load (0.2ms)[0m   [0;1mSELECT * FROM `meny_items` [0m
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mProductCategory Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `product_categories`[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.`id` = 51) LIMIT 1[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 51) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 52) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 53) ORDER BY category_name ASC[0m
  [4;36;1mProduct Load (0.6ms)[0m   [0;1mSELECT * FROM `products` WHERE (product_category_id IN(52,53,51)) ORDER BY created_at DESC LIMIT 0, 12[0m
  [4;35;1mProduct Columns (2.2ms)[0m   [0mSHOW FIELDS FROM `products`[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSELECT count(*) AS count_all FROM `products` WHERE (product_category_id IN(52,53,51)) [0m
Rendering template within layouts/admin
Rendering admin/products/index
Rendered shared/_products (96.1ms)
Rendered shared/_full_tree (0.9ms)
Rendered shared/_main_many (1.5ms)
Completed in 160ms (View: 104, DB: 6) | 200 OK [http://localhost/admin/products?parent_id=51]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2010-04-13 08:03:09) [GET]

ActionController::RoutingError (No route matches "/product_photos/thumb/missing.png" with {:method=>:get}):
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendering rescues/layout (not_found)
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#tree_funeral (for 127.0.0.1 at 2010-04-13 08:03:09) [GET]
  Parameters: {"id"=>"0"}
  [4;35;1mMenyItem Load (0.1ms)[0m   [0mSELECT * FROM `meny_items` [0m
  [4;36;1mProductCategory Load (0.2ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE ((category_type = 'Funerals') AND (parent_id = 0)) [0m
  [4;35;1mProductCategory Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `product_categories`[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 9) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 51) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 52) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.2ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 53) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.2ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 44) ORDER BY category_name ASC[0m
Completed in 41ms (View: 1, DB: 2) | 200 OK [http://localhost/admin/products/tree_funeral?id=0]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#tree_monument (for 127.0.0.1 at 2010-04-13 08:03:10) [GET]
  Parameters: {"id"=>"0"}
  [4;35;1mMenyItem Load (0.1ms)[0m   [0mSELECT * FROM `meny_items` [0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE ((category_type = 'Monuments') AND (parent_id = 0)) [0m
  [4;35;1mProductCategory Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `product_categories`[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 10) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 54) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.2ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 55) ORDER BY category_name ASC[0m
Completed in 33ms (View: 1, DB: 2) | 200 OK [http://localhost/admin/products/tree_monument?id=0]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#edit (for 127.0.0.1 at 2010-04-13 08:03:11) [GET]
  Parameters: {"id"=>"37"}
  [4;35;1mMenyItem Load (0.1ms)[0m   [0mSELECT * FROM `meny_items` [0m
  [4;36;1mUser Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mProductCategory Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `product_categories`[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.`id` = 0) LIMIT 1[0m
  [4;36;1mProduct Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
  [4;35;1mProduct Load (0.4ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 37) [0m
Rendering template within layouts/admin
Rendering admin/products/edit
Rendered admin/products/_form (7.3ms)
Rendered shared/_main_many (1.6ms)
Completed in 75ms (View: 32, DB: 4) | 200 OK [http://localhost/admin/products/37/edit]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#update (for 127.0.0.1 at 2010-04-13 08:03:22) [PUT]
  Parameters: {"commit"=>"Создать", "authenticity_token"=>"Rrj/u4SS1TQHsAEqOOfxaUrpawb7M0isBOIh0et12Ts=", "id"=>"37", "product"=>{"title"=>"y", "product_photo"=>#<File:/tmp/RackMultipart20100413-2773-1h0ekrq-0>, "description"=>"<p>y</p>"}, "parent_id"=>""}
  [4;36;1mMenyItem Load (0.2ms)[0m   [0;1mSELECT * FROM `meny_items` [0m
  [4;35;1mUser Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mProductCategory Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `product_categories`[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.`id` = 0) LIMIT 1[0m
  [4;35;1mProduct Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `products`[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 37) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mProduct Load (81.3ms)[0m   [0;1mSELECT `products`.id FROM `products` WHERE (`products`.`title` = BINARY 'y' AND `products`.id <> 37) LIMIT 1[0m
  [4;35;1mProduct Update (161.7ms)[0m   [0mUPDATE `products` SET `updated_at` = '2010-04-13 05:03:24', `product_photo_updated_at` = '2010-04-13 05:03:23', `product_photo_file_name` = 'GIR-invader-zim-1404588-1280-960.jpg', `product_photo_content_type` = 'image/jpeg', `product_photo_file_size` = 266870 WHERE `id` = 37[0m
[paperclip] Saving attachments.
[paperclip] saving /home/saxa/projects/haron/public/system/product_photos/37/original/GIR-invader-zim-1404588-1280-960.jpg
[paperclip] saving /home/saxa/projects/haron/public/system/product_photos/37/thumb/GIR-invader-zim-1404588-1280-960.jpg
[paperclip] saving /home/saxa/projects/haron/public/system/product_photos/37/small/GIR-invader-zim-1404588-1280-960.jpg
  [4;36;1mSQL (2.0ms)[0m   [0;1mCOMMIT[0m

RuntimeError (Called id for nil, which would mistakenly be 4 -- if you really wanted the id of nil, use object_id):
  app/controllers/admin/products_controller.rb:56:in `update'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (45.6ms)
Rendered rescues/_request_and_response (0.9ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#edit (for 127.0.0.1 at 2010-04-13 08:03:43) [GET]
  Parameters: {"id"=>"37"}
  [4;35;1mMenyItem Load (0.2ms)[0m   [0mSELECT * FROM `meny_items` [0m
  [4;36;1mUser Columns (25.6ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mProductCategory Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `product_categories`[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.`id` = 0) LIMIT 1[0m
  [4;36;1mProduct Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
  [4;35;1mProduct Load (0.5ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 37) [0m
Rendering template within layouts/admin
Rendering admin/products/edit
Rendered admin/products/_form (18.0ms)
Rendered shared/_main_many (1.6ms)
Completed in 171ms (View: 99, DB: 29) | 200 OK [http://localhost/admin/products/37/edit]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#update (for 127.0.0.1 at 2010-04-13 08:03:45) [PUT]
  Parameters: {"commit"=>"Создать", "authenticity_token"=>"Rrj/u4SS1TQHsAEqOOfxaUrpawb7M0isBOIh0et12Ts=", "id"=>"37", "product"=>{"title"=>"y", "product_photo"=>#<File:/tmp/RackMultipart20100413-2773-1xy9dbr-0>, "description"=>"<p>y</p>"}, "parent_id"=>""}
  [4;36;1mMenyItem Load (0.1ms)[0m   [0;1mSELECT * FROM `meny_items` [0m
  [4;35;1mUser Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mProductCategory Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `product_categories`[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.`id` = 0) LIMIT 1[0m
  [4;35;1mProduct Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `products`[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 37) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mProduct Load (0.5ms)[0m   [0;1mSELECT `products`.id FROM `products` WHERE (`products`.`title` = BINARY 'y' AND `products`.id <> 37) LIMIT 1[0m
  [4;35;1mProduct Update (0.5ms)[0m   [0mUPDATE `products` SET `updated_at` = '2010-04-13 05:03:46', `product_photo_updated_at` = '2010-04-13 05:03:45' WHERE `id` = 37[0m
[paperclip] Saving attachments.
[paperclip] deleting /home/saxa/projects/haron/public/system/product_photos/37/original/GIR-invader-zim-1404588-1280-960.jpg
[paperclip] deleting /home/saxa/projects/haron/public/system/product_photos/37/thumb/GIR-invader-zim-1404588-1280-960.jpg
[paperclip] deleting /home/saxa/projects/haron/public/system/product_photos/37/small/GIR-invader-zim-1404588-1280-960.jpg
[paperclip] saving /home/saxa/projects/haron/public/system/product_photos/37/original/GIR-invader-zim-1404588-1280-960.jpg
[paperclip] saving /home/saxa/projects/haron/public/system/product_photos/37/thumb/GIR-invader-zim-1404588-1280-960.jpg
[paperclip] saving /home/saxa/projects/haron/public/system/product_photos/37/small/GIR-invader-zim-1404588-1280-960.jpg
  [4;36;1mSQL (4.4ms)[0m   [0;1mCOMMIT[0m

RuntimeError (Called id for nil, which would mistakenly be 4 -- if you really wanted the id of nil, use object_id):
  app/controllers/admin/products_controller.rb:56:in `update'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (48.5ms)
Rendered rescues/_request_and_response (0.9ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.3ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#index (for 127.0.0.1 at 2010-04-13 08:03:50) [GET]
  Parameters: {"parent_id"=>"51"}
  [4;35;1mMenyItem Load (0.1ms)[0m   [0mSELECT * FROM `meny_items` [0m
  [4;36;1mUser Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mProductCategory Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `product_categories`[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.`id` = 51) LIMIT 1[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 51) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 52) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 53) ORDER BY category_name ASC[0m
  [4;35;1mProduct Load (0.5ms)[0m   [0mSELECT * FROM `products` WHERE (product_category_id IN(52,53,51)) ORDER BY created_at DESC LIMIT 0, 12[0m
  [4;36;1mProduct Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `products` WHERE (product_category_id IN(52,53,51)) [0m
Rendering template within layouts/admin
Rendering admin/products/index
Rendered shared/_products (166.5ms)
Rendered shared/_full_tree (0.8ms)
Rendered shared/_main_many (1.5ms)
Completed in 233ms (View: 180, DB: 5) | 200 OK [http://localhost/admin/products?parent_id=51]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#tree_funeral (for 127.0.0.1 at 2010-04-13 08:03:51) [GET]
  Parameters: {"id"=>"0"}
  [4;36;1mMenyItem Load (0.2ms)[0m   [0;1mSELECT * FROM `meny_items` [0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE ((category_type = 'Funerals') AND (parent_id = 0)) [0m
  [4;36;1mProductCategory Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `product_categories`[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 9) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 51) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 52) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.2ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 53) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 44) ORDER BY category_name ASC[0m
Completed in 35ms (View: 1, DB: 2) | 200 OK [http://localhost/admin/products/tree_funeral?id=0]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#tree_monument (for 127.0.0.1 at 2010-04-13 08:03:51) [GET]
  Parameters: {"id"=>"0"}
  [4;36;1mMenyItem Load (0.2ms)[0m   [0;1mSELECT * FROM `meny_items` [0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE ((category_type = 'Monuments') AND (parent_id = 0)) [0m
  [4;36;1mProductCategory Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `product_categories`[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 10) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 54) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 55) ORDER BY category_name ASC[0m
Completed in 36ms (View: 1, DB: 2) | 200 OK [http://localhost/admin/products/tree_monument?id=0]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#edit (for 127.0.0.1 at 2010-04-13 08:03:52) [GET]
  Parameters: {"id"=>"37", "parent_id"=>"51"}
  [4;36;1mMenyItem Load (0.1ms)[0m   [0;1mSELECT * FROM `meny_items` [0m
  [4;35;1mUser Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mProductCategory Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `product_categories`[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.`id` = 51) LIMIT 1[0m
  [4;35;1mProduct Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `products`[0m
  [4;36;1mProduct Load (0.3ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 37) [0m
Rendering template within layouts/admin
Rendering admin/products/edit
Rendered admin/products/_form (6.7ms)
Rendered shared/_main_many (1.6ms)
Completed in 60ms (View: 17, DB: 4) | 200 OK [http://localhost/admin/products/37/edit?parent_id=51]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#update (for 127.0.0.1 at 2010-04-13 08:04:07) [PUT]
  Parameters: {"commit"=>"Создать", "authenticity_token"=>"Rrj/u4SS1TQHsAEqOOfxaUrpawb7M0isBOIh0et12Ts=", "id"=>"37", "product"=>{"title"=>"y", "product_photo"=>#<File:/tmp/RackMultipart20100413-2773-1hm2096-0>, "description"=>"<p>y</p>"}, "parent_id"=>"51"}
  [4;35;1mMenyItem Load (0.1ms)[0m   [0mSELECT * FROM `meny_items` [0m
  [4;36;1mUser Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mProductCategory Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `product_categories`[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.`id` = 51) LIMIT 1[0m
  [4;36;1mProduct Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 37) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mProduct Load (1.9ms)[0m   [0mSELECT `products`.id FROM `products` WHERE (`products`.`title` = BINARY 'y' AND `products`.id <> 37) LIMIT 1[0m
  [4;36;1mProduct Update (0.3ms)[0m   [0;1mUPDATE `products` SET `updated_at` = '2010-04-13 05:04:08', `product_photo_updated_at` = '2010-04-13 05:04:07', `product_photo_file_name` = 'Firefox_wallpaper.png', `product_photo_content_type` = 'image/png', `product_photo_file_size` = 390856 WHERE `id` = 37[0m
[paperclip] Saving attachments.
[paperclip] deleting /home/saxa/projects/haron/public/system/product_photos/37/original/GIR-invader-zim-1404588-1280-960.jpg
[paperclip] deleting /home/saxa/projects/haron/public/system/product_photos/37/thumb/GIR-invader-zim-1404588-1280-960.jpg
[paperclip] deleting /home/saxa/projects/haron/public/system/product_photos/37/small/GIR-invader-zim-1404588-1280-960.jpg
[paperclip] saving /home/saxa/projects/haron/public/system/product_photos/37/original/Firefox_wallpaper.png
[paperclip] saving /home/saxa/projects/haron/public/system/product_photos/37/thumb/Firefox_wallpaper.png
[paperclip] saving /home/saxa/projects/haron/public/system/product_photos/37/small/Firefox_wallpaper.png
  [4;35;1mSQL (18.5ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost:3000/admin/products?parent_id=51
Completed in 664ms (DB: 24) | 302 Found [http://localhost/admin/products/37]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#index (for 127.0.0.1 at 2010-04-13 08:04:08) [GET]
  Parameters: {"parent_id"=>"51"}
  [4;36;1mMenyItem Load (0.6ms)[0m   [0;1mSELECT * FROM `meny_items` [0m
  [4;35;1mUser Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (1.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mProductCategory Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `product_categories`[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.`id` = 51) LIMIT 1[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 51) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 52) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 53) ORDER BY category_name ASC[0m
  [4;36;1mProduct Load (0.5ms)[0m   [0;1mSELECT * FROM `products` WHERE (product_category_id IN(52,53,51)) ORDER BY created_at DESC LIMIT 0, 12[0m
  [4;35;1mProduct Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `products`[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM `products` WHERE (product_category_id IN(52,53,51)) [0m
Rendering template within layouts/admin
Rendering admin/products/index
Rendered shared/_products (100.5ms)
Rendered shared/_full_tree (0.9ms)
Rendered shared/_main_many (2.9ms)
Completed in 232ms (View: 111, DB: 6) | 200 OK [http://localhost/admin/products?parent_id=51]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#tree_funeral (for 127.0.0.1 at 2010-04-13 08:04:08) [GET]
  Parameters: {"id"=>"0"}
  [4;35;1mMenyItem Load (0.2ms)[0m   [0mSELECT * FROM `meny_items` [0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE ((category_type = 'Funerals') AND (parent_id = 0)) [0m
  [4;35;1mProductCategory Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `product_categories`[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 9) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (2.0ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 51) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 52) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 53) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.3ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 44) ORDER BY category_name ASC[0m
Completed in 42ms (View: 1, DB: 4) | 200 OK [http://localhost/admin/products/tree_funeral?id=0]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#tree_monument (for 127.0.0.1 at 2010-04-13 08:04:09) [GET]
  Parameters: {"id"=>"0"}
  [4;35;1mMenyItem Load (0.2ms)[0m   [0mSELECT * FROM `meny_items` [0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE ((category_type = 'Monuments') AND (parent_id = 0)) [0m
  [4;35;1mProductCategory Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `product_categories`[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 10) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 54) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 55) ORDER BY category_name ASC[0m
Completed in 27ms (View: 1, DB: 2) | 200 OK [http://localhost/admin/products/tree_monument?id=0]
  [4;35;1mSQL (0.3ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#destroy (for 127.0.0.1 at 2010-04-13 08:04:26) [DELETE]
  Parameters: {"authenticity_token"=>"Rrj/u4SS1TQHsAEqOOfxaUrpawb7M0isBOIh0et12Ts=", "id"=>"37", "parent_id"=>"51"}
  [4;35;1mMenyItem Load (0.1ms)[0m   [0mSELECT * FROM `meny_items` [0m
  [4;36;1mUser Columns (3.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mProductCategory Columns (2.9ms)[0m   [0;1mSHOW FIELDS FROM `product_categories`[0m
  [4;35;1mProductCategory Load (0.2ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.`id` = 51) LIMIT 1[0m
  [4;36;1mProduct Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
  [4;35;1mProduct Load (0.3ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 37) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
[paperclip] Deleting attachments.
[paperclip] deleting /home/saxa/projects/haron/public/system/product_photos/37/original/Firefox_wallpaper.png
[paperclip] deleting /home/saxa/projects/haron/public/system/product_photos/37/thumb/Firefox_wallpaper.png
[paperclip] deleting /home/saxa/projects/haron/public/system/product_photos/37/small/Firefox_wallpaper.png
  [4;35;1mProduct Destroy (0.3ms)[0m   [0mDELETE FROM `products` WHERE `id` = 37[0m
  [4;36;1mSQL (2.6ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost:3000/admin/products?parent_id=51
Completed in 71ms (DB: 12) | 302 Found [http://localhost/admin/products/37?parent_id=51]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#index (for 127.0.0.1 at 2010-04-13 08:04:27) [GET]
  Parameters: {"parent_id"=>"51"}
  [4;35;1mMenyItem Load (0.2ms)[0m   [0mSELECT * FROM `meny_items` [0m
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mProductCategory Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `product_categories`[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.`id` = 51) LIMIT 1[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 51) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 52) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.5ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 53) ORDER BY category_name ASC[0m
  [4;35;1mProduct Load (0.5ms)[0m   [0mSELECT * FROM `products` WHERE (product_category_id IN(52,53,51)) ORDER BY created_at DESC LIMIT 0, 12[0m
  [4;36;1mProduct Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `products` WHERE (product_category_id IN(52,53,51)) [0m
Rendering template within layouts/admin
Rendering admin/products/index
Rendered shared/_products (100.3ms)
Rendered shared/_full_tree (0.8ms)
Rendered shared/_main_many (1.9ms)
Completed in 163ms (View: 109, DB: 5) | 200 OK [http://localhost/admin/products?parent_id=51]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#tree_funeral (for 127.0.0.1 at 2010-04-13 08:04:27) [GET]
  Parameters: {"id"=>"0"}
  [4;36;1mMenyItem Load (2.3ms)[0m   [0;1mSELECT * FROM `meny_items` [0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE ((category_type = 'Funerals') AND (parent_id = 0)) [0m
  [4;36;1mProductCategory Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `product_categories`[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 9) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 51) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 52) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 53) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 44) ORDER BY category_name ASC[0m
Completed in 43ms (View: 1, DB: 4) | 200 OK [http://localhost/admin/products/tree_funeral?id=0]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#tree_monument (for 127.0.0.1 at 2010-04-13 08:04:27) [GET]
  Parameters: {"id"=>"0"}
  [4;36;1mMenyItem Load (0.2ms)[0m   [0;1mSELECT * FROM `meny_items` [0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE ((category_type = 'Monuments') AND (parent_id = 0)) [0m
  [4;36;1mProductCategory Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `product_categories`[0m
  [4;35;1mProductCategory Load (0.2ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 10) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 54) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 55) ORDER BY category_name ASC[0m
Completed in 29ms (View: 1, DB: 2) | 200 OK [http://localhost/admin/products/tree_monument?id=0]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#index (for 127.0.0.1 at 2010-04-13 08:12:58) [GET]
  Parameters: {"parent_id"=>"51"}
  [4;36;1mMenyItem Load (0.2ms)[0m   [0;1mSELECT * FROM `meny_items` [0m
  [4;35;1mUser Columns (84.1ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mProductCategory Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `product_categories`[0m
  [4;36;1mProductCategory Load (0.2ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.`id` = 51) LIMIT 1[0m
  [4;35;1mProductCategory Load (0.2ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 51) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 52) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 53) ORDER BY category_name ASC[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (product_category_id IN(52,53,51)) ORDER BY created_at DESC LIMIT 0, 12[0m
  [4;35;1mProduct Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `products`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `products` WHERE (product_category_id IN(52,53,51)) [0m
Rendering template within layouts/admin
Rendering admin/products/index
Rendered shared/_products (170.7ms)
Rendered shared/_full_tree (2.2ms)
Rendered shared/_main_many (1.4ms)
Completed in 508ms (View: 184, DB: 88) | 200 OK [http://localhost/admin/products?parent_id=51]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#tree_funeral (for 127.0.0.1 at 2010-04-13 08:12:59) [GET]
  Parameters: {"id"=>"0"}
  [4;35;1mMenyItem Load (0.2ms)[0m   [0mSELECT * FROM `meny_items` [0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE ((category_type = 'Funerals') AND (parent_id = 0)) [0m
  [4;35;1mProductCategory Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `product_categories`[0m
  [4;36;1mProductCategory Load (2.5ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 9) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 51) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 52) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 53) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 44) ORDER BY category_name ASC[0m
Completed in 47ms (View: 1, DB: 5) | 200 OK [http://localhost/admin/products/tree_funeral?id=0]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (1.9ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#tree_monument (for 127.0.0.1 at 2010-04-13 08:13:00) [GET]
  Parameters: {"id"=>"0"}
  [4;35;1mMenyItem Load (0.1ms)[0m   [0mSELECT * FROM `meny_items` [0m
  [4;36;1mProductCategory Load (0.6ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE ((category_type = 'Monuments') AND (parent_id = 0)) [0m
  [4;35;1mProductCategory Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `product_categories`[0m
  [4;36;1mProductCategory Load (0.4ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 10) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 54) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.2ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 55) ORDER BY category_name ASC[0m
Completed in 75ms (View: 1, DB: 5) | 200 OK [http://localhost/admin/products/tree_monument?id=0]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#show_product_table (for 127.0.0.1 at 2010-04-13 08:13:39) [GET]
  Parameters: {"parent_id"=>"51"}
  [4;35;1mMenyItem Load (0.2ms)[0m   [0mSELECT * FROM `meny_items` [0m
  [4;36;1mUser Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mProductCategory Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `product_categories`[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.`id` = 51) LIMIT 1[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 51) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 52) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 53) ORDER BY category_name ASC[0m
  [4;35;1mProduct Load (1.7ms)[0m   [0mSELECT * FROM `products` WHERE (product_category_id IN(52,53,51)) ORDER BY created_at DESC LIMIT 0, 12[0m
  [4;36;1mProduct Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `products` WHERE (product_category_id IN(52,53,51)) [0m
Rendered shared/_products (88.2ms)
Completed in 153ms (View: 105, DB: 5) | 200 OK [http://localhost/admin/products/show_product_table?parent_id=51]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#index (for 127.0.0.1 at 2010-04-13 08:13:40) [GET]
  Parameters: {"parent_id"=>"51"}
  [4;36;1mMenyItem Load (0.1ms)[0m   [0;1mSELECT * FROM `meny_items` [0m
  [4;35;1mUser Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mProductCategory Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `product_categories`[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.`id` = 51) LIMIT 1[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 51) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (5.4ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 52) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 53) ORDER BY category_name ASC[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (product_category_id IN(52,53,51)) ORDER BY created_at DESC LIMIT 0, 12[0m
  [4;35;1mProduct Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `products`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `products` WHERE (product_category_id IN(52,53,51)) [0m
Rendering template within layouts/admin
Rendering admin/products/index
Rendered shared/_products (99.2ms)
Rendered shared/_full_tree (2.5ms)
Rendered shared/_main_many (1.5ms)
Completed in 175ms (View: 114, DB: 9) | 200 OK [http://localhost/admin/products?parent_id=51]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#tree_funeral (for 127.0.0.1 at 2010-04-13 08:13:41) [GET]
  Parameters: {"id"=>"0"}
  [4;35;1mMenyItem Load (0.1ms)[0m   [0mSELECT * FROM `meny_items` [0m
  [4;36;1mProductCategory Load (0.5ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE ((category_type = 'Funerals') AND (parent_id = 0)) [0m
  [4;35;1mProductCategory Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `product_categories`[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 9) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (2.3ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 51) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 52) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 53) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 44) ORDER BY category_name ASC[0m
Completed in 44ms (View: 1, DB: 5) | 200 OK [http://localhost/admin/products/tree_funeral?id=0]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#tree_monument (for 127.0.0.1 at 2010-04-13 08:13:41) [GET]
  Parameters: {"id"=>"0"}
  [4;35;1mMenyItem Load (0.1ms)[0m   [0mSELECT * FROM `meny_items` [0m
  [4;36;1mProductCategory Load (0.6ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE ((category_type = 'Monuments') AND (parent_id = 0)) [0m
  [4;35;1mProductCategory Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `product_categories`[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 10) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 54) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 55) ORDER BY category_name ASC[0m
Completed in 37ms (View: 1, DB: 2) | 200 OK [http://localhost/admin/products/tree_monument?id=0]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#show_product_table (for 127.0.0.1 at 2010-04-13 08:13:46) [GET]
  Parameters: {"parent_id"=>"51"}
  [4;35;1mMenyItem Load (0.2ms)[0m   [0mSELECT * FROM `meny_items` [0m
  [4;36;1mUser Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mProductCategory Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `product_categories`[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.`id` = 51) LIMIT 1[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 51) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.4ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 52) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 53) ORDER BY category_name ASC[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (product_category_id IN(52,53,51)) ORDER BY created_at DESC LIMIT 0, 12[0m
  [4;36;1mProduct Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `products` WHERE (product_category_id IN(52,53,51)) [0m
Rendered shared/_products (167.6ms)
Completed in 232ms (View: 186, DB: 4) | 200 OK [http://localhost/admin/products/show_product_table?parent_id=51]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#show_product_table (for 127.0.0.1 at 2010-04-13 08:13:47) [GET]
  Parameters: {"parent_id"=>"52"}
  [4;36;1mMenyItem Load (0.4ms)[0m   [0;1mSELECT * FROM `meny_items` [0m
  [4;35;1mUser Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mProductCategory Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `product_categories`[0m
  [4;36;1mProductCategory Load (0.4ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.`id` = 52) LIMIT 1[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 52) ORDER BY category_name ASC[0m
  [4;36;1mProduct Load (0.5ms)[0m   [0;1mSELECT * FROM `products` WHERE (product_category_id IN(52)) ORDER BY created_at DESC LIMIT 0, 12[0m
  [4;35;1mProduct Columns (3.1ms)[0m   [0mSHOW FIELDS FROM `products`[0m
Rendered shared/_products (52.2ms)
Completed in 104ms (View: 58, DB: 6) | 200 OK [http://localhost/admin/products/show_product_table?parent_id=52]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#new (for 127.0.0.1 at 2010-04-13 08:13:49) [GET]
  Parameters: {"parent_id"=>"52"}
  [4;36;1mMenyItem Load (0.7ms)[0m   [0;1mSELECT * FROM `meny_items` [0m
  [4;35;1mUser Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mProductCategory Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `product_categories`[0m
  [4;36;1mProductCategory Load (0.3ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.`id` = 52) LIMIT 1[0m
  [4;35;1mProduct Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `products`[0m
Rendering template within layouts/admin
Rendering admin/products/new
Rendered admin/products/_form (9.2ms)
Rendered shared/_main_many (1.6ms)
Completed in 134ms (View: 18, DB: 4) | 200 OK [http://localhost/admin/products/new?parent_id=52]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#create (for 127.0.0.1 at 2010-04-13 08:13:53) [POST]
  Parameters: {"commit"=>"Создать", "authenticity_token"=>"Rrj/u4SS1TQHsAEqOOfxaUrpawb7M0isBOIh0et12Ts=", "product"=>{"title"=>"d", "description"=>"<p>d</p>"}, "parent_id"=>"52"}
  [4;36;1mMenyItem Load (0.2ms)[0m   [0;1mSELECT * FROM `meny_items` [0m
  [4;35;1mUser Columns (1.9ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mProductCategory Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `product_categories`[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.`id` = 52) LIMIT 1[0m
  [4;35;1mProduct Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `products`[0m
  [4;36;1mSQL (4.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mProduct Load (0.3ms)[0m   [0mSELECT `products`.id FROM `products` WHERE (`products`.`title` = BINARY 'd') LIMIT 1[0m
  [4;36;1mProduct Create (25.9ms)[0m   [0;1mINSERT INTO `products` (`created_at`, `title`, `product_category_id`, `updated_at`, `category_type`, `description`, `product_photo_file_name`, `product_photo_content_type`, `product_photo_file_size`, `product_photo_updated_at`) VALUES('2010-04-13 05:13:53', 'd', 52, '2010-04-13 05:13:53', 'Funerals', '<p>d</p>', NULL, NULL, NULL, NULL)[0m
[paperclip] Saving attachments.
  [4;35;1mSQL (17.7ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost:3000/admin/products?parent_id=52
Completed in 121ms (DB: 53) | 302 Found [http://localhost/admin/products]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (1.4ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#index (for 127.0.0.1 at 2010-04-13 08:13:53) [GET]
  Parameters: {"parent_id"=>"52"}
  [4;36;1mMenyItem Load (0.1ms)[0m   [0;1mSELECT * FROM `meny_items` [0m
  [4;35;1mUser Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mProductCategory Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `product_categories`[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.`id` = 52) LIMIT 1[0m
  [4;35;1mProductCategory Load (3.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 52) ORDER BY category_name ASC[0m
  [4;36;1mProduct Load (1.5ms)[0m   [0;1mSELECT * FROM `products` WHERE (product_category_id IN(52)) ORDER BY created_at DESC LIMIT 0, 12[0m
Rendering template within layouts/admin
Rendering admin/products/index
  [4;35;1mProduct Columns (2.4ms)[0m   [0mSHOW FIELDS FROM `products`[0m
Rendered shared/_products (50.8ms)
Rendered shared/_full_tree (0.9ms)
Rendered shared/_main_many (1.4ms)
Completed in 109ms (View: 56, DB: 11) | 200 OK [http://localhost/admin/products?parent_id=52]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (6.7ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2010-04-13 08:13:54) [GET]

ActionController::RoutingError (No route matches "/product_photos/thumb/missing.png" with {:method=>:get}):
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendering rescues/layout (not_found)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#tree_funeral (for 127.0.0.1 at 2010-04-13 08:13:54) [GET]
  Parameters: {"id"=>"0"}
  [4;36;1mMenyItem Load (0.1ms)[0m   [0;1mSELECT * FROM `meny_items` [0m
  [4;35;1mProductCategory Load (0.5ms)[0m   [0mSELECT * FROM `product_categories` WHERE ((category_type = 'Funerals') AND (parent_id = 0)) [0m
  [4;36;1mProductCategory Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `product_categories`[0m
  [4;35;1mProductCategory Load (0.2ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 9) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 51) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 52) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 53) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 44) ORDER BY category_name ASC[0m
Completed in 32ms (View: 1, DB: 2) | 200 OK [http://localhost/admin/products/tree_funeral?id=0]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#tree_monument (for 127.0.0.1 at 2010-04-13 08:13:54) [GET]
  Parameters: {"id"=>"0"}
  [4;36;1mMenyItem Load (0.3ms)[0m   [0;1mSELECT * FROM `meny_items` [0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE ((category_type = 'Monuments') AND (parent_id = 0)) [0m
  [4;36;1mProductCategory Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `product_categories`[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 10) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 54) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 55) ORDER BY category_name ASC[0m
Completed in 29ms (View: 1, DB: 2) | 200 OK [http://localhost/admin/products/tree_monument?id=0]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#destroy (for 127.0.0.1 at 2010-04-13 08:14:23) [DELETE]
  Parameters: {"authenticity_token"=>"Rrj/u4SS1TQHsAEqOOfxaUrpawb7M0isBOIh0et12Ts=", "id"=>"38", "parent_id"=>"52"}
  [4;36;1mMenyItem Load (0.1ms)[0m   [0;1mSELECT * FROM `meny_items` [0m
  [4;35;1mUser Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mProductCategory Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `product_categories`[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.`id` = 52) LIMIT 1[0m
  [4;35;1mProduct Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `products`[0m
  [4;36;1mProduct Load (1.6ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 38) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
[paperclip] Deleting attachments.
  [4;36;1mProduct Destroy (0.4ms)[0m   [0;1mDELETE FROM `products` WHERE `id` = 38[0m
  [4;35;1mSQL (22.8ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost:3000/admin/products?parent_id=52
Completed in 83ms (DB: 28) | 302 Found [http://localhost/admin/products/38?parent_id=52]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#index (for 127.0.0.1 at 2010-04-13 08:14:24) [GET]
  Parameters: {"parent_id"=>"52"}
  [4;36;1mMenyItem Load (0.2ms)[0m   [0;1mSELECT * FROM `meny_items` [0m
  [4;35;1mUser Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mProductCategory Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `product_categories`[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.`id` = 52) LIMIT 1[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 52) ORDER BY category_name ASC[0m
  [4;36;1mProduct Load (0.4ms)[0m   [0;1mSELECT * FROM `products` WHERE (product_category_id IN(52)) ORDER BY created_at DESC LIMIT 0, 12[0m
Rendering template within layouts/admin
Rendering admin/products/index
  [4;35;1mProduct Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `products`[0m
Rendered shared/_products (48.4ms)
Rendered shared/_full_tree (2.4ms)
Rendered shared/_main_many (1.5ms)
Completed in 112ms (View: 61, DB: 4) | 200 OK [http://localhost/admin/products?parent_id=52]
  [4;36;1mSQL (2.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#tree_funeral (for 127.0.0.1 at 2010-04-13 08:14:24) [GET]
  Parameters: {"id"=>"0"}
  [4;36;1mMenyItem Load (0.1ms)[0m   [0;1mSELECT * FROM `meny_items` [0m
  [4;35;1mProductCategory Load (0.2ms)[0m   [0mSELECT * FROM `product_categories` WHERE ((category_type = 'Funerals') AND (parent_id = 0)) [0m
  [4;36;1mProductCategory Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `product_categories`[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 9) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 51) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 52) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 53) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 44) ORDER BY category_name ASC[0m
Completed in 31ms (View: 1, DB: 4) | 200 OK [http://localhost/admin/products/tree_funeral?id=0]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#tree_monument (for 127.0.0.1 at 2010-04-13 08:14:24) [GET]
  Parameters: {"id"=>"0"}
  [4;36;1mMenyItem Load (0.2ms)[0m   [0;1mSELECT * FROM `meny_items` [0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE ((category_type = 'Monuments') AND (parent_id = 0)) [0m
  [4;36;1mProductCategory Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `product_categories`[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 10) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 54) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 55) ORDER BY category_name ASC[0m
Completed in 33ms (View: 1, DB: 2) | 200 OK [http://localhost/admin/products/tree_monument?id=0]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#index (for 127.0.0.1 at 2010-04-13 08:26:35) [GET]
  Parameters: {"parent_id"=>"52"}
  [4;36;1mMenyItem Load (0.1ms)[0m   [0;1mSELECT * FROM `meny_items` [0m
  [4;35;1mUser Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mProductCategory Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `product_categories`[0m
  [4;36;1mProductCategory Load (0.2ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.`id` = 52) LIMIT 1[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 52) ORDER BY category_name ASC[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (product_category_id IN(52)) ORDER BY created_at DESC LIMIT 0, 12[0m
Rendering template within layouts/admin
Rendering admin/products/index
  [4;35;1mProduct Columns (4.1ms)[0m   [0mSHOW FIELDS FROM `products`[0m
Rendered shared/_products (60.6ms)
Rendered shared/_full_tree (0.8ms)
Rendered shared/_main_many (1.9ms)
Completed in 243ms (View: 74, DB: 8) | 200 OK [http://localhost/admin/products?parent_id=52]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#tree_funeral (for 127.0.0.1 at 2010-04-13 08:26:36) [GET]
  Parameters: {"id"=>"0"}
  [4;36;1mMenyItem Load (0.2ms)[0m   [0;1mSELECT * FROM `meny_items` [0m
  [4;35;1mProductCategory Load (3.4ms)[0m   [0mSELECT * FROM `product_categories` WHERE ((category_type = 'Funerals') AND (parent_id = 0)) [0m
  [4;36;1mProductCategory Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `product_categories`[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 9) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 51) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.4ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 52) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 53) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 44) ORDER BY category_name ASC[0m
Completed in 48ms (View: 1, DB: 5) | 200 OK [http://localhost/admin/products/tree_funeral?id=0]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#tree_monument (for 127.0.0.1 at 2010-04-13 08:26:36) [GET]
  Parameters: {"id"=>"0"}
  [4;36;1mMenyItem Load (0.1ms)[0m   [0;1mSELECT * FROM `meny_items` [0m
  [4;35;1mProductCategory Load (0.5ms)[0m   [0mSELECT * FROM `product_categories` WHERE ((category_type = 'Monuments') AND (parent_id = 0)) [0m
  [4;36;1mProductCategory Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `product_categories`[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 10) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 54) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (2.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 55) ORDER BY category_name ASC[0m
Completed in 35ms (View: 1, DB: 4) | 200 OK [http://localhost/admin/products/tree_monument?id=0]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#show_product_table (for 127.0.0.1 at 2010-04-13 08:26:39) [GET]
  Parameters: {"parent_id"=>"53"}
  [4;36;1mMenyItem Load (0.1ms)[0m   [0;1mSELECT * FROM `meny_items` [0m
  [4;35;1mUser Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mProductCategory Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `product_categories`[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.`id` = 53) LIMIT 1[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 53) ORDER BY category_name ASC[0m
  [4;36;1mProduct Load (0.4ms)[0m   [0;1mSELECT * FROM `products` WHERE (product_category_id IN(53)) ORDER BY created_at DESC LIMIT 0, 12[0m
  [4;35;1mProduct Columns (4.5ms)[0m   [0mSHOW FIELDS FROM `products`[0m
Rendered shared/_products (50.1ms)
Completed in 108ms (View: 57, DB: 8) | 200 OK [http://localhost/admin/products/show_product_table?parent_id=53]
  [4;36;1mSQL (6.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#new (for 127.0.0.1 at 2010-04-13 08:26:41) [GET]
  Parameters: {"parent_id"=>"53"}
  [4;36;1mMenyItem Load (0.1ms)[0m   [0;1mSELECT * FROM `meny_items` [0m
  [4;35;1mUser Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mProductCategory Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `product_categories`[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.`id` = 53) LIMIT 1[0m
  [4;35;1mProduct Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `products`[0m
Rendering template within layouts/admin
Rendering admin/products/new
Rendered admin/products/_form (11.6ms)
Rendered shared/_main_many (1.4ms)
Completed in 60ms (View: 19, DB: 10) | 200 OK [http://localhost/admin/products/new?parent_id=53]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#create (for 127.0.0.1 at 2010-04-13 08:26:44) [POST]
  Parameters: {"commit"=>"Создать", "authenticity_token"=>"Rrj/u4SS1TQHsAEqOOfxaUrpawb7M0isBOIh0et12Ts=", "product"=>{"title"=>"d", "description"=>"<p>e</p>"}, "parent_id"=>"53"}
  [4;36;1mMenyItem Load (0.1ms)[0m   [0;1mSELECT * FROM `meny_items` [0m
  [4;35;1mUser Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mProductCategory Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `product_categories`[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.`id` = 53) LIMIT 1[0m
  [4;35;1mProduct Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `products`[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mBEGIN[0m
  [4;35;1mProduct Load (0.3ms)[0m   [0mSELECT `products`.id FROM `products` WHERE (`products`.`title` = BINARY 'd') LIMIT 1[0m
  [4;36;1mProduct Create (0.2ms)[0m   [0;1mINSERT INTO `products` (`created_at`, `title`, `product_category_id`, `updated_at`, `category_type`, `description`, `product_photo_file_name`, `product_photo_content_type`, `product_photo_file_size`, `product_photo_updated_at`) VALUES('2010-04-13 05:26:45', 'd', 53, '2010-04-13 05:26:45', 'Funerals', '<p>e</p>', NULL, NULL, NULL, NULL)[0m
[paperclip] Saving attachments.
  [4;35;1mSQL (2.0ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost:3000/admin/products?parent_id=53
Completed in 138ms (DB: 7) | 302 Found [http://localhost/admin/products]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#index (for 127.0.0.1 at 2010-04-13 08:26:45) [GET]
  Parameters: {"parent_id"=>"53"}
  [4;36;1mMenyItem Load (0.2ms)[0m   [0;1mSELECT * FROM `meny_items` [0m
  [4;35;1mUser Columns (2.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mProductCategory Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `product_categories`[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.`id` = 53) LIMIT 1[0m
  [4;35;1mProductCategory Load (2.2ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 53) ORDER BY category_name ASC[0m
  [4;36;1mProduct Load (0.4ms)[0m   [0;1mSELECT * FROM `products` WHERE (product_category_id IN(53)) ORDER BY created_at DESC LIMIT 0, 12[0m
Rendering template within layouts/admin
Rendering admin/products/index
  [4;35;1mProduct Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `products`[0m
Rendered shared/_products (40.2ms)
Rendered shared/_full_tree (0.9ms)
Rendered shared/_main_many (1.5ms)
Completed in 99ms (View: 48, DB: 8) | 200 OK [http://localhost/admin/products?parent_id=53]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2010-04-13 08:26:45) [GET]

ActionController::RoutingError (No route matches "/product_photos/thumb/missing.png" with {:method=>:get}):
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendering rescues/layout (not_found)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#tree_monument (for 127.0.0.1 at 2010-04-13 08:26:45) [GET]
  Parameters: {"id"=>"0"}
  [4;36;1mMenyItem Load (0.2ms)[0m   [0;1mSELECT * FROM `meny_items` [0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE ((category_type = 'Monuments') AND (parent_id = 0)) [0m
  [4;36;1mProductCategory Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `product_categories`[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 10) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 54) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 55) ORDER BY category_name ASC[0m
Completed in 117ms (View: 1, DB: 2) | 200 OK [http://localhost/admin/products/tree_monument?id=0]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#tree_funeral (for 127.0.0.1 at 2010-04-13 08:26:45) [GET]
  Parameters: {"id"=>"0"}
  [4;36;1mMenyItem Load (0.1ms)[0m   [0;1mSELECT * FROM `meny_items` [0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE ((category_type = 'Funerals') AND (parent_id = 0)) [0m
  [4;36;1mProductCategory Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `product_categories`[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 9) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 51) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 52) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 53) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 44) ORDER BY category_name ASC[0m
Completed in 31ms (View: 1, DB: 2) | 200 OK [http://localhost/admin/products/tree_funeral?id=0]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#destroy (for 127.0.0.1 at 2010-04-13 08:26:53) [DELETE]
  Parameters: {"authenticity_token"=>"Rrj/u4SS1TQHsAEqOOfxaUrpawb7M0isBOIh0et12Ts=", "id"=>"39", "parent_id"=>"53"}
  [4;36;1mMenyItem Load (0.2ms)[0m   [0;1mSELECT * FROM `meny_items` [0m
  [4;35;1mUser Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mProductCategory Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `product_categories`[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.`id` = 53) LIMIT 1[0m
  [4;35;1mProduct Columns (3.2ms)[0m   [0mSHOW FIELDS FROM `products`[0m
  [4;36;1mProduct Load (0.3ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 39) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
[paperclip] Deleting attachments.
  [4;36;1mProduct Destroy (0.3ms)[0m   [0;1mDELETE FROM `products` WHERE `id` = 39[0m
  [4;35;1mSQL (1.5ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost:3000/admin/products?parent_id=53
Completed in 53ms (DB: 8) | 302 Found [http://localhost/admin/products/39?parent_id=53]
  [4;36;1mSQL (3.8ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (1.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#index (for 127.0.0.1 at 2010-04-13 08:26:54) [GET]
  Parameters: {"parent_id"=>"53"}
  [4;36;1mMenyItem Load (2.0ms)[0m   [0;1mSELECT * FROM `meny_items` [0m
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mProductCategory Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `product_categories`[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.`id` = 53) LIMIT 1[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 53) ORDER BY category_name ASC[0m
  [4;36;1mProduct Load (1.5ms)[0m   [0;1mSELECT * FROM `products` WHERE (product_category_id IN(53)) ORDER BY created_at DESC LIMIT 0, 12[0m
Rendering template within layouts/admin
Rendering admin/products/index
  [4;35;1mProduct Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `products`[0m
Rendered shared/_products (33.1ms)
Rendered shared/_full_tree (1.0ms)
Rendered shared/_main_many (1.5ms)
Completed in 171ms (View: 41, DB: 12) | 200 OK [http://localhost/admin/products?parent_id=53]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (1.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#tree_monument (for 127.0.0.1 at 2010-04-13 08:26:54) [GET]
  Parameters: {"id"=>"0"}
  [4;36;1mMenyItem Load (4.4ms)[0m   [0;1mSELECT * FROM `meny_items` [0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE ((category_type = 'Monuments') AND (parent_id = 0)) [0m
  [4;36;1mProductCategory Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `product_categories`[0m
  [4;35;1mProductCategory Load (0.2ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 10) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.7ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 54) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 55) ORDER BY category_name ASC[0m
Completed in 34ms (View: 1, DB: 8) | 200 OK [http://localhost/admin/products/tree_monument?id=0]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#tree_funeral (for 127.0.0.1 at 2010-04-13 08:26:54) [GET]
  Parameters: {"id"=>"0"}
  [4;36;1mMenyItem Load (0.1ms)[0m   [0;1mSELECT * FROM `meny_items` [0m
  [4;35;1mProductCategory Load (0.2ms)[0m   [0mSELECT * FROM `product_categories` WHERE ((category_type = 'Funerals') AND (parent_id = 0)) [0m
  [4;36;1mProductCategory Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `product_categories`[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 9) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 51) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 52) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 53) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 44) ORDER BY category_name ASC[0m
Completed in 30ms (View: 1, DB: 2) | 200 OK [http://localhost/admin/products/tree_funeral?id=0]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#show_product_table (for 127.0.0.1 at 2010-04-13 08:29:19) [GET]
  Parameters: {"parent_id"=>"52"}
  [4;36;1mMenyItem Load (0.2ms)[0m   [0;1mSELECT * FROM `meny_items` [0m
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mProductCategory Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `product_categories`[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.`id` = 52) LIMIT 1[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 52) ORDER BY category_name ASC[0m
  [4;36;1mProduct Load (0.4ms)[0m   [0;1mSELECT * FROM `products` WHERE (product_category_id IN(52)) ORDER BY created_at DESC LIMIT 0, 12[0m
  [4;35;1mProduct Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `products`[0m
Rendered shared/_products (50.1ms)
Completed in 104ms (View: 58, DB: 4) | 200 OK [http://localhost/admin/products/show_product_table?parent_id=52]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#show_product_table (for 127.0.0.1 at 2010-04-13 08:29:20) [GET]
  Parameters: {"parent_id"=>"53"}
  [4;36;1mMenyItem Load (0.1ms)[0m   [0;1mSELECT * FROM `meny_items` [0m
  [4;35;1mUser Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mProductCategory Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `product_categories`[0m
  [4;36;1mProductCategory Load (0.2ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.`id` = 53) LIMIT 1[0m
  [4;35;1mProductCategory Load (0.2ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 53) ORDER BY category_name ASC[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (product_category_id IN(53)) ORDER BY created_at DESC LIMIT 0, 12[0m
  [4;35;1mProduct Columns (3.0ms)[0m   [0mSHOW FIELDS FROM `products`[0m
Rendered shared/_products (36.1ms)
Completed in 86ms (View: 44, DB: 6) | 200 OK [http://localhost/admin/products/show_product_table?parent_id=53]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#show_product_table (for 127.0.0.1 at 2010-04-13 08:29:22) [GET]
  Parameters: {"parent_id"=>"52"}
  [4;36;1mMenyItem Load (0.1ms)[0m   [0;1mSELECT * FROM `meny_items` [0m
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mProductCategory Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `product_categories`[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.`id` = 52) LIMIT 1[0m
  [4;35;1mProductCategory Load (8.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 52) ORDER BY category_name ASC[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (product_category_id IN(52)) ORDER BY created_at DESC LIMIT 0, 12[0m
  [4;35;1mProduct Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `products`[0m
Rendered shared/_products (52.7ms)
Completed in 115ms (View: 61, DB: 12) | 200 OK [http://localhost/admin/products/show_product_table?parent_id=52]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#show_product_table (for 127.0.0.1 at 2010-04-13 08:29:23) [GET]
  Parameters: {"parent_id"=>"53"}
  [4;36;1mMenyItem Load (0.1ms)[0m   [0;1mSELECT * FROM `meny_items` [0m
  [4;35;1mUser Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mProductCategory Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `product_categories`[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.`id` = 53) LIMIT 1[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 53) ORDER BY category_name ASC[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (product_category_id IN(53)) ORDER BY created_at DESC LIMIT 0, 12[0m
  [4;35;1mProduct Columns (6.2ms)[0m   [0mSHOW FIELDS FROM `products`[0m
Rendered shared/_products (38.2ms)
Completed in 84ms (View: 38, DB: 9) | 200 OK [http://localhost/admin/products/show_product_table?parent_id=53]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#show_product_table (for 127.0.0.1 at 2010-04-13 08:29:24) [GET]
  Parameters: {"parent_id"=>"52"}
  [4;36;1mMenyItem Load (0.2ms)[0m   [0;1mSELECT * FROM `meny_items` [0m
  [4;35;1mUser Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mProductCategory Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `product_categories`[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.`id` = 52) LIMIT 1[0m
  [4;35;1mProductCategory Load (0.2ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 52) ORDER BY category_name ASC[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (product_category_id IN(52)) ORDER BY created_at DESC LIMIT 0, 12[0m
  [4;35;1mProduct Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `products`[0m
Rendered shared/_products (55.4ms)
Completed in 111ms (View: 64, DB: 4) | 200 OK [http://localhost/admin/products/show_product_table?parent_id=52]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#show_product_table (for 127.0.0.1 at 2010-04-13 08:29:26) [GET]
  Parameters: {"parent_id"=>"51"}
  [4;36;1mMenyItem Load (0.2ms)[0m   [0;1mSELECT * FROM `meny_items` [0m
  [4;35;1mUser Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mProductCategory Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `product_categories`[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.`id` = 51) LIMIT 1[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 51) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 52) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 53) ORDER BY category_name ASC[0m
  [4;36;1mProduct Load (2.4ms)[0m   [0;1mSELECT * FROM `products` WHERE (product_category_id IN(52,53,51)) ORDER BY created_at DESC LIMIT 0, 12[0m
  [4;35;1mProduct Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `products`[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM `products` WHERE (product_category_id IN(52,53,51)) [0m
Rendered shared/_products (130.6ms)
Completed in 195ms (View: 147, DB: 6) | 200 OK [http://localhost/admin/products/show_product_table?parent_id=51]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#show_product_table (for 127.0.0.1 at 2010-04-13 08:29:27) [GET]
  Parameters: {"parent_id"=>"44"}
  [4;35;1mMenyItem Load (0.1ms)[0m   [0mSELECT * FROM `meny_items` [0m
  [4;36;1mUser Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mProductCategory Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `product_categories`[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.`id` = 44) LIMIT 1[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 44) ORDER BY category_name ASC[0m
  [4;35;1mProduct Load (0.5ms)[0m   [0mSELECT * FROM `products` WHERE (product_category_id IN(44)) ORDER BY created_at DESC LIMIT 0, 12[0m
Rendered shared/_products (9.7ms)
Completed in 55ms (View: 13, DB: 3) | 200 OK [http://localhost/admin/products/show_product_table?parent_id=44]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#show_product_table (for 127.0.0.1 at 2010-04-13 08:29:28) [GET]
  Parameters: {"parent_id"=>"52"}
  [4;36;1mMenyItem Load (1.4ms)[0m   [0;1mSELECT * FROM `meny_items` [0m
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mProductCategory Columns (9.1ms)[0m   [0mSHOW FIELDS FROM `product_categories`[0m
  [4;36;1mProductCategory Load (4.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.`id` = 52) LIMIT 1[0m
  [4;35;1mProductCategory Load (0.2ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 52) ORDER BY category_name ASC[0m
  [4;36;1mProduct Load (0.3ms)[0m   [0;1mSELECT * FROM `products` WHERE (product_category_id IN(52)) ORDER BY created_at DESC LIMIT 0, 12[0m
  [4;35;1mProduct Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `products`[0m
Rendered shared/_products (53.4ms)
Completed in 115ms (View: 61, DB: 17) | 200 OK [http://localhost/admin/products/show_product_table?parent_id=52]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#new (for 127.0.0.1 at 2010-04-13 08:29:31) [GET]
  Parameters: {"parent_id"=>"52"}
  [4;36;1mMenyItem Load (0.2ms)[0m   [0;1mSELECT * FROM `meny_items` [0m
  [4;35;1mUser Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mProductCategory Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `product_categories`[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.`id` = 52) LIMIT 1[0m
  [4;35;1mProduct Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `products`[0m
Rendering template within layouts/admin
Rendering admin/products/new
Rendered admin/products/_form (9.5ms)
Rendered shared/_main_many (1.6ms)
Completed in 70ms (View: 23, DB: 3) | 200 OK [http://localhost/admin/products/new?parent_id=52]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#create (for 127.0.0.1 at 2010-04-13 08:29:36) [POST]
  Parameters: {"commit"=>"Создать", "authenticity_token"=>"Rrj/u4SS1TQHsAEqOOfxaUrpawb7M0isBOIh0et12Ts=", "product"=>{"title"=>"s", "description"=>"<p>as</p>"}, "parent_id"=>"52"}
  [4;36;1mMenyItem Load (0.1ms)[0m   [0;1mSELECT * FROM `meny_items` [0m
  [4;35;1mUser Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mProductCategory Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `product_categories`[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.`id` = 52) LIMIT 1[0m
  [4;35;1mProduct Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `products`[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mBEGIN[0m
  [4;35;1mProduct Load (0.3ms)[0m   [0mSELECT `products`.id FROM `products` WHERE (`products`.`title` = BINARY 's') LIMIT 1[0m
  [4;36;1mProduct Create (0.3ms)[0m   [0;1mINSERT INTO `products` (`created_at`, `title`, `product_category_id`, `updated_at`, `category_type`, `description`, `product_photo_file_name`, `product_photo_content_type`, `product_photo_file_size`, `product_photo_updated_at`) VALUES('2010-04-13 05:29:36', 's', 52, '2010-04-13 05:29:36', 'Funerals', '<p>as</p>', NULL, NULL, NULL, NULL)[0m
[paperclip] Saving attachments.
  [4;35;1mSQL (4.2ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost:3000/admin/products?parent_id=52
Completed in 56ms (DB: 9) | 302 Found [http://localhost/admin/products]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#index (for 127.0.0.1 at 2010-04-13 08:29:36) [GET]
  Parameters: {"parent_id"=>"52"}
  [4;36;1mMenyItem Load (7.3ms)[0m   [0;1mSELECT * FROM `meny_items` [0m
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (3.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mProductCategory Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `product_categories`[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.`id` = 52) LIMIT 1[0m
  [4;35;1mProductCategory Load (6.0ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 52) ORDER BY category_name ASC[0m
  [4;36;1mProduct Load (1.7ms)[0m   [0;1mSELECT * FROM `products` WHERE (product_category_id IN(52)) ORDER BY created_at DESC LIMIT 0, 12[0m
Rendering template within layouts/admin
Rendering admin/products/index
  [4;35;1mProduct Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `products`[0m
Rendered shared/_products (55.1ms)
Rendered shared/_full_tree (0.9ms)
Rendered shared/_main_many (1.5ms)
Completed in 212ms (View: 69, DB: 22) | 200 OK [http://localhost/admin/products?parent_id=52]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2010-04-13 08:29:36) [GET]

ActionController::RoutingError (No route matches "/product_photos/thumb/missing.png" with {:method=>:get}):
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendering rescues/layout (not_found)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (6.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#tree_funeral (for 127.0.0.1 at 2010-04-13 08:29:36) [GET]
  Parameters: {"id"=>"0"}
  [4;36;1mMenyItem Load (0.2ms)[0m   [0;1mSELECT * FROM `meny_items` [0m
  [4;35;1mProductCategory Load (0.2ms)[0m   [0mSELECT * FROM `product_categories` WHERE ((category_type = 'Funerals') AND (parent_id = 0)) [0m
  [4;36;1mProductCategory Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `product_categories`[0m
  [4;35;1mProductCategory Load (0.2ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 9) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 51) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.4ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 52) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 53) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 44) ORDER BY category_name ASC[0m
Completed in 44ms (View: 1, DB: 9) | 200 OK [http://localhost/admin/products/tree_funeral?id=0]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (2.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#tree_monument (for 127.0.0.1 at 2010-04-13 08:29:37) [GET]
  Parameters: {"id"=>"0"}
  [4;36;1mMenyItem Load (0.2ms)[0m   [0;1mSELECT * FROM `meny_items` [0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE ((category_type = 'Monuments') AND (parent_id = 0)) [0m
  [4;36;1mProductCategory Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `product_categories`[0m
  [4;35;1mProductCategory Load (0.2ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 10) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.2ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 54) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.3ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 55) ORDER BY category_name ASC[0m
Completed in 33ms (View: 1, DB: 5) | 200 OK [http://localhost/admin/products/tree_monument?id=0]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#destroy (for 127.0.0.1 at 2010-04-13 08:30:08) [DELETE]
  Parameters: {"authenticity_token"=>"Rrj/u4SS1TQHsAEqOOfxaUrpawb7M0isBOIh0et12Ts=", "id"=>"40", "parent_id"=>"52"}
  [4;36;1mMenyItem Load (0.1ms)[0m   [0;1mSELECT * FROM `meny_items` [0m
  [4;35;1mUser Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mProductCategory Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `product_categories`[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.`id` = 52) LIMIT 1[0m
  [4;35;1mProduct Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `products`[0m
  [4;36;1mProduct Load (0.3ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 40) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
[paperclip] Deleting attachments.
  [4;36;1mProduct Destroy (0.3ms)[0m   [0;1mDELETE FROM `products` WHERE `id` = 40[0m
  [4;35;1mSQL (15.0ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost:3000/admin/products?parent_id=52
Completed in 64ms (DB: 19) | 302 Found [http://localhost/admin/products/40?parent_id=52]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#index (for 127.0.0.1 at 2010-04-13 08:30:08) [GET]
  Parameters: {"parent_id"=>"52"}
  [4;36;1mMenyItem Load (0.1ms)[0m   [0;1mSELECT * FROM `meny_items` [0m
  [4;35;1mUser Columns (1.9ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mProductCategory Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `product_categories`[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.`id` = 52) LIMIT 1[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 52) ORDER BY category_name ASC[0m
  [4;36;1mProduct Load (0.5ms)[0m   [0;1mSELECT * FROM `products` WHERE (product_category_id IN(52)) ORDER BY created_at DESC LIMIT 0, 12[0m
Rendering template within layouts/admin
Rendering admin/products/index
  [4;35;1mProduct Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `products`[0m
Rendered shared/_products (45.1ms)
Rendered shared/_full_tree (0.9ms)
Rendered shared/_main_many (1.5ms)
Completed in 117ms (View: 59, DB: 5) | 200 OK [http://localhost/admin/products?parent_id=52]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#tree_funeral (for 127.0.0.1 at 2010-04-13 08:30:09) [GET]
  Parameters: {"id"=>"0"}
  [4;36;1mMenyItem Load (0.4ms)[0m   [0;1mSELECT * FROM `meny_items` [0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE ((category_type = 'Funerals') AND (parent_id = 0)) [0m
  [4;36;1mProductCategory Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `product_categories`[0m
  [4;35;1mProductCategory Load (0.2ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 9) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 51) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 52) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 53) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 44) ORDER BY category_name ASC[0m
Completed in 33ms (View: 1, DB: 2) | 200 OK [http://localhost/admin/products/tree_funeral?id=0]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#tree_monument (for 127.0.0.1 at 2010-04-13 08:30:09) [GET]
  Parameters: {"id"=>"0"}
  [4;36;1mMenyItem Load (0.3ms)[0m   [0;1mSELECT * FROM `meny_items` [0m
  [4;35;1mProductCategory Load (0.2ms)[0m   [0mSELECT * FROM `product_categories` WHERE ((category_type = 'Monuments') AND (parent_id = 0)) [0m
  [4;36;1mProductCategory Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `product_categories`[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 10) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 54) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 55) ORDER BY category_name ASC[0m
Completed in 28ms (View: 1, DB: 2) | 200 OK [http://localhost/admin/products/tree_monument?id=0]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#show_product_table (for 127.0.0.1 at 2010-04-13 08:30:30) [GET]
  Parameters: {"parent_id"=>"52"}
  [4;36;1mMenyItem Load (0.8ms)[0m   [0;1mSELECT * FROM `meny_items` [0m
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mProductCategory Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `product_categories`[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.`id` = 52) LIMIT 1[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 52) ORDER BY category_name ASC[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (product_category_id IN(52)) ORDER BY created_at DESC LIMIT 0, 12[0m
  [4;35;1mProduct Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `products`[0m
Rendered shared/_products (49.1ms)
Completed in 99ms (View: 57, DB: 5) | 200 OK [http://localhost/admin/products/show_product_table?parent_id=52]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#new (for 127.0.0.1 at 2010-04-13 08:30:31) [GET]
  Parameters: {"parent_id"=>"52"}
  [4;36;1mMenyItem Load (0.1ms)[0m   [0;1mSELECT * FROM `meny_items` [0m
  [4;35;1mUser Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mProductCategory Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `product_categories`[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.`id` = 52) LIMIT 1[0m
  [4;35;1mProduct Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `products`[0m
Rendering template within layouts/admin
Rendering admin/products/new
Rendered admin/products/_form (8.7ms)
Rendered shared/_main_many (1.4ms)
Completed in 58ms (View: 16, DB: 3) | 200 OK [http://localhost/admin/products/new?parent_id=52]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#create (for 127.0.0.1 at 2010-04-13 08:30:35) [POST]
  Parameters: {"commit"=>"Создать", "authenticity_token"=>"Rrj/u4SS1TQHsAEqOOfxaUrpawb7M0isBOIh0et12Ts=", "product"=>{"title"=>"hj", "description"=>"<p>hj</p>"}, "parent_id"=>"52"}
  [4;36;1mMenyItem Load (0.2ms)[0m   [0;1mSELECT * FROM `meny_items` [0m
  [4;35;1mUser Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mProductCategory Columns (1.9ms)[0m   [0mSHOW FIELDS FROM `product_categories`[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.`id` = 52) LIMIT 1[0m
  [4;35;1mProduct Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `products`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mProduct Load (0.3ms)[0m   [0mSELECT `products`.id FROM `products` WHERE (`products`.`title` = BINARY 'hj') LIMIT 1[0m
  [4;36;1mProduct Create (0.2ms)[0m   [0;1mINSERT INTO `products` (`created_at`, `title`, `product_category_id`, `updated_at`, `category_type`, `description`, `product_photo_file_name`, `product_photo_content_type`, `product_photo_file_size`, `product_photo_updated_at`) VALUES('2010-04-13 05:30:35', 'hj', 52, '2010-04-13 05:30:35', 'Funerals', '<p>hj</p>', NULL, NULL, NULL, NULL)[0m
[paperclip] Saving attachments.
  [4;35;1mSQL (2.1ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost:3000/admin/products?parent_id=52
Completed in 55ms (DB: 7) | 302 Found [http://localhost/admin/products]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#index (for 127.0.0.1 at 2010-04-13 08:30:35) [GET]
  Parameters: {"parent_id"=>"52"}
  [4;36;1mMenyItem Load (0.1ms)[0m   [0;1mSELECT * FROM `meny_items` [0m
  [4;35;1mUser Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mProductCategory Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `product_categories`[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.`id` = 52) LIMIT 1[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 52) ORDER BY category_name ASC[0m
  [4;36;1mProduct Load (0.4ms)[0m   [0;1mSELECT * FROM `products` WHERE (product_category_id IN(52)) ORDER BY created_at DESC LIMIT 0, 12[0m
Rendering template within layouts/admin
Rendering admin/products/index
  [4;35;1mProduct Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `products`[0m
Rendered shared/_products (52.5ms)
Rendered shared/_full_tree (0.9ms)
Rendered shared/_main_many (1.5ms)
Completed in 179ms (View: 66, DB: 4) | 200 OK [http://localhost/admin/products?parent_id=52]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2010-04-13 08:30:35) [GET]

ActionController::RoutingError (No route matches "/product_photos/thumb/missing.png" with {:method=>:get}):
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendering rescues/layout (not_found)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#tree_funeral (for 127.0.0.1 at 2010-04-13 08:30:35) [GET]
  Parameters: {"id"=>"0"}
  [4;36;1mMenyItem Load (0.1ms)[0m   [0;1mSELECT * FROM `meny_items` [0m
  [4;35;1mProductCategory Load (0.5ms)[0m   [0mSELECT * FROM `product_categories` WHERE ((category_type = 'Funerals') AND (parent_id = 0)) [0m
  [4;36;1mProductCategory Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `product_categories`[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 9) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 51) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 52) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.4ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 53) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 44) ORDER BY category_name ASC[0m
Completed in 37ms (View: 1, DB: 3) | 200 OK [http://localhost/admin/products/tree_funeral?id=0]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#tree_monument (for 127.0.0.1 at 2010-04-13 08:30:35) [GET]
  Parameters: {"id"=>"0"}
  [4;36;1mMenyItem Load (0.2ms)[0m   [0;1mSELECT * FROM `meny_items` [0m
  [4;35;1mProductCategory Load (0.2ms)[0m   [0mSELECT * FROM `product_categories` WHERE ((category_type = 'Monuments') AND (parent_id = 0)) [0m
  [4;36;1mProductCategory Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `product_categories`[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 10) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 54) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 55) ORDER BY category_name ASC[0m
Completed in 30ms (View: 1, DB: 2) | 200 OK [http://localhost/admin/products/tree_monument?id=0]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#index (for 127.0.0.1 at 2010-04-13 08:30:52) [GET]
  Parameters: {"parent_id"=>"52"}
  [4;36;1mMenyItem Load (0.1ms)[0m   [0;1mSELECT * FROM `meny_items` [0m
  [4;35;1mUser Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mProductCategory Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `product_categories`[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.`id` = 52) LIMIT 1[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 52) ORDER BY category_name ASC[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (product_category_id IN(52)) ORDER BY created_at DESC LIMIT 0, 12[0m
Rendering template within layouts/admin
Rendering admin/products/index
  [4;35;1mProduct Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `products`[0m
Rendered shared/_products (56.3ms)
Rendered shared/_full_tree (0.9ms)
Rendered shared/_main_many (1.5ms)
Completed in 116ms (View: 69, DB: 4) | 200 OK [http://localhost/admin/products?parent_id=52]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2010-04-13 08:30:53) [GET]

ActionController::RoutingError (No route matches "/product_photos/thumb/missing.png" with {:method=>:get}):
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendering rescues/layout (not_found)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#tree_monument (for 127.0.0.1 at 2010-04-13 08:30:53) [GET]
  Parameters: {"id"=>"0"}
  [4;36;1mMenyItem Load (0.2ms)[0m   [0;1mSELECT * FROM `meny_items` [0m
  [4;35;1mProductCategory Load (2.9ms)[0m   [0mSELECT * FROM `product_categories` WHERE ((category_type = 'Monuments') AND (parent_id = 0)) [0m
  [4;36;1mProductCategory Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `product_categories`[0m
  [4;35;1mProductCategory Load (0.2ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 10) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (2.8ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 54) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 55) ORDER BY category_name ASC[0m
Completed in 36ms (View: 1, DB: 7) | 200 OK [http://localhost/admin/products/tree_monument?id=0]
  [4;36;1mSQL (2.6ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (1.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#tree_funeral (for 127.0.0.1 at 2010-04-13 08:30:53) [GET]
  Parameters: {"id"=>"0"}
  [4;36;1mMenyItem Load (0.6ms)[0m   [0;1mSELECT * FROM `meny_items` [0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE ((category_type = 'Funerals') AND (parent_id = 0)) [0m
  [4;36;1mProductCategory Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `product_categories`[0m
  [4;35;1mProductCategory Load (0.2ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 9) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 51) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.2ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 52) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (2.5ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 53) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.4ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 44) ORDER BY category_name ASC[0m
Completed in 40ms (View: 1, DB: 9) | 200 OK [http://localhost/admin/products/tree_funeral?id=0]
  [4;36;1mSQL (0.4ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (1.7ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#index (for 127.0.0.1 at 2010-04-13 08:32:57) [GET]
  Parameters: {"parent_id"=>"52"}
  [4;36;1mMenyItem Load (0.1ms)[0m   [0;1mSELECT * FROM `meny_items` [0m
  [4;35;1mUser Columns (3.7ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mProductCategory Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `product_categories`[0m
  [4;36;1mProductCategory Load (0.2ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.`id` = 52) LIMIT 1[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 52) ORDER BY category_name ASC[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (product_category_id IN(52)) ORDER BY created_at DESC LIMIT 0, 12[0m
Rendering template within layouts/admin
Rendering admin/products/index
  [4;35;1mProduct Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `products`[0m
Rendered shared/_products (55.8ms)
Rendered shared/_full_tree (0.9ms)
Rendered shared/_main_many (1.4ms)
Completed in 133ms (View: 69, DB: 9) | 200 OK [http://localhost/admin/products?parent_id=52]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2010-04-13 08:32:58) [GET]

ActionController::RoutingError (No route matches "/product_photos/thumb/missing.png" with {:method=>:get}):
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendering rescues/layout (not_found)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (7.6ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#tree_funeral (for 127.0.0.1 at 2010-04-13 08:32:58) [GET]
  Parameters: {"id"=>"0"}
  [4;36;1mMenyItem Load (0.2ms)[0m   [0;1mSELECT * FROM `meny_items` [0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE ((category_type = 'Funerals') AND (parent_id = 0)) [0m
  [4;36;1mProductCategory Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `product_categories`[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 9) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 51) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 52) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 53) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 44) ORDER BY category_name ASC[0m
Completed in 34ms (View: 1, DB: 10) | 200 OK [http://localhost/admin/products/tree_funeral?id=0]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#tree_monument (for 127.0.0.1 at 2010-04-13 08:32:58) [GET]
  Parameters: {"id"=>"0"}
  [4;36;1mMenyItem Load (0.2ms)[0m   [0;1mSELECT * FROM `meny_items` [0m
  [4;35;1mProductCategory Load (0.4ms)[0m   [0mSELECT * FROM `product_categories` WHERE ((category_type = 'Monuments') AND (parent_id = 0)) [0m
  [4;36;1mProductCategory Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `product_categories`[0m
  [4;35;1mProductCategory Load (0.8ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 10) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 54) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.4ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 55) ORDER BY category_name ASC[0m
Completed in 37ms (View: 1, DB: 3) | 200 OK [http://localhost/admin/products/tree_monument?id=0]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#show_product_table (for 127.0.0.1 at 2010-04-13 08:33:00) [GET]
  Parameters: {"parent_id"=>"51"}
  [4;36;1mMenyItem Load (1.3ms)[0m   [0;1mSELECT * FROM `meny_items` [0m
  [4;35;1mUser Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mProductCategory Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `product_categories`[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.`id` = 51) LIMIT 1[0m
  [4;35;1mProductCategory Load (0.3ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 51) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.3ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 52) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.3ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 53) ORDER BY category_name ASC[0m
  [4;36;1mProduct Load (4.3ms)[0m   [0;1mSELECT * FROM `products` WHERE (product_category_id IN(52,53,51)) ORDER BY created_at DESC LIMIT 0, 12[0m
  [4;35;1mProduct Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `products`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `products` WHERE (product_category_id IN(52,53,51)) [0m
Rendered shared/_products (177.9ms)
Completed in 252ms (View: 197, DB: 10) | 200 OK [http://localhost/admin/products/show_product_table?parent_id=51]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#show_product_table (for 127.0.0.1 at 2010-04-13 08:33:01) [GET]
  Parameters: {"parent_id"=>"51"}
  [4;35;1mMenyItem Load (2.6ms)[0m   [0mSELECT * FROM `meny_items` [0m
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mProductCategory Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `product_categories`[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.`id` = 51) LIMIT 1[0m
  [4;36;1mProductCategory Load (0.2ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 51) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (7.7ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 52) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 53) ORDER BY category_name ASC[0m
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM `products` WHERE (product_category_id IN(52,53,51)) ORDER BY created_at DESC LIMIT 0, 12[0m
  [4;36;1mProduct Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `products` WHERE (product_category_id IN(52,53,51)) [0m
Rendered shared/_products (91.2ms)
Completed in 256ms (View: 192, DB: 14) | 200 OK [http://localhost/admin/products/show_product_table?parent_id=51]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#index (for 127.0.0.1 at 2010-04-13 08:34:00) [GET]
  Parameters: {"parent_id"=>"52"}
  [4;36;1mMenyItem Load (0.2ms)[0m   [0;1mSELECT * FROM `meny_items` [0m
  [4;35;1mUser Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mProductCategory Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `product_categories`[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.`id` = 52) LIMIT 1[0m
  [4;35;1mProductCategory Load (0.2ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 52) ORDER BY category_name ASC[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (product_category_id IN(52)) ORDER BY created_at DESC LIMIT 0, 12[0m
Rendering template within layouts/admin
Rendering admin/products/index
  [4;35;1mProduct Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `products`[0m
Rendered shared/_products (53.5ms)
Rendered shared/_full_tree (0.9ms)
Rendered shared/_main_many (1.6ms)
Completed in 115ms (View: 66, DB: 4) | 200 OK [http://localhost/admin/products?parent_id=52]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2010-04-13 08:34:01) [GET]

ActionController::RoutingError (No route matches "/product_photos/thumb/missing.png" with {:method=>:get}):
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendering rescues/layout (not_found)
  [4;36;1mSQL (2.9ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#tree_funeral (for 127.0.0.1 at 2010-04-13 08:34:01) [GET]
  Parameters: {"id"=>"0"}
  [4;36;1mMenyItem Load (0.1ms)[0m   [0;1mSELECT * FROM `meny_items` [0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE ((category_type = 'Funerals') AND (parent_id = 0)) [0m
  [4;36;1mProductCategory Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `product_categories`[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 9) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 51) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 52) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 53) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 44) ORDER BY category_name ASC[0m
Completed in 36ms (View: 1, DB: 5) | 200 OK [http://localhost/admin/products/tree_funeral?id=0]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#tree_monument (for 127.0.0.1 at 2010-04-13 08:34:01) [GET]
  Parameters: {"id"=>"0"}
  [4;36;1mMenyItem Load (0.2ms)[0m   [0;1mSELECT * FROM `meny_items` [0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE ((category_type = 'Monuments') AND (parent_id = 0)) [0m
  [4;36;1mProductCategory Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `product_categories`[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 10) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 54) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 55) ORDER BY category_name ASC[0m
Completed in 29ms (View: 1, DB: 2) | 200 OK [http://localhost/admin/products/tree_monument?id=0]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (1.3ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#index (for 127.0.0.1 at 2010-04-13 08:34:16) [GET]
  Parameters: {"parent_id"=>"52"}
  [4;36;1mMenyItem Load (0.2ms)[0m   [0;1mSELECT * FROM `meny_items` [0m
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mProductCategory Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `product_categories`[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.`id` = 52) LIMIT 1[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 52) ORDER BY category_name ASC[0m
  [4;36;1mProduct Load (0.5ms)[0m   [0;1mSELECT * FROM `products` WHERE (product_category_id IN(52)) ORDER BY created_at DESC LIMIT 0, 12[0m
Rendering template within layouts/admin
Rendering admin/products/index
  [4;35;1mProduct Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `products`[0m
Rendered shared/_products (52.8ms)
Rendered shared/_full_tree (0.9ms)
Rendered shared/_main_many (1.9ms)
Completed in 116ms (View: 67, DB: 6) | 200 OK [http://localhost/admin/products?parent_id=52]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2010-04-13 08:34:16) [GET]

ActionController::RoutingError (No route matches "/product_photos/thumb/missing.png" with {:method=>:get}):
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendering rescues/layout (not_found)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#tree_funeral (for 127.0.0.1 at 2010-04-13 08:34:17) [GET]
  Parameters: {"id"=>"0"}
  [4;36;1mMenyItem Load (0.2ms)[0m   [0;1mSELECT * FROM `meny_items` [0m
  [4;35;1mProductCategory Load (0.7ms)[0m   [0mSELECT * FROM `product_categories` WHERE ((category_type = 'Funerals') AND (parent_id = 0)) [0m
  [4;36;1mProductCategory Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `product_categories`[0m
  [4;35;1mProductCategory Load (0.2ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 9) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 51) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.4ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 52) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 53) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 44) ORDER BY category_name ASC[0m
Completed in 43ms (View: 1, DB: 3) | 200 OK [http://localhost/admin/products/tree_funeral?id=0]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#tree_monument (for 127.0.0.1 at 2010-04-13 08:34:17) [GET]
  Parameters: {"id"=>"0"}
  [4;36;1mMenyItem Load (0.7ms)[0m   [0;1mSELECT * FROM `meny_items` [0m
  [4;35;1mProductCategory Load (0.2ms)[0m   [0mSELECT * FROM `product_categories` WHERE ((category_type = 'Monuments') AND (parent_id = 0)) [0m
  [4;36;1mProductCategory Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `product_categories`[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 10) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 54) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 55) ORDER BY category_name ASC[0m
Completed in 34ms (View: 1, DB: 3) | 200 OK [http://localhost/admin/products/tree_monument?id=0]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#destroy (for 127.0.0.1 at 2010-04-13 08:34:19) [DELETE]
  Parameters: {"authenticity_token"=>"Rrj/u4SS1TQHsAEqOOfxaUrpawb7M0isBOIh0et12Ts=", "id"=>"41", "parent_id"=>"52"}
  [4;36;1mMenyItem Load (2.7ms)[0m   [0;1mSELECT * FROM `meny_items` [0m
  [4;35;1mUser Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (1.7ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mProductCategory Columns (14.6ms)[0m   [0mSHOW FIELDS FROM `product_categories`[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.`id` = 52) LIMIT 1[0m
  [4;35;1mProduct Columns (5.9ms)[0m   [0mSHOW FIELDS FROM `products`[0m
  [4;36;1mProduct Load (0.9ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 41) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
[paperclip] Deleting attachments.
  [4;36;1mProduct Destroy (0.4ms)[0m   [0;1mDELETE FROM `products` WHERE `id` = 41[0m
  [4;35;1mSQL (13.6ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost:3000/admin/products?parent_id=52
Completed in 83ms (DB: 41) | 302 Found [http://localhost/admin/products/41?parent_id=52]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#index (for 127.0.0.1 at 2010-04-13 08:34:20) [GET]
  Parameters: {"parent_id"=>"52"}
  [4;36;1mMenyItem Load (0.1ms)[0m   [0;1mSELECT * FROM `meny_items` [0m
  [4;35;1mUser Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mProductCategory Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `product_categories`[0m
  [4;36;1mProductCategory Load (0.2ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.`id` = 52) LIMIT 1[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 52) ORDER BY category_name ASC[0m
  [4;36;1mProduct Load (0.4ms)[0m   [0;1mSELECT * FROM `products` WHERE (product_category_id IN(52)) ORDER BY created_at DESC LIMIT 0, 12[0m
Rendering template within layouts/admin
Rendering admin/products/index
  [4;35;1mProduct Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `products`[0m
Rendered shared/_products (46.7ms)
Rendered shared/_full_tree (0.9ms)
Rendered shared/_main_many (1.4ms)
Completed in 103ms (View: 54, DB: 4) | 200 OK [http://localhost/admin/products?parent_id=52]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#tree_funeral (for 127.0.0.1 at 2010-04-13 08:34:20) [GET]
  Parameters: {"id"=>"0"}
  [4;36;1mMenyItem Load (0.1ms)[0m   [0;1mSELECT * FROM `meny_items` [0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE ((category_type = 'Funerals') AND (parent_id = 0)) [0m
  [4;36;1mProductCategory Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `product_categories`[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 9) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 51) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 52) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 53) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 44) ORDER BY category_name ASC[0m
Completed in 32ms (View: 1, DB: 2) | 200 OK [http://localhost/admin/products/tree_funeral?id=0]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#tree_monument (for 127.0.0.1 at 2010-04-13 08:34:20) [GET]
  Parameters: {"id"=>"0"}
  [4;36;1mMenyItem Load (0.1ms)[0m   [0;1mSELECT * FROM `meny_items` [0m
  [4;35;1mProductCategory Load (0.2ms)[0m   [0mSELECT * FROM `product_categories` WHERE ((category_type = 'Monuments') AND (parent_id = 0)) [0m
  [4;36;1mProductCategory Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `product_categories`[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 10) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 54) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 55) ORDER BY category_name ASC[0m
Completed in 29ms (View: 1, DB: 2) | 200 OK [http://localhost/admin/products/tree_monument?id=0]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#show_product_table (for 127.0.0.1 at 2010-04-13 08:34:22) [GET]
  Parameters: {"parent_id"=>"44"}
  [4;36;1mMenyItem Load (0.1ms)[0m   [0;1mSELECT * FROM `meny_items` [0m
  [4;35;1mUser Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mProductCategory Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `product_categories`[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.`id` = 44) LIMIT 1[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 44) ORDER BY category_name ASC[0m
  [4;36;1mProduct Load (0.4ms)[0m   [0;1mSELECT * FROM `products` WHERE (product_category_id IN(44)) ORDER BY created_at DESC LIMIT 0, 12[0m
Rendered shared/_products (9.0ms)
Completed in 56ms (View: 12, DB: 3) | 200 OK [http://localhost/admin/products/show_product_table?parent_id=44]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#show_product_table (for 127.0.0.1 at 2010-04-13 08:34:23) [GET]
  Parameters: {"parent_id"=>"51"}
  [4;35;1mMenyItem Load (0.1ms)[0m   [0mSELECT * FROM `meny_items` [0m
  [4;36;1mUser Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mProductCategory Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `product_categories`[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.`id` = 51) LIMIT 1[0m
  [4;36;1mProductCategory Load (0.3ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 51) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 52) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 53) ORDER BY category_name ASC[0m
  [4;35;1mProduct Load (0.5ms)[0m   [0mSELECT * FROM `products` WHERE (product_category_id IN(52,53,51)) ORDER BY created_at DESC LIMIT 0, 12[0m
  [4;36;1mProduct Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `products` WHERE (product_category_id IN(52,53,51)) [0m
Rendered shared/_products (92.9ms)
Completed in 231ms (View: 184, DB: 4) | 200 OK [http://localhost/admin/products/show_product_table?parent_id=51]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#index (for 127.0.0.1 at 2010-04-13 08:34:24) [GET]
  [4;36;1mMenyItem Load (0.2ms)[0m   [0;1mSELECT * FROM `meny_items` [0m
  [4;35;1mUser Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mProductCategory Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `product_categories`[0m
  [4;36;1mProductCategory Load (0.2ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.`id` = 0) LIMIT 1[0m
Rendering template within layouts/admin
Rendering admin/products/index

ActionView::TemplateError (Called id for nil, which would mistakenly be 4 -- if you really wanted the id of nil, use object_id) on line #4 of app/views/admin/products/index.html.erb:
1: <% title "Каталог товаров" %>
2: <script type="text/javascript">
3:   jQuery(document).ready(function($){
4:     alert(<%= @category.id %>);
5:     $j("#funerals_tree").refresh();
6:   });
7: </script>

    app/views/admin/products/index.html.erb:4
    /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (54.0ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.2ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#show_product_table (for 127.0.0.1 at 2010-04-13 08:34:54) [GET]
  Parameters: {"parent_id"=>"51"}
  [4;35;1mMenyItem Load (0.2ms)[0m   [0mSELECT * FROM `meny_items` [0m
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mProductCategory Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `product_categories`[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.`id` = 51) LIMIT 1[0m
  [4;36;1mProductCategory Load (2.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 51) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 52) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.2ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 53) ORDER BY category_name ASC[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (product_category_id IN(52,53,51)) ORDER BY created_at DESC LIMIT 0, 12[0m
  [4;36;1mProduct Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `products` WHERE (product_category_id IN(52,53,51)) [0m
Rendered shared/_products (96.2ms)
Completed in 242ms (View: 115, DB: 6) | 200 OK [http://localhost/admin/products/show_product_table?parent_id=51]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#show_product_table (for 127.0.0.1 at 2010-04-13 08:34:55) [GET]
  Parameters: {"parent_id"=>"52"}
  [4;36;1mMenyItem Load (0.2ms)[0m   [0;1mSELECT * FROM `meny_items` [0m
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mProductCategory Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `product_categories`[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.`id` = 52) LIMIT 1[0m
  [4;35;1mProductCategory Load (0.2ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 52) ORDER BY category_name ASC[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (product_category_id IN(52)) ORDER BY created_at DESC LIMIT 0, 12[0m
  [4;35;1mProduct Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `products`[0m
Rendered shared/_products (46.2ms)
Completed in 94ms (View: 54, DB: 4) | 200 OK [http://localhost/admin/products/show_product_table?parent_id=52]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#show_product_table (for 127.0.0.1 at 2010-04-13 08:34:56) [GET]
  Parameters: {"parent_id"=>"53"}
  [4;36;1mMenyItem Load (0.2ms)[0m   [0;1mSELECT * FROM `meny_items` [0m
  [4;35;1mUser Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mProductCategory Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `product_categories`[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.`id` = 53) LIMIT 1[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 53) ORDER BY category_name ASC[0m
  [4;36;1mProduct Load (0.4ms)[0m   [0;1mSELECT * FROM `products` WHERE (product_category_id IN(53)) ORDER BY created_at DESC LIMIT 0, 12[0m
  [4;35;1mProduct Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `products`[0m
Rendered shared/_products (33.7ms)
Completed in 87ms (View: 40, DB: 4) | 200 OK [http://localhost/admin/products/show_product_table?parent_id=53]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#show_product_table (for 127.0.0.1 at 2010-04-13 08:35:07) [GET]
  Parameters: {"parent_id"=>"53"}
  [4;36;1mMenyItem Load (0.1ms)[0m   [0;1mSELECT * FROM `meny_items` [0m
  [4;35;1mUser Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mProductCategory Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `product_categories`[0m
  [4;36;1mProductCategory Load (0.2ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.`id` = 53) LIMIT 1[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 53) ORDER BY category_name ASC[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (product_category_id IN(53)) ORDER BY created_at DESC LIMIT 0, 12[0m
  [4;35;1mProduct Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `products`[0m
Rendered shared/_products (50.4ms)
Completed in 98ms (View: 56, DB: 4) | 200 OK [http://localhost/admin/products/show_product_table?parent_id=53]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#show_product_table (for 127.0.0.1 at 2010-04-13 08:35:07) [GET]
  Parameters: {"parent_id"=>"52"}
  [4;36;1mMenyItem Load (0.1ms)[0m   [0;1mSELECT * FROM `meny_items` [0m
  [4;35;1mUser Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mProductCategory Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `product_categories`[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.`id` = 52) LIMIT 1[0m
  [4;35;1mProductCategory Load (0.2ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 52) ORDER BY category_name ASC[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (product_category_id IN(52)) ORDER BY created_at DESC LIMIT 0, 12[0m
  [4;35;1mProduct Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `products`[0m
Rendered shared/_products (52.6ms)
Completed in 107ms (View: 61, DB: 4) | 200 OK [http://localhost/admin/products/show_product_table?parent_id=52]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#show_product_table (for 127.0.0.1 at 2010-04-13 08:35:08) [GET]
  Parameters: {"parent_id"=>"51"}
  [4;36;1mMenyItem Load (0.1ms)[0m   [0;1mSELECT * FROM `meny_items` [0m
  [4;35;1mUser Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mProductCategory Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `product_categories`[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.`id` = 51) LIMIT 1[0m
  [4;35;1mProductCategory Load (0.2ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 51) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 52) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 53) ORDER BY category_name ASC[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (product_category_id IN(52,53,51)) ORDER BY created_at DESC LIMIT 0, 12[0m
  [4;35;1mProduct Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `products`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `products` WHERE (product_category_id IN(52,53,51)) [0m
Rendered shared/_products (92.8ms)
Completed in 158ms (View: 110, DB: 4) | 200 OK [http://localhost/admin/products/show_product_table?parent_id=51]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#show_product_table (for 127.0.0.1 at 2010-04-13 08:35:09) [GET]
  Parameters: {"parent_id"=>"44"}
  [4;35;1mMenyItem Load (0.2ms)[0m   [0mSELECT * FROM `meny_items` [0m
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mProductCategory Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `product_categories`[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.`id` = 44) LIMIT 1[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 44) ORDER BY category_name ASC[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (product_category_id IN(44)) ORDER BY created_at DESC LIMIT 0, 12[0m
Rendered shared/_products (11.9ms)
Completed in 57ms (View: 15, DB: 3) | 200 OK [http://localhost/admin/products/show_product_table?parent_id=44]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#new (for 127.0.0.1 at 2010-04-13 08:35:13) [GET]
  Parameters: {"parent_id"=>"44"}
  [4;36;1mMenyItem Load (0.3ms)[0m   [0;1mSELECT * FROM `meny_items` [0m
  [4;35;1mUser Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mProductCategory Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `product_categories`[0m
  [4;36;1mProductCategory Load (1.2ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.`id` = 44) LIMIT 1[0m
  [4;35;1mProduct Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `products`[0m
Rendering template within layouts/admin
Rendering admin/products/new
Rendered admin/products/_form (9.1ms)
Rendered shared/_main_many (1.5ms)
Completed in 60ms (View: 17, DB: 5) | 200 OK [http://localhost/admin/products/new?parent_id=44]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#create (for 127.0.0.1 at 2010-04-13 08:35:18) [POST]
  Parameters: {"commit"=>"Создать", "authenticity_token"=>"Rrj/u4SS1TQHsAEqOOfxaUrpawb7M0isBOIh0et12Ts=", "product"=>{"title"=>"gfh", "description"=>"<p>fgh</p>"}, "parent_id"=>"44"}
  [4;36;1mMenyItem Load (0.1ms)[0m   [0;1mSELECT * FROM `meny_items` [0m
  [4;35;1mUser Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mProductCategory Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `product_categories`[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.`id` = 44) LIMIT 1[0m
  [4;35;1mProduct Columns (4.3ms)[0m   [0mSHOW FIELDS FROM `products`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mProduct Load (0.6ms)[0m   [0mSELECT `products`.id FROM `products` WHERE (`products`.`title` = BINARY 'gfh') LIMIT 1[0m
  [4;36;1mProduct Create (0.2ms)[0m   [0;1mINSERT INTO `products` (`created_at`, `title`, `product_category_id`, `updated_at`, `category_type`, `description`, `product_photo_file_name`, `product_photo_content_type`, `product_photo_file_size`, `product_photo_updated_at`) VALUES('2010-04-13 05:35:18', 'gfh', 44, '2010-04-13 05:35:18', 'Funerals', '<p>fgh</p>', NULL, NULL, NULL, NULL)[0m
[paperclip] Saving attachments.
  [4;35;1mSQL (2.0ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost:3000/admin/products?parent_id=44
Completed in 129ms (DB: 10) | 302 Found [http://localhost/admin/products]
  [4;36;1mSQL (4.3ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (2.8ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#index (for 127.0.0.1 at 2010-04-13 08:35:18) [GET]
  Parameters: {"parent_id"=>"44"}
  [4;36;1mMenyItem Load (0.2ms)[0m   [0;1mSELECT * FROM `meny_items` [0m
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mProductCategory Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `product_categories`[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.`id` = 44) LIMIT 1[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 44) ORDER BY category_name ASC[0m
  [4;36;1mProduct Load (0.4ms)[0m   [0;1mSELECT * FROM `products` WHERE (product_category_id IN(44)) ORDER BY created_at DESC LIMIT 0, 12[0m
Rendering template within layouts/admin
Rendering admin/products/index
  [4;35;1mProduct Columns (2.4ms)[0m   [0mSHOW FIELDS FROM `products`[0m
Rendered shared/_products (23.8ms)
Rendered shared/_full_tree (0.9ms)
Rendered shared/_main_many (1.4ms)
Completed in 79ms (View: 30, DB: 13) | 200 OK [http://localhost/admin/products?parent_id=44]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2010-04-13 08:35:18) [GET]

ActionController::RoutingError (No route matches "/product_photos/thumb/missing.png" with {:method=>:get}):
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendering rescues/layout (not_found)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#tree_funeral (for 127.0.0.1 at 2010-04-13 08:35:18) [GET]
  Parameters: {"id"=>"0"}
  [4;36;1mMenyItem Load (0.2ms)[0m   [0;1mSELECT * FROM `meny_items` [0m
  [4;35;1mProductCategory Load (0.5ms)[0m   [0mSELECT * FROM `product_categories` WHERE ((category_type = 'Funerals') AND (parent_id = 0)) [0m
  [4;36;1mProductCategory Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `product_categories`[0m
  [4;35;1mProductCategory Load (3.0ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 9) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.3ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 51) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 52) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 53) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 44) ORDER BY category_name ASC[0m
Completed in 120ms (View: 1, DB: 6) | 200 OK [http://localhost/admin/products/tree_funeral?id=0]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.6ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#tree_monument (for 127.0.0.1 at 2010-04-13 08:35:18) [GET]
  Parameters: {"id"=>"0"}
  [4;36;1mMenyItem Load (0.2ms)[0m   [0;1mSELECT * FROM `meny_items` [0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE ((category_type = 'Monuments') AND (parent_id = 0)) [0m
  [4;36;1mProductCategory Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `product_categories`[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 10) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 54) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 55) ORDER BY category_name ASC[0m
Completed in 29ms (View: 1, DB: 2) | 200 OK [http://localhost/admin/products/tree_monument?id=0]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#index (for 127.0.0.1 at 2010-04-13 08:36:01) [GET]
  Parameters: {"parent_id"=>"44"}
  [4;36;1mMenyItem Load (0.1ms)[0m   [0;1mSELECT * FROM `meny_items` [0m
  [4;35;1mUser Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mProductCategory Columns (2.6ms)[0m   [0mSHOW FIELDS FROM `product_categories`[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.`id` = 44) LIMIT 1[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 44) ORDER BY category_name ASC[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (product_category_id IN(44)) ORDER BY created_at DESC LIMIT 0, 12[0m
Rendering template within layouts/admin
Rendering admin/products/index
  [4;35;1mProduct Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `products`[0m
Rendered shared/_products (18.9ms)
Rendered shared/_full_tree (0.9ms)
Rendered shared/_main_many (1.7ms)
Completed in 78ms (View: 32, DB: 5) | 200 OK [http://localhost/admin/products?parent_id=44]
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2010-04-13 08:36:01) [GET]

ActionController::RoutingError (No route matches "/product_photos/thumb/missing.png" with {:method=>:get}):
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendering rescues/layout (not_found)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#tree_funeral (for 127.0.0.1 at 2010-04-13 08:36:01) [GET]
  Parameters: {"id"=>"0"}
  [4;36;1mMenyItem Load (0.1ms)[0m   [0;1mSELECT * FROM `meny_items` [0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE ((category_type = 'Funerals') AND (parent_id = 0)) [0m
  [4;36;1mProductCategory Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `product_categories`[0m
  [4;35;1mProductCategory Load (0.5ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 9) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 51) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 52) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 53) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 44) ORDER BY category_name ASC[0m
Completed in 43ms (View: 1, DB: 3) | 200 OK [http://localhost/admin/products/tree_funeral?id=0]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#tree_monument (for 127.0.0.1 at 2010-04-13 08:36:02) [GET]
  Parameters: {"id"=>"0"}
  [4;36;1mMenyItem Load (0.1ms)[0m   [0;1mSELECT * FROM `meny_items` [0m
  [4;35;1mProductCategory Load (5.8ms)[0m   [0mSELECT * FROM `product_categories` WHERE ((category_type = 'Monuments') AND (parent_id = 0)) [0m
  [4;36;1mProductCategory Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `product_categories`[0m
  [4;35;1mProductCategory Load (0.4ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 10) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 54) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 55) ORDER BY category_name ASC[0m
Completed in 106ms (View: 1, DB: 8) | 200 OK [http://localhost/admin/products/tree_monument?id=0]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#destroy (for 127.0.0.1 at 2010-04-13 08:36:03) [DELETE]
  Parameters: {"authenticity_token"=>"Rrj/u4SS1TQHsAEqOOfxaUrpawb7M0isBOIh0et12Ts=", "id"=>"42", "parent_id"=>"44"}
  [4;36;1mMenyItem Load (0.2ms)[0m   [0;1mSELECT * FROM `meny_items` [0m
  [4;35;1mUser Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mProductCategory Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `product_categories`[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.`id` = 44) LIMIT 1[0m
  [4;35;1mProduct Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `products`[0m
  [4;36;1mProduct Load (0.3ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 42) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
[paperclip] Deleting attachments.
  [4;36;1mProduct Destroy (36.2ms)[0m   [0;1mDELETE FROM `products` WHERE `id` = 42[0m
  [4;35;1mSQL (9.8ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost:3000/admin/products?parent_id=44
Completed in 98ms (DB: 50) | 302 Found [http://localhost/admin/products/42?parent_id=44]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#index (for 127.0.0.1 at 2010-04-13 08:36:03) [GET]
  Parameters: {"parent_id"=>"44"}
  [4;36;1mMenyItem Load (0.1ms)[0m   [0;1mSELECT * FROM `meny_items` [0m
  [4;35;1mUser Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mProductCategory Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `product_categories`[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.`id` = 44) LIMIT 1[0m
  [4;35;1mProductCategory Load (0.2ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 44) ORDER BY category_name ASC[0m
  [4;36;1mProduct Load (0.4ms)[0m   [0;1mSELECT * FROM `products` WHERE (product_category_id IN(44)) ORDER BY created_at DESC LIMIT 0, 12[0m
Rendering template within layouts/admin
Rendering admin/products/index
Rendered shared/_products (7.5ms)
Rendered shared/_full_tree (0.9ms)
Rendered shared/_main_many (3.9ms)
Completed in 66ms (View: 18, DB: 3) | 200 OK [http://localhost/admin/products?parent_id=44]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#tree_funeral (for 127.0.0.1 at 2010-04-13 08:36:04) [GET]
  Parameters: {"id"=>"0"}
  [4;35;1mMenyItem Load (0.2ms)[0m   [0mSELECT * FROM `meny_items` [0m
  [4;36;1mProductCategory Load (0.3ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE ((category_type = 'Funerals') AND (parent_id = 0)) [0m
  [4;35;1mProductCategory Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `product_categories`[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 9) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 51) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 52) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 53) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 44) ORDER BY category_name ASC[0m
Completed in 36ms (View: 1, DB: 2) | 200 OK [http://localhost/admin/products/tree_funeral?id=0]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#tree_monument (for 127.0.0.1 at 2010-04-13 08:36:04) [GET]
  Parameters: {"id"=>"0"}
  [4;35;1mMenyItem Load (0.2ms)[0m   [0mSELECT * FROM `meny_items` [0m
  [4;36;1mProductCategory Load (0.3ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE ((category_type = 'Monuments') AND (parent_id = 0)) [0m
  [4;35;1mProductCategory Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `product_categories`[0m
  [4;36;1mProductCategory Load (0.9ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 10) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 54) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 55) ORDER BY category_name ASC[0m
Completed in 30ms (View: 1, DB: 3) | 200 OK [http://localhost/admin/products/tree_monument?id=0]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#index (for 127.0.0.1 at 2010-04-13 08:36:09) [GET]
  [4;35;1mMenyItem Load (0.3ms)[0m   [0mSELECT * FROM `meny_items` [0m
  [4;36;1mUser Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mProductCategory Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `product_categories`[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.`id` = 0) LIMIT 1[0m
Rendering template within layouts/admin
Rendering admin/products/index
Rendered shared/_full_tree (0.8ms)
Rendered shared/_main_many (1.4ms)
Completed in 38ms (View: 7, DB: 2) | 200 OK [http://localhost/admin/products]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#tree_funeral (for 127.0.0.1 at 2010-04-13 08:36:09) [GET]
  Parameters: {"id"=>"0"}
  [4;36;1mMenyItem Load (0.2ms)[0m   [0;1mSELECT * FROM `meny_items` [0m
  [4;35;1mProductCategory Load (0.6ms)[0m   [0mSELECT * FROM `product_categories` WHERE ((category_type = 'Funerals') AND (parent_id = 0)) [0m
  [4;36;1mProductCategory Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `product_categories`[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 9) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.2ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 51) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.5ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 52) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 53) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 44) ORDER BY category_name ASC[0m
Completed in 125ms (View: 1, DB: 3) | 200 OK [http://localhost/admin/products/tree_funeral?id=0]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#tree_monument (for 127.0.0.1 at 2010-04-13 08:36:09) [GET]
  Parameters: {"id"=>"0"}
  [4;36;1mMenyItem Load (0.2ms)[0m   [0;1mSELECT * FROM `meny_items` [0m
  [4;35;1mProductCategory Load (2.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE ((category_type = 'Monuments') AND (parent_id = 0)) [0m
  [4;36;1mProductCategory Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `product_categories`[0m
  [4;35;1mProductCategory Load (0.2ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 10) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 54) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 55) ORDER BY category_name ASC[0m
Completed in 31ms (View: 1, DB: 4) | 200 OK [http://localhost/admin/products/tree_monument?id=0]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#index (for 127.0.0.1 at 2010-04-13 08:36:10) [GET]
  [4;36;1mMenyItem Load (0.3ms)[0m   [0;1mSELECT * FROM `meny_items` [0m
  [4;35;1mUser Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mProductCategory Columns (2.7ms)[0m   [0mSHOW FIELDS FROM `product_categories`[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.`id` = 0) LIMIT 1[0m
Rendering template within layouts/admin
Rendering admin/products/index
Rendered shared/_full_tree (0.9ms)
Rendered shared/_main_many (1.4ms)
Completed in 40ms (View: 7, DB: 4) | 200 OK [http://localhost/admin/products]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#tree_funeral (for 127.0.0.1 at 2010-04-13 08:36:11) [GET]
  Parameters: {"id"=>"0"}
  [4;35;1mMenyItem Load (0.2ms)[0m   [0mSELECT * FROM `meny_items` [0m
  [4;36;1mProductCategory Load (0.2ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE ((category_type = 'Funerals') AND (parent_id = 0)) [0m
  [4;35;1mProductCategory Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `product_categories`[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 9) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 51) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 52) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 53) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 44) ORDER BY category_name ASC[0m
Completed in 139ms (View: 1, DB: 2) | 200 OK [http://localhost/admin/products/tree_funeral?id=0]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#tree_monument (for 127.0.0.1 at 2010-04-13 08:36:11) [GET]
  Parameters: {"id"=>"0"}
  [4;35;1mMenyItem Load (0.1ms)[0m   [0mSELECT * FROM `meny_items` [0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE ((category_type = 'Monuments') AND (parent_id = 0)) [0m
  [4;35;1mProductCategory Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `product_categories`[0m
  [4;36;1mProductCategory Load (1.9ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 10) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 54) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 55) ORDER BY category_name ASC[0m
Completed in 32ms (View: 1, DB: 4) | 200 OK [http://localhost/admin/products/tree_monument?id=0]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#show_product_table (for 127.0.0.1 at 2010-04-13 08:36:12) [GET]
  Parameters: {"parent_id"=>"51"}
  [4;35;1mMenyItem Load (1.6ms)[0m   [0mSELECT * FROM `meny_items` [0m
  [4;36;1mUser Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mProductCategory Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `product_categories`[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.`id` = 51) LIMIT 1[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 51) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.2ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 52) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 53) ORDER BY category_name ASC[0m
  [4;35;1mProduct Load (0.5ms)[0m   [0mSELECT * FROM `products` WHERE (product_category_id IN(52,53,51)) ORDER BY created_at DESC LIMIT 0, 12[0m
  [4;36;1mProduct Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(*) AS count_all FROM `products` WHERE (product_category_id IN(52,53,51)) [0m
Rendered shared/_products (90.3ms)
Completed in 232ms (View: 182, DB: 7) | 200 OK [http://localhost/admin/products/show_product_table?parent_id=51]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#index (for 127.0.0.1 at 2010-04-13 08:36:13) [GET]
  [4;36;1mMenyItem Load (2.0ms)[0m   [0;1mSELECT * FROM `meny_items` [0m
  [4;35;1mUser Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mProductCategory Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `product_categories`[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.`id` = 0) LIMIT 1[0m
Rendering template within layouts/admin
Rendering admin/products/index
Rendered shared/_full_tree (0.8ms)
Rendered shared/_main_many (1.4ms)
Completed in 47ms (View: 11, DB: 5) | 200 OK [http://localhost/admin/products]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#tree_funeral (for 127.0.0.1 at 2010-04-13 08:36:14) [GET]
  Parameters: {"id"=>"0"}
  [4;35;1mMenyItem Load (0.1ms)[0m   [0mSELECT * FROM `meny_items` [0m
  [4;36;1mProductCategory Load (3.0ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE ((category_type = 'Funerals') AND (parent_id = 0)) [0m
  [4;35;1mProductCategory Columns (6.2ms)[0m   [0mSHOW FIELDS FROM `product_categories`[0m
  [4;36;1mProductCategory Load (0.2ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 9) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 51) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 52) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 53) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 44) ORDER BY category_name ASC[0m
Completed in 45ms (View: 1, DB: 10) | 200 OK [http://localhost/admin/products/tree_funeral?id=0]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#tree_monument (for 127.0.0.1 at 2010-04-13 08:36:14) [GET]
  Parameters: {"id"=>"0"}
  [4;35;1mMenyItem Load (1.7ms)[0m   [0mSELECT * FROM `meny_items` [0m
  [4;36;1mProductCategory Load (0.2ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE ((category_type = 'Monuments') AND (parent_id = 0)) [0m
  [4;35;1mProductCategory Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `product_categories`[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 10) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 54) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 55) ORDER BY category_name ASC[0m
Completed in 29ms (View: 1, DB: 3) | 200 OK [http://localhost/admin/products/tree_monument?id=0]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#index (for 127.0.0.1 at 2010-04-13 08:36:25) [GET]
  [4;35;1mMenyItem Load (0.2ms)[0m   [0mSELECT * FROM `meny_items` [0m
  [4;36;1mUser Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mProductCategory Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `product_categories`[0m
  [4;35;1mProductCategory Load (0.2ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.`id` = 0) LIMIT 1[0m
Rendering template within layouts/admin
Rendering admin/products/index
Rendered shared/_full_tree (0.9ms)
Rendered shared/_main_many (1.9ms)
Completed in 50ms (View: 15, DB: 3) | 200 OK [http://localhost/admin/products]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#tree_funeral (for 127.0.0.1 at 2010-04-13 08:36:26) [GET]
  Parameters: {"id"=>"0"}
  [4;36;1mMenyItem Load (2.2ms)[0m   [0;1mSELECT * FROM `meny_items` [0m
  [4;35;1mProductCategory Load (8.8ms)[0m   [0mSELECT * FROM `product_categories` WHERE ((category_type = 'Funerals') AND (parent_id = 0)) [0m
  [4;36;1mProductCategory Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `product_categories`[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 9) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 51) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 52) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 53) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 44) ORDER BY category_name ASC[0m
Completed in 42ms (View: 1, DB: 13) | 200 OK [http://localhost/admin/products/tree_funeral?id=0]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#tree_monument (for 127.0.0.1 at 2010-04-13 08:36:26) [GET]
  Parameters: {"id"=>"0"}
  [4;36;1mMenyItem Load (0.2ms)[0m   [0;1mSELECT * FROM `meny_items` [0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE ((category_type = 'Monuments') AND (parent_id = 0)) [0m
  [4;36;1mProductCategory Columns (3.5ms)[0m   [0;1mSHOW FIELDS FROM `product_categories`[0m
  [4;35;1mProductCategory Load (0.2ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 10) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 54) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 55) ORDER BY category_name ASC[0m
Completed in 38ms (View: 1, DB: 4) | 200 OK [http://localhost/admin/products/tree_monument?id=0]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#show_product_table (for 127.0.0.1 at 2010-04-13 08:36:27) [GET]
  Parameters: {"parent_id"=>"51"}
  [4;36;1mMenyItem Load (0.2ms)[0m   [0;1mSELECT * FROM `meny_items` [0m
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mProductCategory Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `product_categories`[0m
  [4;36;1mProductCategory Load (0.3ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.`id` = 51) LIMIT 1[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 51) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.3ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 52) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.5ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 53) ORDER BY category_name ASC[0m
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM `products` WHERE (product_category_id IN(52,53,51)) ORDER BY created_at DESC LIMIT 0, 12[0m
  [4;35;1mProduct Columns (2.1ms)[0m   [0mSHOW FIELDS FROM `products`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `products` WHERE (product_category_id IN(52,53,51)) [0m
Rendered shared/_products (96.8ms)
Completed in 168ms (View: 115, DB: 6) | 200 OK [http://localhost/admin/products/show_product_table?parent_id=51]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#index (for 127.0.0.1 at 2010-04-13 08:36:28) [GET]
  [4;35;1mMenyItem Load (0.1ms)[0m   [0mSELECT * FROM `meny_items` [0m
  [4;36;1mUser Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mProductCategory Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `product_categories`[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.`id` = 0) LIMIT 1[0m
Rendering template within layouts/admin
Rendering admin/products/index
Rendered shared/_full_tree (0.9ms)
Rendered shared/_main_many (1.5ms)
Completed in 42ms (View: 8, DB: 2) | 200 OK [http://localhost/admin/products]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#tree_monument (for 127.0.0.1 at 2010-04-13 08:36:28) [GET]
  Parameters: {"id"=>"0"}
  [4;36;1mMenyItem Load (0.1ms)[0m   [0;1mSELECT * FROM `meny_items` [0m
  [4;35;1mProductCategory Load (0.2ms)[0m   [0mSELECT * FROM `product_categories` WHERE ((category_type = 'Monuments') AND (parent_id = 0)) [0m
  [4;36;1mProductCategory Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `product_categories`[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 10) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 54) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 55) ORDER BY category_name ASC[0m
Completed in 30ms (View: 1, DB: 2) | 200 OK [http://localhost/admin/products/tree_monument?id=0]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#tree_funeral (for 127.0.0.1 at 2010-04-13 08:36:28) [GET]
  Parameters: {"id"=>"0"}
  [4;36;1mMenyItem Load (0.2ms)[0m   [0;1mSELECT * FROM `meny_items` [0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE ((category_type = 'Funerals') AND (parent_id = 0)) [0m
  [4;36;1mProductCategory Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `product_categories`[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 9) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 51) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 52) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 53) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 44) ORDER BY category_name ASC[0m
Completed in 39ms (View: 1, DB: 2) | 200 OK [http://localhost/admin/products/tree_funeral?id=0]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#index (for 127.0.0.1 at 2010-04-13 08:36:58) [GET]
  [4;36;1mMenyItem Load (0.1ms)[0m   [0;1mSELECT * FROM `meny_items` [0m
  [4;35;1mUser Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mProductCategory Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `product_categories`[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.`id` = 0) LIMIT 1[0m
Rendering template within layouts/admin
Rendering admin/products/index
Rendered shared/_full_tree (0.9ms)
Rendered shared/_main_many (1.4ms)
Completed in 48ms (View: 15, DB: 2) | 200 OK [http://localhost/admin/products]
  [4;35;1mSQL (6.9ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#tree_funeral (for 127.0.0.1 at 2010-04-13 08:36:59) [GET]
  Parameters: {"id"=>"0"}
  [4;35;1mMenyItem Load (0.1ms)[0m   [0mSELECT * FROM `meny_items` [0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE ((category_type = 'Funerals') AND (parent_id = 0)) [0m
  [4;35;1mProductCategory Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `product_categories`[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 9) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 51) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 52) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 53) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 44) ORDER BY category_name ASC[0m
Completed in 33ms (View: 1, DB: 9) | 200 OK [http://localhost/admin/products/tree_funeral?id=0]
  [4;35;1mSQL (0.4ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#tree_monument (for 127.0.0.1 at 2010-04-13 08:36:59) [GET]
  Parameters: {"id"=>"0"}
  [4;35;1mMenyItem Load (0.1ms)[0m   [0mSELECT * FROM `meny_items` [0m
  [4;36;1mProductCategory Load (0.7ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE ((category_type = 'Monuments') AND (parent_id = 0)) [0m
  [4;35;1mProductCategory Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `product_categories`[0m
  [4;36;1mProductCategory Load (0.2ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 10) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 54) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (2.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 55) ORDER BY category_name ASC[0m
Completed in 37ms (View: 1, DB: 5) | 200 OK [http://localhost/admin/products/tree_monument?id=0]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#index (for 127.0.0.1 at 2010-04-13 08:37:00) [GET]
  [4;35;1mMenyItem Load (0.2ms)[0m   [0mSELECT * FROM `meny_items` [0m
  [4;36;1mUser Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (1.6ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mProductCategory Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `product_categories`[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.`id` = 0) LIMIT 1[0m
Rendering template within layouts/admin
Rendering admin/products/index
Rendered shared/_full_tree (1.1ms)
Rendered shared/_main_many (1.6ms)
Completed in 110ms (View: 9, DB: 4) | 200 OK [http://localhost/admin/products]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#tree_funeral (for 127.0.0.1 at 2010-04-13 08:37:00) [GET]
  Parameters: {"id"=>"0"}
  [4;36;1mMenyItem Load (0.6ms)[0m   [0;1mSELECT * FROM `meny_items` [0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE ((category_type = 'Funerals') AND (parent_id = 0)) [0m
  [4;36;1mProductCategory Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `product_categories`[0m
  [4;35;1mProductCategory Load (5.4ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 9) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.2ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 51) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 52) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.6ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 53) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 44) ORDER BY category_name ASC[0m
Completed in 44ms (View: 1, DB: 8) | 200 OK [http://localhost/admin/products/tree_funeral?id=0]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#tree_monument (for 127.0.0.1 at 2010-04-13 08:37:00) [GET]
  Parameters: {"id"=>"0"}
  [4;36;1mMenyItem Load (0.1ms)[0m   [0;1mSELECT * FROM `meny_items` [0m
  [4;35;1mProductCategory Load (0.2ms)[0m   [0mSELECT * FROM `product_categories` WHERE ((category_type = 'Monuments') AND (parent_id = 0)) [0m
  [4;36;1mProductCategory Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `product_categories`[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 10) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 54) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.4ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 55) ORDER BY category_name ASC[0m
Completed in 97ms (View: 1, DB: 2) | 200 OK [http://localhost/admin/products/tree_monument?id=0]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#index (for 127.0.0.1 at 2010-04-13 08:37:13) [GET]
  [4;36;1mMenyItem Load (0.2ms)[0m   [0;1mSELECT * FROM `meny_items` [0m
  [4;35;1mUser Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (2.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mProductCategory Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `product_categories`[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.`id` = 0) LIMIT 1[0m
Rendering template within layouts/admin
Rendering admin/products/index
Rendered shared/_full_tree (1.0ms)
Rendered shared/_main_many (3.1ms)
Completed in 79ms (View: 15, DB: 4) | 200 OK [http://localhost/admin/products]
  [4;35;1mSQL (0.6ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#tree_funeral (for 127.0.0.1 at 2010-04-13 08:37:14) [GET]
  Parameters: {"id"=>"0"}
  [4;35;1mMenyItem Load (0.2ms)[0m   [0mSELECT * FROM `meny_items` [0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE ((category_type = 'Funerals') AND (parent_id = 0)) [0m
  [4;35;1mProductCategory Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `product_categories`[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 9) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 51) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 52) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 53) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.2ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 44) ORDER BY category_name ASC[0m
Completed in 107ms (View: 1, DB: 3) | 200 OK [http://localhost/admin/products/tree_funeral?id=0]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#tree_monument (for 127.0.0.1 at 2010-04-13 08:37:14) [GET]
  Parameters: {"id"=>"0"}
  [4;35;1mMenyItem Load (0.2ms)[0m   [0mSELECT * FROM `meny_items` [0m
  [4;36;1mProductCategory Load (0.2ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE ((category_type = 'Monuments') AND (parent_id = 0)) [0m
  [4;35;1mProductCategory Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `product_categories`[0m
  [4;36;1mProductCategory Load (0.2ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 10) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.2ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 54) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 55) ORDER BY category_name ASC[0m
Completed in 34ms (View: 1, DB: 2) | 200 OK [http://localhost/admin/products/tree_monument?id=0]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#index (for 127.0.0.1 at 2010-04-13 08:37:27) [GET]
  [4;35;1mMenyItem Load (0.2ms)[0m   [0mSELECT * FROM `meny_items` [0m
  [4;36;1mUser Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mProductCategory Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `product_categories`[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.`id` = 0) LIMIT 1[0m
Rendering template within layouts/admin
Rendering admin/products/index
Rendered shared/_full_tree (0.9ms)
Rendered shared/_main_many (1.4ms)
Completed in 45ms (View: 13, DB: 3) | 200 OK [http://localhost/admin/products]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#tree_monument (for 127.0.0.1 at 2010-04-13 08:37:28) [GET]
  Parameters: {"id"=>"0"}
  [4;36;1mMenyItem Load (0.1ms)[0m   [0;1mSELECT * FROM `meny_items` [0m
  [4;35;1mProductCategory Load (0.2ms)[0m   [0mSELECT * FROM `product_categories` WHERE ((category_type = 'Monuments') AND (parent_id = 0)) [0m
  [4;36;1mProductCategory Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `product_categories`[0m
  [4;35;1mProductCategory Load (0.2ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 10) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 54) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 55) ORDER BY category_name ASC[0m
Completed in 30ms (View: 1, DB: 2) | 200 OK [http://localhost/admin/products/tree_monument?id=0]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#tree_funeral (for 127.0.0.1 at 2010-04-13 08:37:28) [GET]
  Parameters: {"id"=>"0"}
  [4;36;1mMenyItem Load (0.1ms)[0m   [0;1mSELECT * FROM `meny_items` [0m
  [4;35;1mProductCategory Load (0.6ms)[0m   [0mSELECT * FROM `product_categories` WHERE ((category_type = 'Funerals') AND (parent_id = 0)) [0m
  [4;36;1mProductCategory Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `product_categories`[0m
  [4;35;1mProductCategory Load (0.2ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 9) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 51) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 52) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 53) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 44) ORDER BY category_name ASC[0m
Completed in 39ms (View: 1, DB: 3) | 200 OK [http://localhost/admin/products/tree_funeral?id=0]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#index (for 127.0.0.1 at 2010-04-13 08:37:31) [GET]
  [4;36;1mMenyItem Load (0.1ms)[0m   [0;1mSELECT * FROM `meny_items` [0m
  [4;35;1mUser Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mProductCategory Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `product_categories`[0m
  [4;36;1mProductCategory Load (77.6ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.`id` = 0) LIMIT 1[0m
Rendering template within layouts/admin
Rendering admin/products/index
Rendered shared/_full_tree (1.1ms)
Rendered shared/_main_many (1.7ms)
Completed in 129ms (View: 9, DB: 80) | 200 OK [http://localhost/admin/products]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#tree_funeral (for 127.0.0.1 at 2010-04-13 08:37:33) [GET]
  Parameters: {"id"=>"0"}
  [4;35;1mMenyItem Load (0.2ms)[0m   [0mSELECT * FROM `meny_items` [0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE ((category_type = 'Funerals') AND (parent_id = 0)) [0m
  [4;35;1mProductCategory Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `product_categories`[0m
  [4;36;1mProductCategory Load (0.2ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 9) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.6ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 51) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.2ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 52) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 53) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 44) ORDER BY category_name ASC[0m
Completed in 41ms (View: 1, DB: 3) | 200 OK [http://localhost/admin/products/tree_funeral?id=0]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#tree_monument (for 127.0.0.1 at 2010-04-13 08:37:33) [GET]
  Parameters: {"id"=>"0"}
  [4;35;1mMenyItem Load (0.1ms)[0m   [0mSELECT * FROM `meny_items` [0m
  [4;36;1mProductCategory Load (1.2ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE ((category_type = 'Monuments') AND (parent_id = 0)) [0m
  [4;35;1mProductCategory Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `product_categories`[0m
  [4;36;1mProductCategory Load (0.2ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 10) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 54) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 55) ORDER BY category_name ASC[0m
Completed in 40ms (View: 1, DB: 3) | 200 OK [http://localhost/admin/products/tree_monument?id=0]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#index (for 127.0.0.1 at 2010-04-13 08:37:34) [GET]
  [4;35;1mMenyItem Load (0.3ms)[0m   [0mSELECT * FROM `meny_items` [0m
  [4;36;1mUser Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mProductCategory Columns (2.5ms)[0m   [0;1mSHOW FIELDS FROM `product_categories`[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.`id` = 0) LIMIT 1[0m
Rendering template within layouts/admin
Rendering admin/products/index
Rendered shared/_full_tree (1.1ms)
Rendered shared/_main_many (1.5ms)
Completed in 213ms (View: 8, DB: 4) | 200 OK [http://localhost/admin/products]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#tree_funeral (for 127.0.0.1 at 2010-04-13 08:37:35) [GET]
  Parameters: {"id"=>"0"}
  [4;36;1mMenyItem Load (0.5ms)[0m   [0;1mSELECT * FROM `meny_items` [0m
  [4;35;1mProductCategory Load (0.2ms)[0m   [0mSELECT * FROM `product_categories` WHERE ((category_type = 'Funerals') AND (parent_id = 0)) [0m
  [4;36;1mProductCategory Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `product_categories`[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 9) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 51) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 52) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 53) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (2.2ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 44) ORDER BY category_name ASC[0m
Completed in 41ms (View: 1, DB: 5) | 200 OK [http://localhost/admin/products/tree_funeral?id=0]
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#tree_monument (for 127.0.0.1 at 2010-04-13 08:37:36) [GET]
  Parameters: {"id"=>"0"}
  [4;36;1mMenyItem Load (0.2ms)[0m   [0;1mSELECT * FROM `meny_items` [0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE ((category_type = 'Monuments') AND (parent_id = 0)) [0m
  [4;36;1mProductCategory Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `product_categories`[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 10) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 54) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 55) ORDER BY category_name ASC[0m
Completed in 35ms (View: 3, DB: 2) | 200 OK [http://localhost/admin/products/tree_monument?id=0]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#index (for 127.0.0.1 at 2010-04-13 08:38:39) [GET]
  [4;36;1mMenyItem Load (0.1ms)[0m   [0;1mSELECT * FROM `meny_items` [0m
  [4;35;1mUser Columns (3.5ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mProductCategory Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `product_categories`[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.`id` = 0) LIMIT 1[0m
Rendering template within layouts/admin
Rendering admin/products/index
Rendered shared/_full_tree (0.9ms)
Rendered shared/_main_many (1.4ms)
Completed in 50ms (View: 15, DB: 5) | 200 OK [http://localhost/admin/products]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#tree_funeral (for 127.0.0.1 at 2010-04-13 08:38:40) [GET]
  Parameters: {"id"=>"0"}
  [4;35;1mMenyItem Load (0.1ms)[0m   [0mSELECT * FROM `meny_items` [0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE ((category_type = 'Funerals') AND (parent_id = 0)) [0m
  [4;35;1mProductCategory Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `product_categories`[0m
  [4;36;1mProductCategory Load (0.2ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 9) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.2ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 51) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 52) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 53) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 44) ORDER BY category_name ASC[0m
Completed in 41ms (View: 1, DB: 2) | 200 OK [http://localhost/admin/products/tree_funeral?id=0]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#tree_monument (for 127.0.0.1 at 2010-04-13 08:38:40) [GET]
  Parameters: {"id"=>"0"}
  [4;35;1mMenyItem Load (0.2ms)[0m   [0mSELECT * FROM `meny_items` [0m
  [4;36;1mProductCategory Load (0.3ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE ((category_type = 'Monuments') AND (parent_id = 0)) [0m
  [4;35;1mProductCategory Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `product_categories`[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 10) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 54) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 55) ORDER BY category_name ASC[0m
Completed in 31ms (View: 1, DB: 2) | 200 OK [http://localhost/admin/products/tree_monument?id=0]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#show_product_table (for 127.0.0.1 at 2010-04-13 08:38:41) [GET]
  Parameters: {"parent_id"=>"51"}
  [4;35;1mMenyItem Load (0.1ms)[0m   [0mSELECT * FROM `meny_items` [0m
  [4;36;1mUser Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mProductCategory Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `product_categories`[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.`id` = 51) LIMIT 1[0m
  [4;36;1mProductCategory Load (0.2ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 51) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 52) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 53) ORDER BY category_name ASC[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (product_category_id IN(52,53,51)) ORDER BY created_at DESC LIMIT 0, 12[0m
  [4;36;1mProduct Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `products` WHERE (product_category_id IN(52,53,51)) [0m
Rendered shared/_products (209.6ms)
Completed in 275ms (View: 229, DB: 4) | 200 OK [http://localhost/admin/products/show_product_table?parent_id=51]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#new (for 127.0.0.1 at 2010-04-13 08:38:51) [GET]
  Parameters: {"parent_id"=>"51"}
  [4;36;1mMenyItem Load (0.1ms)[0m   [0;1mSELECT * FROM `meny_items` [0m
  [4;35;1mUser Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mProductCategory Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `product_categories`[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.`id` = 51) LIMIT 1[0m
  [4;35;1mProduct Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `products`[0m
Rendering template within layouts/admin
Rendering admin/products/new
Rendered admin/products/_form (8.3ms)
Rendered shared/_main_many (1.5ms)
Completed in 61ms (View: 16, DB: 3) | 200 OK [http://localhost/admin/products/new?parent_id=51]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#create (for 127.0.0.1 at 2010-04-13 08:38:57) [POST]
  Parameters: {"commit"=>"Создать", "authenticity_token"=>"Rrj/u4SS1TQHsAEqOOfxaUrpawb7M0isBOIh0et12Ts=", "product"=>{"title"=>"tr", "description"=>"<p>rty</p>"}, "parent_id"=>"51"}
  [4;36;1mMenyItem Load (0.2ms)[0m   [0;1mSELECT * FROM `meny_items` [0m
  [4;35;1mUser Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mProductCategory Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `product_categories`[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.`id` = 51) LIMIT 1[0m
  [4;35;1mProduct Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `products`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mProduct Load (0.3ms)[0m   [0mSELECT `products`.id FROM `products` WHERE (`products`.`title` = BINARY 'tr') LIMIT 1[0m
  [4;36;1mProduct Create (0.6ms)[0m   [0;1mINSERT INTO `products` (`created_at`, `title`, `product_category_id`, `updated_at`, `category_type`, `description`, `product_photo_file_name`, `product_photo_content_type`, `product_photo_file_size`, `product_photo_updated_at`) VALUES('2010-04-13 05:38:57', 'tr', 51, '2010-04-13 05:38:57', 'Funerals', '<p>rty</p>', NULL, NULL, NULL, NULL)[0m
[paperclip] Saving attachments.
  [4;35;1mSQL (2.6ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost:3000/admin/products?parent_id=51
Completed in 58ms (DB: 8) | 302 Found [http://localhost/admin/products]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#index (for 127.0.0.1 at 2010-04-13 08:38:57) [GET]
  Parameters: {"parent_id"=>"51"}
  [4;36;1mMenyItem Load (0.1ms)[0m   [0;1mSELECT * FROM `meny_items` [0m
  [4;35;1mUser Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mProductCategory Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `product_categories`[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.`id` = 51) LIMIT 1[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 51) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 52) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 53) ORDER BY category_name ASC[0m
  [4;36;1mProduct Load (0.5ms)[0m   [0;1mSELECT * FROM `products` WHERE (product_category_id IN(52,53,51)) ORDER BY created_at DESC LIMIT 0, 12[0m
  [4;35;1mProduct Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `products`[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM `products` WHERE (product_category_id IN(52,53,51)) [0m
Rendering template within layouts/admin
Rendering admin/products/index
Rendered shared/_products (98.0ms)
Rendered shared/_full_tree (0.8ms)
Rendered shared/_main_many (1.4ms)
Completed in 152ms (View: 106, DB: 4) | 200 OK [http://localhost/admin/products?parent_id=51]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2010-04-13 08:38:58) [GET]

ActionController::RoutingError (No route matches "/product_photos/thumb/missing.png" with {:method=>:get}):
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendering rescues/layout (not_found)
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#tree_funeral (for 127.0.0.1 at 2010-04-13 08:38:59) [GET]
  Parameters: {"id"=>"0"}
  [4;35;1mMenyItem Load (0.1ms)[0m   [0mSELECT * FROM `meny_items` [0m
  [4;36;1mProductCategory Load (0.7ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE ((category_type = 'Funerals') AND (parent_id = 0)) [0m
  [4;35;1mProductCategory Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `product_categories`[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 9) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 51) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.6ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 52) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 53) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 44) ORDER BY category_name ASC[0m
Completed in 43ms (View: 1, DB: 3) | 200 OK [http://localhost/admin/products/tree_funeral?id=0]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#tree_monument (for 127.0.0.1 at 2010-04-13 08:38:59) [GET]
  Parameters: {"id"=>"0"}
  [4;35;1mMenyItem Load (0.1ms)[0m   [0mSELECT * FROM `meny_items` [0m
  [4;36;1mProductCategory Load (2.4ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE ((category_type = 'Monuments') AND (parent_id = 0)) [0m
  [4;35;1mProductCategory Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `product_categories`[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 10) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 54) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 55) ORDER BY category_name ASC[0m
Completed in 33ms (View: 1, DB: 5) | 200 OK [http://localhost/admin/products/tree_monument?id=0]
  [4;35;1mSQL (7.6ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#destroy (for 127.0.0.1 at 2010-04-13 08:39:03) [DELETE]
  Parameters: {"authenticity_token"=>"Rrj/u4SS1TQHsAEqOOfxaUrpawb7M0isBOIh0et12Ts=", "id"=>"43", "parent_id"=>"51"}
  [4;35;1mMenyItem Load (0.1ms)[0m   [0mSELECT * FROM `meny_items` [0m
  [4;36;1mUser Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mProductCategory Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `product_categories`[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.`id` = 51) LIMIT 1[0m
  [4;36;1mProduct Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
  [4;35;1mProduct Load (0.3ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 43) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
[paperclip] Deleting attachments.
  [4;35;1mProduct Destroy (0.2ms)[0m   [0mDELETE FROM `products` WHERE `id` = 43[0m
  [4;36;1mSQL (1.7ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost:3000/admin/products?parent_id=51
Completed in 49ms (DB: 13) | 302 Found [http://localhost/admin/products/43?parent_id=51]
  [4;35;1mSQL (0.9ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (1.9ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#index (for 127.0.0.1 at 2010-04-13 08:39:03) [GET]
  Parameters: {"parent_id"=>"51"}
  [4;35;1mMenyItem Load (1.1ms)[0m   [0mSELECT * FROM `meny_items` [0m
  [4;36;1mUser Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mProductCategory Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `product_categories`[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.`id` = 51) LIMIT 1[0m
  [4;36;1mProductCategory Load (1.0ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 51) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 52) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 53) ORDER BY category_name ASC[0m
  [4;35;1mProduct Load (0.6ms)[0m   [0mSELECT * FROM `products` WHERE (product_category_id IN(52,53,51)) ORDER BY created_at DESC LIMIT 0, 12[0m
  [4;36;1mProduct Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(*) AS count_all FROM `products` WHERE (product_category_id IN(52,53,51)) [0m
Rendering template within layouts/admin
Rendering admin/products/index
Rendered shared/_products (95.9ms)
Rendered shared/_full_tree (0.9ms)
Rendered shared/_main_many (1.6ms)
Completed in 158ms (View: 105, DB: 9) | 200 OK [http://localhost/admin/products?parent_id=51]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#tree_funeral (for 127.0.0.1 at 2010-04-13 08:39:04) [GET]
  Parameters: {"id"=>"0"}
  [4;36;1mMenyItem Load (0.8ms)[0m   [0;1mSELECT * FROM `meny_items` [0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE ((category_type = 'Funerals') AND (parent_id = 0)) [0m
  [4;36;1mProductCategory Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `product_categories`[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 9) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 51) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 52) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 53) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 44) ORDER BY category_name ASC[0m
Completed in 38ms (View: 1, DB: 3) | 200 OK [http://localhost/admin/products/tree_funeral?id=0]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#tree_monument (for 127.0.0.1 at 2010-04-13 08:39:04) [GET]
  Parameters: {"id"=>"0"}
  [4;36;1mMenyItem Load (0.1ms)[0m   [0;1mSELECT * FROM `meny_items` [0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE ((category_type = 'Monuments') AND (parent_id = 0)) [0m
  [4;36;1mProductCategory Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `product_categories`[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 10) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 54) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 55) ORDER BY category_name ASC[0m
Completed in 32ms (View: 1, DB: 2) | 200 OK [http://localhost/admin/products/tree_monument?id=0]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#index (for 127.0.0.1 at 2010-04-13 08:40:37) [GET]
  Parameters: {"parent_id"=>"51"}
  [4;36;1mMenyItem Load (0.1ms)[0m   [0;1mSELECT * FROM `meny_items` [0m
  [4;35;1mUser Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mProductCategory Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `product_categories`[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.`id` = 51) LIMIT 1[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 51) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.2ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 52) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 53) ORDER BY category_name ASC[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (product_category_id IN(52,53,51)) ORDER BY created_at DESC LIMIT 0, 12[0m
  [4;35;1mProduct Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `products`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `products` WHERE (product_category_id IN(52,53,51)) [0m
Rendering template within layouts/admin
Rendering admin/products/index
Rendered shared/_products (98.2ms)
Rendered shared/_full_tree (0.9ms)
Rendered shared/_main_many (1.5ms)
Completed in 163ms (View: 115, DB: 4) | 200 OK [http://localhost/admin/products?parent_id=51]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#tree_funeral (for 127.0.0.1 at 2010-04-13 08:40:37) [GET]
  Parameters: {"id"=>"0"}
  [4;35;1mMenyItem Load (0.1ms)[0m   [0mSELECT * FROM `meny_items` [0m
  [4;36;1mProductCategory Load (0.8ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE ((category_type = 'Funerals') AND (parent_id = 0)) [0m
  [4;35;1mProductCategory Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `product_categories`[0m
  [4;36;1mProductCategory Load (0.2ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 9) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.5ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 51) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 52) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 53) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.3ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 44) ORDER BY category_name ASC[0m
Completed in 42ms (View: 1, DB: 4) | 200 OK [http://localhost/admin/products/tree_funeral?id=0]
  [4;35;1mSQL (0.3ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#tree_monument (for 127.0.0.1 at 2010-04-13 08:40:38) [GET]
  Parameters: {"id"=>"0"}
  [4;35;1mMenyItem Load (0.2ms)[0m   [0mSELECT * FROM `meny_items` [0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE ((category_type = 'Monuments') AND (parent_id = 0)) [0m
  [4;35;1mProductCategory Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `product_categories`[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 10) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 54) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 55) ORDER BY category_name ASC[0m
Completed in 28ms (View: 1, DB: 2) | 200 OK [http://localhost/admin/products/tree_monument?id=0]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#show_product_table (for 127.0.0.1 at 2010-04-13 08:41:12) [GET]
  Parameters: {"parent_id"=>"53"}
  [4;35;1mMenyItem Load (0.2ms)[0m   [0mSELECT * FROM `meny_items` [0m
  [4;36;1mUser Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mProductCategory Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `product_categories`[0m
  [4;35;1mProductCategory Load (0.2ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.`id` = 53) LIMIT 1[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 53) ORDER BY category_name ASC[0m
  [4;35;1mProduct Load (2.0ms)[0m   [0mSELECT * FROM `products` WHERE (product_category_id IN(53)) ORDER BY created_at DESC LIMIT 0, 12[0m
  [4;36;1mProduct Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
Rendered shared/_products (39.2ms)
Completed in 94ms (View: 45, DB: 6) | 200 OK [http://localhost/admin/products/show_product_table?parent_id=53]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#new (for 127.0.0.1 at 2010-04-13 08:41:14) [GET]
  Parameters: {"parent_id"=>"53"}
  [4;35;1mMenyItem Load (0.4ms)[0m   [0mSELECT * FROM `meny_items` [0m
  [4;36;1mUser Columns (4.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mProductCategory Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `product_categories`[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.`id` = 53) LIMIT 1[0m
  [4;36;1mProduct Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
Rendering template within layouts/admin
Rendering admin/products/new
Rendered admin/products/_form (9.3ms)
Rendered shared/_main_many (1.5ms)
Completed in 63ms (View: 18, DB: 7) | 200 OK [http://localhost/admin/products/new?parent_id=53]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#create (for 127.0.0.1 at 2010-04-13 08:41:18) [POST]
  Parameters: {"commit"=>"Создать", "authenticity_token"=>"Rrj/u4SS1TQHsAEqOOfxaUrpawb7M0isBOIh0et12Ts=", "product"=>{"title"=>"rr", "description"=>"<p>r</p>"}, "parent_id"=>"53"}
  [4;35;1mMenyItem Load (0.1ms)[0m   [0mSELECT * FROM `meny_items` [0m
  [4;36;1mUser Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (7.5ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mProductCategory Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `product_categories`[0m
  [4;35;1mProductCategory Load (0.2ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.`id` = 53) LIMIT 1[0m
  [4;36;1mProduct Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mProduct Load (0.4ms)[0m   [0;1mSELECT `products`.id FROM `products` WHERE (`products`.`title` = BINARY 'rr') LIMIT 1[0m
  [4;35;1mProduct Create (0.3ms)[0m   [0mINSERT INTO `products` (`created_at`, `title`, `product_category_id`, `updated_at`, `category_type`, `description`, `product_photo_file_name`, `product_photo_content_type`, `product_photo_file_size`, `product_photo_updated_at`) VALUES('2010-04-13 05:41:18', 'rr', 53, '2010-04-13 05:41:18', 'Funerals', '<p>r</p>', NULL, NULL, NULL, NULL)[0m
[paperclip] Saving attachments.
  [4;36;1mSQL (4.1ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost:3000/admin/products?parent_id=53
Completed in 134ms (DB: 16) | 302 Found [http://localhost/admin/products]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#index (for 127.0.0.1 at 2010-04-13 08:41:18) [GET]
  Parameters: {"parent_id"=>"53"}
  [4;35;1mMenyItem Load (0.1ms)[0m   [0mSELECT * FROM `meny_items` [0m
  [4;36;1mUser Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mProductCategory Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `product_categories`[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.`id` = 53) LIMIT 1[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 53) ORDER BY category_name ASC[0m
  [4;35;1mProduct Load (0.4ms)[0m   [0mSELECT * FROM `products` WHERE (product_category_id IN(53)) ORDER BY created_at DESC LIMIT 0, 12[0m
Rendering template within layouts/admin
Rendering admin/products/index
  [4;36;1mProduct Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
Rendered shared/_products (42.8ms)
Rendered shared/_full_tree (1.0ms)
Rendered shared/_main_many (1.8ms)
Completed in 103ms (View: 57, DB: 4) | 200 OK [http://localhost/admin/products?parent_id=53]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2010-04-13 08:41:18) [GET]

ActionController::RoutingError (No route matches "/product_photos/thumb/missing.png" with {:method=>:get}):
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendering rescues/layout (not_found)
  [4;35;1mSQL (6.9ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#tree_funeral (for 127.0.0.1 at 2010-04-13 08:41:18) [GET]
  Parameters: {"id"=>"0"}
  [4;35;1mMenyItem Load (1.2ms)[0m   [0mSELECT * FROM `meny_items` [0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE ((category_type = 'Funerals') AND (parent_id = 0)) [0m
  [4;35;1mProductCategory Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `product_categories`[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 9) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 51) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 52) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.5ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 53) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 44) ORDER BY category_name ASC[0m
Completed in 120ms (View: 1, DB: 11) | 200 OK [http://localhost/admin/products/tree_funeral?id=0]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#tree_monument (for 127.0.0.1 at 2010-04-13 08:41:19) [GET]
  Parameters: {"id"=>"0"}
  [4;35;1mMenyItem Load (0.1ms)[0m   [0mSELECT * FROM `meny_items` [0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE ((category_type = 'Monuments') AND (parent_id = 0)) [0m
  [4;35;1mProductCategory Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `product_categories`[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 10) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 54) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 55) ORDER BY category_name ASC[0m
Completed in 38ms (View: 1, DB: 2) | 200 OK [http://localhost/admin/products/tree_monument?id=0]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#destroy (for 127.0.0.1 at 2010-04-13 08:41:46) [DELETE]
  Parameters: {"authenticity_token"=>"Rrj/u4SS1TQHsAEqOOfxaUrpawb7M0isBOIh0et12Ts=", "id"=>"44", "parent_id"=>"53"}
  [4;35;1mMenyItem Load (0.1ms)[0m   [0mSELECT * FROM `meny_items` [0m
  [4;36;1mUser Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mProductCategory Columns (3.1ms)[0m   [0;1mSHOW FIELDS FROM `product_categories`[0m
  [4;35;1mProductCategory Load (11.6ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.`id` = 53) LIMIT 1[0m
  [4;36;1mProduct Columns (16.3ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
  [4;35;1mProduct Load (0.4ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 44) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
[paperclip] Deleting attachments.
  [4;35;1mProduct Destroy (0.3ms)[0m   [0mDELETE FROM `products` WHERE `id` = 44[0m
  [4;36;1mSQL (1.7ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost:3000/admin/products?parent_id=53
Completed in 106ms (DB: 35) | 302 Found [http://localhost/admin/products/44?parent_id=53]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#index (for 127.0.0.1 at 2010-04-13 08:41:46) [GET]
  Parameters: {"parent_id"=>"53"}
  [4;35;1mMenyItem Load (0.2ms)[0m   [0mSELECT * FROM `meny_items` [0m
  [4;36;1mUser Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mProductCategory Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `product_categories`[0m
  [4;35;1mProductCategory Load (3.2ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.`id` = 53) LIMIT 1[0m
  [4;36;1mProductCategory Load (0.5ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 53) ORDER BY category_name ASC[0m
  [4;35;1mProduct Load (0.6ms)[0m   [0mSELECT * FROM `products` WHERE (product_category_id IN(53)) ORDER BY created_at DESC LIMIT 0, 12[0m
Rendering template within layouts/admin
Rendering admin/products/index
  [4;36;1mProduct Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
Rendered shared/_products (37.0ms)
Rendered shared/_full_tree (0.9ms)
Rendered shared/_main_many (1.6ms)
Completed in 176ms (View: 52, DB: 8) | 200 OK [http://localhost/admin/products?parent_id=53]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#tree_funeral (for 127.0.0.1 at 2010-04-13 08:41:47) [GET]
  Parameters: {"id"=>"0"}
  [4;35;1mMenyItem Load (0.2ms)[0m   [0mSELECT * FROM `meny_items` [0m
  [4;36;1mProductCategory Load (1.0ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE ((category_type = 'Funerals') AND (parent_id = 0)) [0m
  [4;35;1mProductCategory Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `product_categories`[0m
  [4;36;1mProductCategory Load (0.2ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 9) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.5ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 51) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 52) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 53) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 44) ORDER BY category_name ASC[0m
Completed in 34ms (View: 1, DB: 3) | 200 OK [http://localhost/admin/products/tree_funeral?id=0]
  [4;35;1mSQL (0.2ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#tree_monument (for 127.0.0.1 at 2010-04-13 08:41:47) [GET]
  Parameters: {"id"=>"0"}
  [4;35;1mMenyItem Load (0.2ms)[0m   [0mSELECT * FROM `meny_items` [0m
  [4;36;1mProductCategory Load (0.3ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE ((category_type = 'Monuments') AND (parent_id = 0)) [0m
  [4;35;1mProductCategory Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `product_categories`[0m
  [4;36;1mProductCategory Load (0.2ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 10) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 54) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 55) ORDER BY category_name ASC[0m
Completed in 31ms (View: 1, DB: 2) | 200 OK [http://localhost/admin/products/tree_monument?id=0]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#index (for 127.0.0.1 at 2010-04-13 08:41:57) [GET]
  Parameters: {"parent_id"=>"53"}
  [4;35;1mMenyItem Load (0.2ms)[0m   [0mSELECT * FROM `meny_items` [0m
  [4;36;1mUser Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mProductCategory Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `product_categories`[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.`id` = 53) LIMIT 1[0m
  [4;36;1mProductCategory Load (3.7ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 53) ORDER BY category_name ASC[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (product_category_id IN(53)) ORDER BY created_at DESC LIMIT 0, 12[0m
Rendering template within layouts/admin
Rendering admin/products/index
  [4;36;1mProduct Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
Rendered shared/_products (34.2ms)
Rendered shared/_full_tree (1.0ms)
Rendered shared/_main_many (1.5ms)
Completed in 100ms (View: 48, DB: 7) | 200 OK [http://localhost/admin/products?parent_id=53]
  [4;35;1mSQL (0.2ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#tree_funeral (for 127.0.0.1 at 2010-04-13 08:41:58) [GET]
  Parameters: {"id"=>"0"}
  [4;35;1mMenyItem Load (0.1ms)[0m   [0mSELECT * FROM `meny_items` [0m
  [4;36;1mProductCategory Load (0.2ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE ((category_type = 'Funerals') AND (parent_id = 0)) [0m
  [4;35;1mProductCategory Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `product_categories`[0m
  [4;36;1mProductCategory Load (0.7ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 9) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 51) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (1.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 52) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 53) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 44) ORDER BY category_name ASC[0m
Completed in 42ms (View: 1, DB: 4) | 200 OK [http://localhost/admin/products/tree_funeral?id=0]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#tree_monument (for 127.0.0.1 at 2010-04-13 08:41:58) [GET]
  Parameters: {"id"=>"0"}
  [4;35;1mMenyItem Load (0.9ms)[0m   [0mSELECT * FROM `meny_items` [0m
  [4;36;1mProductCategory Load (0.2ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE ((category_type = 'Monuments') AND (parent_id = 0)) [0m
  [4;35;1mProductCategory Columns (3.6ms)[0m   [0mSHOW FIELDS FROM `product_categories`[0m
  [4;36;1mProductCategory Load (1.9ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 10) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.5ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 54) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 55) ORDER BY category_name ASC[0m
Completed in 41ms (View: 1, DB: 7) | 200 OK [http://localhost/admin/products/tree_monument?id=0]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#show_product_table (for 127.0.0.1 at 2010-04-13 08:42:15) [GET]
  Parameters: {"parent_id"=>"53"}
  [4;35;1mMenyItem Load (0.1ms)[0m   [0mSELECT * FROM `meny_items` [0m
  [4;36;1mUser Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mProductCategory Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `product_categories`[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.`id` = 53) LIMIT 1[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 53) ORDER BY category_name ASC[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (product_category_id IN(53)) ORDER BY created_at DESC LIMIT 0, 12[0m
  [4;36;1mProduct Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
Rendered shared/_products (36.1ms)
Completed in 85ms (View: 42, DB: 4) | 200 OK [http://localhost/admin/products/show_product_table?parent_id=53]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#show_product_table (for 127.0.0.1 at 2010-04-13 08:42:16) [GET]
  Parameters: {"parent_id"=>"53"}
  [4;35;1mMenyItem Load (0.1ms)[0m   [0mSELECT * FROM `meny_items` [0m
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mProductCategory Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `product_categories`[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.`id` = 53) LIMIT 1[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 53) ORDER BY category_name ASC[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (product_category_id IN(53)) ORDER BY created_at DESC LIMIT 0, 12[0m
  [4;36;1mProduct Columns (4.2ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
Rendered shared/_products (40.2ms)
Completed in 167ms (View: 43, DB: 7) | 200 OK [http://localhost/admin/products/show_product_table?parent_id=53]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#new (for 127.0.0.1 at 2010-04-13 08:42:18) [GET]
  Parameters: {"parent_id"=>"53"}
  [4;35;1mMenyItem Load (0.3ms)[0m   [0mSELECT * FROM `meny_items` [0m
  [4;36;1mUser Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mProductCategory Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `product_categories`[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.`id` = 53) LIMIT 1[0m
  [4;36;1mProduct Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
Rendering template within layouts/admin
Rendering admin/products/new
Rendered admin/products/_form (9.5ms)
Rendered shared/_main_many (1.5ms)
Completed in 61ms (View: 17, DB: 5) | 200 OK [http://localhost/admin/products/new?parent_id=53]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#create (for 127.0.0.1 at 2010-04-13 08:42:24) [POST]
  Parameters: {"commit"=>"Создать", "authenticity_token"=>"Rrj/u4SS1TQHsAEqOOfxaUrpawb7M0isBOIh0et12Ts=", "product"=>{"title"=>"3g", "description"=>"<p>sd</p>"}, "parent_id"=>"53"}
  [4;35;1mMenyItem Load (0.3ms)[0m   [0mSELECT * FROM `meny_items` [0m
  [4;36;1mUser Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mProductCategory Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `product_categories`[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.`id` = 53) LIMIT 1[0m
  [4;36;1mProduct Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mProduct Load (0.4ms)[0m   [0;1mSELECT `products`.id FROM `products` WHERE (`products`.`title` = BINARY '3g') LIMIT 1[0m
  [4;35;1mProduct Create (0.3ms)[0m   [0mINSERT INTO `products` (`created_at`, `title`, `product_category_id`, `updated_at`, `category_type`, `description`, `product_photo_file_name`, `product_photo_content_type`, `product_photo_file_size`, `product_photo_updated_at`) VALUES('2010-04-13 05:42:24', '3g', 53, '2010-04-13 05:42:24', 'Funerals', '<p>sd</p>', NULL, NULL, NULL, NULL)[0m
[paperclip] Saving attachments.
  [4;36;1mSQL (2.3ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost:3000/admin/products?parent_id=53
Completed in 136ms (DB: 7) | 302 Found [http://localhost/admin/products]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#index (for 127.0.0.1 at 2010-04-13 08:42:24) [GET]
  Parameters: {"parent_id"=>"53"}
  [4;35;1mMenyItem Load (0.1ms)[0m   [0mSELECT * FROM `meny_items` [0m
  [4;36;1mUser Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mProductCategory Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `product_categories`[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.`id` = 53) LIMIT 1[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 53) ORDER BY category_name ASC[0m
  [4;35;1mProduct Load (0.5ms)[0m   [0mSELECT * FROM `products` WHERE (product_category_id IN(53)) ORDER BY created_at DESC LIMIT 0, 12[0m
Rendering template within layouts/admin
Rendering admin/products/index
  [4;36;1mProduct Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
Rendered shared/_products (39.7ms)
Rendered shared/_full_tree (0.9ms)
Rendered shared/_main_many (1.5ms)
Completed in 100ms (View: 53, DB: 4) | 200 OK [http://localhost/admin/products?parent_id=53]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2010-04-13 08:42:24) [GET]

ActionController::RoutingError (No route matches "/product_photos/thumb/missing.png" with {:method=>:get}):
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendering rescues/layout (not_found)
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#tree_funeral (for 127.0.0.1 at 2010-04-13 08:42:24) [GET]
  Parameters: {"id"=>"0"}
  [4;35;1mMenyItem Load (0.4ms)[0m   [0mSELECT * FROM `meny_items` [0m
  [4;36;1mProductCategory Load (2.5ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE ((category_type = 'Funerals') AND (parent_id = 0)) [0m
  [4;35;1mProductCategory Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `product_categories`[0m
  [4;36;1mProductCategory Load (0.2ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 9) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 51) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 52) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 53) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 44) ORDER BY category_name ASC[0m
Completed in 122ms (View: 1, DB: 5) | 200 OK [http://localhost/admin/products/tree_funeral?id=0]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#tree_monument (for 127.0.0.1 at 2010-04-13 08:42:25) [GET]
  Parameters: {"id"=>"0"}
  [4;35;1mMenyItem Load (0.2ms)[0m   [0mSELECT * FROM `meny_items` [0m
  [4;36;1mProductCategory Load (4.4ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE ((category_type = 'Monuments') AND (parent_id = 0)) [0m
  [4;35;1mProductCategory Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `product_categories`[0m
  [4;36;1mProductCategory Load (0.2ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 10) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 54) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 55) ORDER BY category_name ASC[0m
Completed in 36ms (View: 1, DB: 6) | 200 OK [http://localhost/admin/products/tree_monument?id=0]
  [4;35;1mSQL (0.3ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#destroy (for 127.0.0.1 at 2010-04-13 08:42:47) [DELETE]
  Parameters: {"authenticity_token"=>"Rrj/u4SS1TQHsAEqOOfxaUrpawb7M0isBOIh0et12Ts=", "id"=>"45", "parent_id"=>"53"}
  [4;35;1mMenyItem Load (0.2ms)[0m   [0mSELECT * FROM `meny_items` [0m
  [4;36;1mUser Columns (3.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mProductCategory Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `product_categories`[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.`id` = 53) LIMIT 1[0m
  [4;36;1mProduct Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
  [4;35;1mProduct Load (0.4ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 45) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
[paperclip] Deleting attachments.
  [4;35;1mProduct Destroy (0.3ms)[0m   [0mDELETE FROM `products` WHERE `id` = 45[0m
  [4;36;1mSQL (2.2ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost:3000/admin/products?parent_id=53
Completed in 54ms (DB: 9) | 302 Found [http://localhost/admin/products/45?parent_id=53]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#index (for 127.0.0.1 at 2010-04-13 08:42:47) [GET]
  Parameters: {"parent_id"=>"53"}
  [4;35;1mMenyItem Load (0.1ms)[0m   [0mSELECT * FROM `meny_items` [0m
  [4;36;1mUser Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mProductCategory Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `product_categories`[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.`id` = 53) LIMIT 1[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 53) ORDER BY category_name ASC[0m
  [4;35;1mProduct Load (0.4ms)[0m   [0mSELECT * FROM `products` WHERE (product_category_id IN(53)) ORDER BY created_at DESC LIMIT 0, 12[0m
Rendering template within layouts/admin
Rendering admin/products/index
  [4;36;1mProduct Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
Rendered shared/_products (36.5ms)
Rendered shared/_full_tree (0.9ms)
Rendered shared/_main_many (1.5ms)
Completed in 170ms (View: 44, DB: 4) | 200 OK [http://localhost/admin/products?parent_id=53]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#tree_monument (for 127.0.0.1 at 2010-04-13 08:42:48) [GET]
  Parameters: {"id"=>"0"}
  [4;35;1mMenyItem Load (0.6ms)[0m   [0mSELECT * FROM `meny_items` [0m
  [4;36;1mProductCategory Load (0.4ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE ((category_type = 'Monuments') AND (parent_id = 0)) [0m
  [4;35;1mProductCategory Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `product_categories`[0m
  [4;36;1mProductCategory Load (0.2ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 10) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 54) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 55) ORDER BY category_name ASC[0m
Completed in 31ms (View: 1, DB: 3) | 200 OK [http://localhost/admin/products/tree_monument?id=0]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#tree_funeral (for 127.0.0.1 at 2010-04-13 08:42:48) [GET]
  Parameters: {"id"=>"0"}
  [4;35;1mMenyItem Load (0.1ms)[0m   [0mSELECT * FROM `meny_items` [0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE ((category_type = 'Funerals') AND (parent_id = 0)) [0m
  [4;35;1mProductCategory Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `product_categories`[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 9) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 51) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 52) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 53) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 44) ORDER BY category_name ASC[0m
Completed in 33ms (View: 1, DB: 2) | 200 OK [http://localhost/admin/products/tree_funeral?id=0]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#show_product_table (for 127.0.0.1 at 2010-04-13 08:42:54) [GET]
  Parameters: {"parent_id"=>"53"}
  [4;35;1mMenyItem Load (0.4ms)[0m   [0mSELECT * FROM `meny_items` [0m
  [4;36;1mUser Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (1.8ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mProductCategory Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `product_categories`[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.`id` = 53) LIMIT 1[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 53) ORDER BY category_name ASC[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (product_category_id IN(53)) ORDER BY created_at DESC LIMIT 0, 12[0m
  [4;36;1mProduct Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
Rendered shared/_products (37.3ms)
Completed in 179ms (View: 46, DB: 7) | 200 OK [http://localhost/admin/products/show_product_table?parent_id=53]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#show_product_table (for 127.0.0.1 at 2010-04-13 08:42:55) [GET]
  Parameters: {"parent_id"=>"53"}
  [4;35;1mMenyItem Load (0.1ms)[0m   [0mSELECT * FROM `meny_items` [0m
  [4;36;1mUser Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mProductCategory Columns (2.1ms)[0m   [0;1mSHOW FIELDS FROM `product_categories`[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.`id` = 53) LIMIT 1[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 53) ORDER BY category_name ASC[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (product_category_id IN(53)) ORDER BY created_at DESC LIMIT 0, 12[0m
  [4;36;1mProduct Columns (3.3ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
Rendered shared/_products (40.5ms)
Completed in 98ms (View: 50, DB: 7) | 200 OK [http://localhost/admin/products/show_product_table?parent_id=53]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductCategoriesController#new (for 127.0.0.1 at 2010-04-13 08:42:58) [GET]
  Parameters: {"parent_id"=>"53"}
  [4;35;1mMenyItem Load (0.2ms)[0m   [0mSELECT * FROM `meny_items` [0m
  [4;36;1mProductCategory Columns (7.3ms)[0m   [0;1mSHOW FIELDS FROM `product_categories`[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.`id` = 53) LIMIT 1[0m
  [4;36;1mUser Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Rendering template within layouts/admin
Rendering admin/product_categories/new
Rendered admin/product_categories/_form (19.7ms)
Rendered shared/_main_many (1.6ms)
Completed in 472ms (View: 359, DB: 9) | 200 OK [http://localhost/admin/product_categories/new?parent_id=53]
  [4;36;1mSQL (8.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductCategoriesController#create (for 127.0.0.1 at 2010-04-13 08:43:02) [POST]
  Parameters: {"commit"=>"Создать", "authenticity_token"=>"Rrj/u4SS1TQHsAEqOOfxaUrpawb7M0isBOIh0et12Ts=", "parent_id"=>"53", "product_category"=>{"category_name"=>"sdf", "show_slide"=>"0", "description"=>"<p>sdf</p>"}}
  [4;36;1mMenyItem Load (0.1ms)[0m   [0;1mSELECT * FROM `meny_items` [0m
  [4;35;1mProductCategory Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `product_categories`[0m
  [4;36;1mProductCategory Load (0.2ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.`id` = 53) LIMIT 1[0m
  [4;35;1mUser Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (1.7ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.`id` = 53) LIMIT 1[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mBEGIN[0m
  [4;35;1mProductCategory Create (71.2ms)[0m   [0mINSERT INTO `product_categories` (`created_at`, `category_photo_file_name`, `category_photo_file_size`, `category_name`, `updated_at`, `show_slide`, `parent_id`, `category_type`, `category_photo_content_type`, `description`, `category_photo_updated_at`) VALUES('2010-04-13 05:43:02', NULL, NULL, 'sdf', '2010-04-13 05:43:02', 0, 53, 'Funerals', NULL, '<p>sdf</p>', NULL)[0m
[paperclip] Saving attachments.
  [4;36;1mSQL (13.4ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost:3000/admin/products
Completed in 128ms (DB: 97) | 302 Found [http://localhost/admin/product_categories]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#index (for 127.0.0.1 at 2010-04-13 08:43:02) [GET]
  [4;35;1mMenyItem Load (0.2ms)[0m   [0mSELECT * FROM `meny_items` [0m
  [4;36;1mUser Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mProductCategory Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `product_categories`[0m
  [4;35;1mProductCategory Load (0.6ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.`id` = 0) LIMIT 1[0m
Rendering template within layouts/admin
Rendering admin/products/index
Rendered shared/_full_tree (0.8ms)

ActionView::TemplateError (Called id for nil, which would mistakenly be 4 -- if you really wanted the id of nil, use object_id) on line #21 of app/views/admin/products/index.html.erb:
18:   <%= render :partial => "shared/full_tree" %>
19:   <script type="text/javascript">
20:     $j(function () {
21:       alert((<%= @category.id %>))
22:        $j("#funerals_tree").refresh()
23:     });
24:   </script>

    app/views/admin/products/index.html.erb:21
    app/views/admin/products/index.html.erb:17
    /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (143.6ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductCategoriesController#create (for 127.0.0.1 at 2010-04-13 08:43:21) [POST]
  Parameters: {"commit"=>"Создать", "authenticity_token"=>"Rrj/u4SS1TQHsAEqOOfxaUrpawb7M0isBOIh0et12Ts=", "parent_id"=>"53", "product_category"=>{"category_name"=>"sdf", "show_slide"=>"0", "description"=>"<p>sdf</p>"}}
  [4;36;1mMenyItem Load (0.2ms)[0m   [0;1mSELECT * FROM `meny_items` [0m
  [4;35;1mProductCategory Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `product_categories`[0m
  [4;36;1mProductCategory Load (0.3ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.`id` = 53) LIMIT 1[0m
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.`id` = 53) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mProductCategory Create (1.4ms)[0m   [0mINSERT INTO `product_categories` (`created_at`, `category_photo_file_name`, `category_photo_file_size`, `category_name`, `updated_at`, `show_slide`, `parent_id`, `category_type`, `category_photo_content_type`, `description`, `category_photo_updated_at`) VALUES('2010-04-13 05:43:21', NULL, NULL, 'sdf', '2010-04-13 05:43:21', 0, 53, 'Funerals', NULL, '<p>sdf</p>', NULL)[0m
[paperclip] Saving attachments.
  [4;36;1mSQL (2.9ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost:3000/admin/products
Completed in 44ms (DB: 7) | 302 Found [http://localhost/admin/product_categories]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#index (for 127.0.0.1 at 2010-04-13 08:43:21) [GET]
  [4;35;1mMenyItem Load (4.2ms)[0m   [0mSELECT * FROM `meny_items` [0m
  [4;36;1mUser Columns (2.6ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mProductCategory Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `product_categories`[0m
  [4;35;1mProductCategory Load (2.5ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.`id` = 0) LIMIT 1[0m
Rendering template within layouts/admin
Rendering admin/products/index
Rendered shared/_full_tree (0.8ms)
Rendered shared/_main_many (1.5ms)
Completed in 54ms (View: 13, DB: 12) | 200 OK [http://localhost/admin/products]
  [4;36;1mSQL (11.9ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (11.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#tree_funeral (for 127.0.0.1 at 2010-04-13 08:43:21) [GET]
  Parameters: {"id"=>"0"}
  [4;36;1mMenyItem Load (0.2ms)[0m   [0;1mSELECT * FROM `meny_items` [0m
  [4;35;1mProductCategory Load (1.7ms)[0m   [0mSELECT * FROM `product_categories` WHERE ((category_type = 'Funerals') AND (parent_id = 0)) [0m
  [4;36;1mProductCategory Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `product_categories`[0m
  [4;35;1mProductCategory Load (25.5ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 9) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.7ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 51) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.5ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 52) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (1.0ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 53) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.5ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 56) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.2ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 57) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.3ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 44) ORDER BY category_name ASC[0m
Completed in 77ms (View: 1, DB: 55) | 200 OK [http://localhost/admin/products/tree_funeral?id=0]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#tree_monument (for 127.0.0.1 at 2010-04-13 08:43:21) [GET]
  Parameters: {"id"=>"0"}
  [4;36;1mMenyItem Load (1.5ms)[0m   [0;1mSELECT * FROM `meny_items` [0m
  [4;35;1mProductCategory Load (0.5ms)[0m   [0mSELECT * FROM `product_categories` WHERE ((category_type = 'Monuments') AND (parent_id = 0)) [0m
  [4;36;1mProductCategory Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `product_categories`[0m
  [4;35;1mProductCategory Load (0.5ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 10) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.2ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 54) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.2ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 55) ORDER BY category_name ASC[0m
Completed in 31ms (View: 1, DB: 4) | 200 OK [http://localhost/admin/products/tree_monument?id=0]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#show_product_table (for 127.0.0.1 at 2010-04-13 08:43:26) [GET]
  Parameters: {"parent_id"=>"56"}
  [4;36;1mMenyItem Load (0.2ms)[0m   [0;1mSELECT * FROM `meny_items` [0m
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mProductCategory Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `product_categories`[0m
  [4;36;1mProductCategory Load (0.3ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.`id` = 56) LIMIT 1[0m
  [4;35;1mProductCategory Load (0.3ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 56) ORDER BY category_name ASC[0m
  [4;36;1mProduct Load (0.4ms)[0m   [0;1mSELECT * FROM `products` WHERE (product_category_id IN(56)) ORDER BY created_at DESC LIMIT 0, 12[0m
Rendered shared/_products (8.9ms)
Completed in 54ms (View: 12, DB: 4) | 200 OK [http://localhost/admin/products/show_product_table?parent_id=56]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductCategoriesController#destroy (for 127.0.0.1 at 2010-04-13 08:43:30) [DELETE]
  Parameters: {"authenticity_token"=>"Rrj/u4SS1TQHsAEqOOfxaUrpawb7M0isBOIh0et12Ts=", "id"=>"56"}
  [4;35;1mMenyItem Load (0.4ms)[0m   [0mSELECT * FROM `meny_items` [0m
  [4;36;1mUser Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mProductCategory Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `product_categories`[0m
  [4;35;1mProductCategory Load (0.3ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.`id` = 56) [0m
  [4;36;1mProductCategory Load (0.5ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 56) ORDER BY category_name ASC[0m
  [4;35;1mProduct Load (0.4ms)[0m   [0mSELECT * FROM `products` WHERE (product_category_id IN(56)) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
[paperclip] Deleting attachments.
  [4;35;1mProduct Delete all (0.4ms)[0m   [0mDELETE FROM `products` WHERE ((product_category_id = 56)) [0m
  [4;36;1mProductCategory Delete all (0.2ms)[0m   [0;1mDELETE FROM `product_categories` WHERE ((parent_id = 56)) [0m
  [4;35;1mProductCategory Destroy (0.2ms)[0m   [0mDELETE FROM `product_categories` WHERE `id` = 56[0m
  [4;36;1mSQL (5.2ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost:3000/admin/products
Completed in 55ms (DB: 10) | 302 Found [http://localhost/admin/product_categories/56]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#index (for 127.0.0.1 at 2010-04-13 08:43:30) [GET]
  [4;35;1mMenyItem Load (0.1ms)[0m   [0mSELECT * FROM `meny_items` [0m
  [4;36;1mUser Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mProductCategory Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `product_categories`[0m
  [4;35;1mProductCategory Load (0.3ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.`id` = 0) LIMIT 1[0m
Rendering template within layouts/admin
Rendering admin/products/index
Rendered shared/_full_tree (0.9ms)
Rendered shared/_main_many (1.5ms)
Completed in 41ms (View: 8, DB: 3) | 200 OK [http://localhost/admin/products]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#tree_funeral (for 127.0.0.1 at 2010-04-13 08:43:30) [GET]
  Parameters: {"id"=>"0"}
  [4;36;1mMenyItem Load (0.1ms)[0m   [0;1mSELECT * FROM `meny_items` [0m
  [4;35;1mProductCategory Load (0.5ms)[0m   [0mSELECT * FROM `product_categories` WHERE ((category_type = 'Funerals') AND (parent_id = 0)) [0m
  [4;36;1mProductCategory Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `product_categories`[0m
  [4;35;1mProductCategory Load (0.5ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 9) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (1.3ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 51) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.4ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 52) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.4ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 53) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (8.6ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 57) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (1.2ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 44) ORDER BY category_name ASC[0m
Completed in 56ms (View: 1, DB: 15) | 200 OK [http://localhost/admin/products/tree_funeral?id=0]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#tree_monument (for 127.0.0.1 at 2010-04-13 08:43:30) [GET]
  Parameters: {"id"=>"0"}
  [4;35;1mMenyItem Load (0.1ms)[0m   [0mSELECT * FROM `meny_items` [0m
  [4;36;1mProductCategory Load (0.4ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE ((category_type = 'Monuments') AND (parent_id = 0)) [0m
  [4;35;1mProductCategory Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `product_categories`[0m
  [4;36;1mProductCategory Load (0.4ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 10) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.3ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 54) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.2ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 55) ORDER BY category_name ASC[0m
Completed in 31ms (View: 1, DB: 3) | 200 OK [http://localhost/admin/products/tree_monument?id=0]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#show_product_table (for 127.0.0.1 at 2010-04-13 08:43:34) [GET]
  Parameters: {"parent_id"=>"57"}
  [4;35;1mMenyItem Load (4.6ms)[0m   [0mSELECT * FROM `meny_items` [0m
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mProductCategory Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `product_categories`[0m
  [4;35;1mProductCategory Load (0.3ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.`id` = 57) LIMIT 1[0m
  [4;36;1mProductCategory Load (6.3ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 57) ORDER BY category_name ASC[0m
  [4;35;1mProduct Load (0.4ms)[0m   [0mSELECT * FROM `products` WHERE (product_category_id IN(57)) ORDER BY created_at DESC LIMIT 0, 12[0m
Rendered shared/_products (9.2ms)
Completed in 69ms (View: 12, DB: 14) | 200 OK [http://localhost/admin/products/show_product_table?parent_id=57]
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (5.4ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductCategoriesController#destroy (for 127.0.0.1 at 2010-04-13 08:43:36) [DELETE]
  Parameters: {"authenticity_token"=>"Rrj/u4SS1TQHsAEqOOfxaUrpawb7M0isBOIh0et12Ts=", "id"=>"57"}
  [4;36;1mMenyItem Load (0.2ms)[0m   [0;1mSELECT * FROM `meny_items` [0m
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mProductCategory Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `product_categories`[0m
  [4;36;1mProductCategory Load (0.5ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.`id` = 57) [0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 57) ORDER BY category_name ASC[0m
  [4;36;1mProduct Load (0.5ms)[0m   [0;1mSELECT * FROM `products` WHERE (product_category_id IN(57)) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
[paperclip] Deleting attachments.
  [4;36;1mProduct Delete all (0.3ms)[0m   [0;1mDELETE FROM `products` WHERE ((product_category_id = 57)) [0m
  [4;35;1mProductCategory Delete all (0.2ms)[0m   [0mDELETE FROM `product_categories` WHERE ((parent_id = 57)) [0m
  [4;36;1mProductCategory Destroy (0.3ms)[0m   [0;1mDELETE FROM `product_categories` WHERE `id` = 57[0m
  [4;35;1mSQL (12.8ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost:3000/admin/products
Completed in 145ms (DB: 23) | 302 Found [http://localhost/admin/product_categories/57]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#index (for 127.0.0.1 at 2010-04-13 08:43:36) [GET]
  [4;36;1mMenyItem Load (0.2ms)[0m   [0;1mSELECT * FROM `meny_items` [0m
  [4;35;1mUser Columns (3.5ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mProductCategory Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `product_categories`[0m
  [4;36;1mProductCategory Load (0.4ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.`id` = 0) LIMIT 1[0m
Rendering template within layouts/admin
Rendering admin/products/index
Rendered shared/_full_tree (0.9ms)
Rendered shared/_main_many (1.6ms)
Completed in 46ms (View: 8, DB: 6) | 200 OK [http://localhost/admin/products]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#tree_funeral (for 127.0.0.1 at 2010-04-13 08:43:37) [GET]
  Parameters: {"id"=>"0"}
  [4;35;1mMenyItem Load (0.1ms)[0m   [0mSELECT * FROM `meny_items` [0m
  [4;36;1mProductCategory Load (18.9ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE ((category_type = 'Funerals') AND (parent_id = 0)) [0m
  [4;35;1mProductCategory Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `product_categories`[0m
  [4;36;1mProductCategory Load (0.4ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 9) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.3ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 51) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.4ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 52) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.4ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 53) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (1.0ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 44) ORDER BY category_name ASC[0m
Completed in 58ms (View: 1, DB: 23) | 200 OK [http://localhost/admin/products/tree_funeral?id=0]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#tree_monument (for 127.0.0.1 at 2010-04-13 08:43:37) [GET]
  Parameters: {"id"=>"0"}
  [4;35;1mMenyItem Load (0.1ms)[0m   [0mSELECT * FROM `meny_items` [0m
  [4;36;1mProductCategory Load (0.6ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE ((category_type = 'Monuments') AND (parent_id = 0)) [0m
  [4;35;1mProductCategory Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `product_categories`[0m
  [4;36;1mProductCategory Load (7.4ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 10) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.3ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 54) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.3ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 55) ORDER BY category_name ASC[0m
Completed in 122ms (View: 1, DB: 10) | 200 OK [http://localhost/admin/products/tree_monument?id=0]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing SessionsController#destroy (for 127.0.0.1 at 2010-04-13 08:45:12) [GET]
  [4;36;1mMenyItem Load (0.2ms)[0m   [0;1mSELECT * FROM `meny_items` [0m
  [4;35;1mUser Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost:3000/
Completed in 82ms (DB: 2) | 302 Found [http://localhost/logout]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing HomeController#index (for 127.0.0.1 at 2010-04-13 08:45:12) [GET]
  [4;35;1mMenyItem Load (0.2ms)[0m   [0mSELECT * FROM `meny_items` [0m
  [4;36;1mArticle Load (0.2ms)[0m   [0;1mSELECT * FROM `articles` WHERE (directory = 'Новости') ORDER BY created_at DESC LIMIT 0, 15[0m
Rendering template within layouts/application
Rendering home/index
  [4;35;1mArticle Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `articles`[0m
Rendered shared/_tree_for_users (2.6ms)
  [4;36;1mMenyItem Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `meny_items`[0m
Rendered shared/_main_many (22.4ms)
  [4;35;1mProductCategory Load (0.5ms)[0m   [0mSELECT * FROM `product_categories` WHERE (show_slide = 1) [0m
  [4;36;1mProductCategory Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `product_categories`[0m
Completed in 561ms (View: 423, DB: 4) | 200 OK [http://localhost/]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#tree_funeral (for 127.0.0.1 at 2010-04-13 08:45:13) [GET]
  Parameters: {"id"=>"0"}
  [4;35;1mMenyItem Load (1.0ms)[0m   [0mSELECT * FROM `meny_items` [0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE ((category_type = 'Funerals') AND (parent_id = 0)) [0m
  [4;35;1mProductCategory Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `product_categories`[0m
  [4;36;1mProductCategory Load (0.2ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 9) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 51) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 52) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 53) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (2.5ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 44) ORDER BY category_name ASC[0m
Completed in 76ms (View: 10, DB: 5) | 200 OK [http://localhost/admin/products/tree_funeral?id=0]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#tree_monument (for 127.0.0.1 at 2010-04-13 08:45:13) [GET]
  Parameters: {"id"=>"0"}
  [4;35;1mMenyItem Load (0.1ms)[0m   [0mSELECT * FROM `meny_items` [0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE ((category_type = 'Monuments') AND (parent_id = 0)) [0m
  [4;35;1mProductCategory Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `product_categories`[0m
  [4;36;1mProductCategory Load (0.2ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 10) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 54) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 55) ORDER BY category_name ASC[0m
Completed in 34ms (View: 1, DB: 2) | 200 OK [http://localhost/admin/products/tree_monument?id=0]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing SessionsController#new (for 127.0.0.1 at 2010-04-13 08:45:28) [GET]
  [4;35;1mMenyItem Load (0.2ms)[0m   [0mSELECT * FROM `meny_items` [0m
Rendering template within layouts/sessions
Rendering sessions/new
Completed in 146ms (View: 126, DB: 0) | 200 OK [http://localhost/login]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing SessionsController#create (for 127.0.0.1 at 2010-04-13 08:45:30) [POST]
  Parameters: {"authenticity_token"=>"Yc/ExjHql1s5DwRMdUJmvqPVBpKOCzmf1QwL3IrhVdM=", "login"=>"admin", "password"=>"admin1234"}
  [4;36;1mMenyItem Load (0.4ms)[0m   [0;1mSELECT * FROM `meny_items` [0m
  [4;35;1mUser Columns (3.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`login` = 'admin') LIMIT 1[0m
Redirected to http://localhost:3000/admin/articles
Completed in 33ms (DB: 4) | 302 Found [http://localhost/session]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ArticlesController#index (for 127.0.0.1 at 2010-04-13 08:45:31) [GET]
  [4;35;1mMenyItem Load (0.1ms)[0m   [0mSELECT * FROM `meny_items` [0m
  [4;36;1mUser Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mArticle Load (0.2ms)[0m   [0;1mSELECT * FROM `articles` ORDER BY created_at DESC LIMIT 0, 15[0m
Rendering template within layouts/admin
Rendering admin/articles/index
  [4;35;1mArticle Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `articles`[0m
Rendered shared/_main_many (1.4ms)
Completed in 153ms (View: 110, DB: 2) | 200 OK [http://localhost/admin/articles]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#index (for 127.0.0.1 at 2010-04-13 08:46:18) [GET]
  [4;36;1mMenyItem Load (0.1ms)[0m   [0;1mSELECT * FROM `meny_items` [0m
  [4;35;1mUser Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mProductCategory Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `product_categories`[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.`id` = 0) LIMIT 1[0m
Rendering template within layouts/admin
Rendering admin/products/index
Rendered shared/_full_tree (2.2ms)
Rendered shared/_main_many (1.4ms)
Completed in 52ms (View: 22, DB: 2) | 200 OK [http://localhost/admin/products]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#tree_funeral (for 127.0.0.1 at 2010-04-13 08:46:19) [GET]
  Parameters: {"id"=>"0"}
  [4;35;1mMenyItem Load (0.4ms)[0m   [0mSELECT * FROM `meny_items` [0m
  [4;36;1mProductCategory Load (0.2ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE ((category_type = 'Funerals') AND (parent_id = 0)) [0m
  [4;35;1mProductCategory Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `product_categories`[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 9) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 51) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 52) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 53) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 44) ORDER BY category_name ASC[0m
Completed in 42ms (View: 1, DB: 2) | 200 OK [http://localhost/admin/products/tree_funeral?id=0]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#tree_monument (for 127.0.0.1 at 2010-04-13 08:46:19) [GET]
  Parameters: {"id"=>"0"}
  [4;35;1mMenyItem Load (0.2ms)[0m   [0mSELECT * FROM `meny_items` [0m
  [4;36;1mProductCategory Load (0.2ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE ((category_type = 'Monuments') AND (parent_id = 0)) [0m
  [4;35;1mProductCategory Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `product_categories`[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 10) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 54) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 55) ORDER BY category_name ASC[0m
Completed in 28ms (View: 1, DB: 2) | 200 OK [http://localhost/admin/products/tree_monument?id=0]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::GalleriesController#index (for 127.0.0.1 at 2010-04-13 08:46:20) [GET]
  [4;35;1mMenyItem Load (0.1ms)[0m   [0mSELECT * FROM `meny_items` [0m
  [4;36;1mUser Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mGallery Load (251.9ms)[0m   [0;1mSELECT * FROM `galleries` [0m
Rendering template within layouts/gallery
Rendering admin/galleries/index
  [4;35;1mGallery Columns (1.8ms)[0m   [0mSHOW FIELDS FROM `galleries`[0m
Rendered shared/_main_many (2.8ms)
Completed in 1799ms (View: 1501, DB: 255) | 200 OK [http://localhost/admin/galleries]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::OrdersController#index (for 127.0.0.1 at 2010-04-13 08:46:33) [GET]
  [4;36;1mMenyItem Load (0.1ms)[0m   [0;1mSELECT * FROM `meny_items` [0m
  [4;35;1mUser Columns (3.1ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mOrder Load (11.7ms)[0m   [0mSELECT * FROM `orders` ORDER BY created_at DESC LIMIT 0, 20[0m
  [4;36;1mOrder Columns (20.9ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/admin
Rendering admin/orders/index
Rendered shared/_main_many (1.6ms)
Completed in 328ms (View: 163, DB: 37) | 200 OK [http://localhost/admin/orders]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::MenyItemsController#index (for 127.0.0.1 at 2010-04-13 08:46:34) [GET]
  [4;36;1mMenyItem Load (0.4ms)[0m   [0;1mSELECT * FROM `meny_items` [0m
  [4;35;1mUser Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `meny_items` [0m
Rendering template within layouts/admin
Rendering admin/meny_items/index
  [4;36;1mMenyItem Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `meny_items`[0m
Rendered shared/_main_many (2.1ms)
Completed in 66ms (View: 33, DB: 3) | 200 OK [http://localhost/admin/meny_items]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ContactsController#index (for 127.0.0.1 at 2010-04-13 08:46:36) [GET]
  [4;35;1mMenyItem Load (0.1ms)[0m   [0mSELECT * FROM `meny_items` [0m
  [4;36;1mUser Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (2.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mContact Load (14.8ms)[0m   [0;1mSELECT * FROM `contacts` [0m
Rendering template within layouts/admin
Rendering admin/contacts/index
  [4;35;1mContact Columns (1.8ms)[0m   [0mSHOW FIELDS FROM `contacts`[0m
Rendered shared/_main_many (2.5ms)
Completed in 203ms (View: 67, DB: 20) | 200 OK [http://localhost/admin/contacts]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::CompanyInformationsController#index (for 127.0.0.1 at 2010-04-13 08:46:38) [GET]
  [4;36;1mMenyItem Load (0.1ms)[0m   [0;1mSELECT * FROM `meny_items` [0m
  [4;35;1mUser Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mCompanyInformation Load (189.4ms)[0m   [0mSELECT * FROM `company_informations` [0m
Rendering template within layouts/admin
Rendering admin/company_informations/index
  [4;36;1mCompanyInformation Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `company_informations`[0m
Rendered shared/_main_many (1.7ms)
Completed in 370ms (View: 144, DB: 192) | 200 OK [http://localhost/admin/company_informations]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::CompanyInformationsController#new (for 127.0.0.1 at 2010-04-13 08:46:41) [GET]
  [4;35;1mMenyItem Load (0.1ms)[0m   [0mSELECT * FROM `meny_items` [0m
  [4;36;1mUser Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mCompanyInformation Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `company_informations`[0m
Rendering template within layouts/admin
Rendering admin/company_informations/new
Rendered admin/company_informations/_form (21.1ms)
Rendered shared/_main_many (1.7ms)
Completed in 170ms (View: 136, DB: 2) | 200 OK [http://localhost/admin/company_informations/new]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing SessionsController#destroy (for 127.0.0.1 at 2010-04-13 08:46:43) [GET]
  [4;35;1mMenyItem Load (0.1ms)[0m   [0mSELECT * FROM `meny_items` [0m
  [4;36;1mUser Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost:3000/
Completed in 32ms (DB: 1) | 302 Found [http://localhost/logout]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HomeController#index (for 127.0.0.1 at 2010-04-13 08:46:43) [GET]
  [4;36;1mMenyItem Load (0.1ms)[0m   [0;1mSELECT * FROM `meny_items` [0m
  [4;35;1mArticle Load (0.1ms)[0m   [0mSELECT * FROM `articles` WHERE (directory = 'Новости') ORDER BY created_at DESC LIMIT 0, 15[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mArticle Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `articles`[0m
Rendered shared/_tree_for_users (0.9ms)
  [4;35;1mMenyItem Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `meny_items`[0m
Rendered shared/_main_many (5.3ms)
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (show_slide = 1) [0m
  [4;35;1mProductCategory Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `product_categories`[0m
Completed in 70ms (View: 39, DB: 3) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#tree_funeral (for 127.0.0.1 at 2010-04-13 08:46:44) [GET]
  Parameters: {"id"=>"0"}
  [4;36;1mMenyItem Load (0.8ms)[0m   [0;1mSELECT * FROM `meny_items` [0m
  [4;35;1mProductCategory Load (0.2ms)[0m   [0mSELECT * FROM `product_categories` WHERE ((category_type = 'Funerals') AND (parent_id = 0)) [0m
  [4;36;1mProductCategory Columns (1.8ms)[0m   [0;1mSHOW FIELDS FROM `product_categories`[0m
  [4;35;1mProductCategory Load (0.2ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 9) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 51) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 52) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.5ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 53) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 44) ORDER BY category_name ASC[0m
Completed in 69ms (View: 1, DB: 4) | 200 OK [http://localhost/admin/products/tree_funeral?id=0]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#tree_monument (for 127.0.0.1 at 2010-04-13 08:46:44) [GET]
  Parameters: {"id"=>"0"}
  [4;36;1mMenyItem Load (0.2ms)[0m   [0;1mSELECT * FROM `meny_items` [0m
  [4;35;1mProductCategory Load (0.2ms)[0m   [0mSELECT * FROM `product_categories` WHERE ((category_type = 'Monuments') AND (parent_id = 0)) [0m
  [4;36;1mProductCategory Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `product_categories`[0m
  [4;35;1mProductCategory Load (0.2ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 10) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 54) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 55) ORDER BY category_name ASC[0m
Completed in 33ms (View: 1, DB: 2) | 200 OK [http://localhost/admin/products/tree_monument?id=0]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (1.8ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HomeController#show_funerals (for 127.0.0.1 at 2010-04-13 08:46:50) [GET]
  Parameters: {"parent_id"=>"51"}
  [4;36;1mMenyItem Load (0.1ms)[0m   [0;1mSELECT * FROM `meny_items` [0m
  [4;35;1mProductCategory Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `product_categories`[0m
  [4;36;1mProductCategory Load (3.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.`id` = 51) LIMIT 1[0m
Completed in 25ms (View: 2, DB: 6) | 200 OK [http://localhost/home/show_funerals?parent_id=51]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing HomeController#funerals (for 127.0.0.1 at 2010-04-13 08:46:50) [GET]
  Parameters: {"parent_id"=>"51"}
  [4;35;1mMenyItem Load (0.2ms)[0m   [0mSELECT * FROM `meny_items` [0m
  [4;36;1mProductCategory Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `product_categories`[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.`id` = 51) LIMIT 1[0m
  [4;36;1mProductCategory Load (0.2ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 51) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 52) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 53) ORDER BY category_name ASC[0m
  [4;35;1mProduct Load (0.5ms)[0m   [0mSELECT * FROM `products` WHERE (product_category_id IN(52,53,51)) ORDER BY created_at DESC LIMIT 0, 12[0m
  [4;36;1mProduct Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(*) AS count_all FROM `products` WHERE (product_category_id IN(52,53,51)) [0m
Rendering template within layouts/application
Rendering home/funerals
Rendered shared/_products (63.2ms)
Rendered shared/_funerals_tree (23.6ms)
  [4;36;1mMenyItem Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `meny_items`[0m
Rendered shared/_main_many (5.2ms)
  [4;35;1mProductCategory Load (0.2ms)[0m   [0mSELECT * FROM `product_categories` WHERE (show_slide = 1) [0m
Completed in 186ms (View: 146, DB: 4) | 200 OK [http://localhost/home/funerals?parent_id=51]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#tree_funeral (for 127.0.0.1 at 2010-04-13 08:46:51) [GET]
  Parameters: {"id"=>"0"}
  [4;36;1mMenyItem Load (0.2ms)[0m   [0;1mSELECT * FROM `meny_items` [0m
  [4;35;1mProductCategory Load (0.7ms)[0m   [0mSELECT * FROM `product_categories` WHERE ((category_type = 'Funerals') AND (parent_id = 0)) [0m
  [4;36;1mProductCategory Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `product_categories`[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 9) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 51) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.4ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 52) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 53) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 44) ORDER BY category_name ASC[0m
Completed in 39ms (View: 1, DB: 3) | 200 OK [http://localhost/admin/products/tree_funeral?id=0]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#tree_monument (for 127.0.0.1 at 2010-04-13 08:46:51) [GET]
  Parameters: {"id"=>"0"}
  [4;36;1mMenyItem Load (0.1ms)[0m   [0;1mSELECT * FROM `meny_items` [0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE ((category_type = 'Monuments') AND (parent_id = 0)) [0m
  [4;36;1mProductCategory Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `product_categories`[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 10) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 54) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 55) ORDER BY category_name ASC[0m
Completed in 30ms (View: 1, DB: 2) | 200 OK [http://localhost/admin/products/tree_monument?id=0]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HomeController#funerals (for 127.0.0.1 at 2010-04-13 08:47:03) [GET]
  Parameters: {"funerals_article"=>"1"}
  [4;36;1mMenyItem Load (0.1ms)[0m   [0;1mSELECT * FROM `meny_items` [0m
  [4;35;1mProductCategory Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `product_categories`[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.`id` = 0) LIMIT 1[0m
Completed in 22ms (View: 1, DB: 1) | 200 OK [http://localhost/home/funerals?funerals_article=1]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing HomeController#funerals (for 127.0.0.1 at 2010-04-13 08:47:03) [GET]
  [4;35;1mMenyItem Load (0.1ms)[0m   [0mSELECT * FROM `meny_items` [0m
  [4;36;1mProductCategory Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `product_categories`[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.`id` = 0) LIMIT 1[0m
  [4;36;1mArticle Load (0.4ms)[0m   [0;1mSELECT * FROM `articles` WHERE (directory = 'Ритуальные услуги') ORDER BY created_at DESC LIMIT 0, 15[0m
Rendering template within layouts/application
Rendering home/funerals
  [4;35;1mArticle Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `articles`[0m
Rendered shared/_funerals_tree (0.9ms)
  [4;36;1mMenyItem Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `meny_items`[0m
Rendered shared/_main_many (5.4ms)
  [4;35;1mProductCategory Load (0.3ms)[0m   [0mSELECT * FROM `product_categories` WHERE (show_slide = 1) [0m
Completed in 64ms (View: 35, DB: 4) | 200 OK [http://localhost/home/funerals]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#tree_funeral (for 127.0.0.1 at 2010-04-13 08:47:03) [GET]
  Parameters: {"id"=>"0"}
  [4;36;1mMenyItem Load (0.1ms)[0m   [0;1mSELECT * FROM `meny_items` [0m
  [4;35;1mProductCategory Load (0.8ms)[0m   [0mSELECT * FROM `product_categories` WHERE ((category_type = 'Funerals') AND (parent_id = 0)) [0m
  [4;36;1mProductCategory Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `product_categories`[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 9) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 51) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.5ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 52) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 53) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 44) ORDER BY category_name ASC[0m
Completed in 44ms (View: 1, DB: 3) | 200 OK [http://localhost/admin/products/tree_funeral?id=0]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#tree_monument (for 127.0.0.1 at 2010-04-13 08:47:03) [GET]
  Parameters: {"id"=>"0"}
  [4;36;1mMenyItem Load (0.1ms)[0m   [0;1mSELECT * FROM `meny_items` [0m
  [4;35;1mProductCategory Load (0.3ms)[0m   [0mSELECT * FROM `product_categories` WHERE ((category_type = 'Monuments') AND (parent_id = 0)) [0m
  [4;36;1mProductCategory Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `product_categories`[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 10) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 54) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 55) ORDER BY category_name ASC[0m
Completed in 28ms (View: 1, DB: 2) | 200 OK [http://localhost/admin/products/tree_monument?id=0]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HomeController#monuments (for 127.0.0.1 at 2010-04-13 08:47:05) [GET]
  Parameters: {"monuments_article"=>"1"}
  [4;36;1mMenyItem Load (1.7ms)[0m   [0;1mSELECT * FROM `meny_items` [0m
  [4;35;1mProductCategory Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `product_categories`[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.`id` = 0) LIMIT 1[0m
Completed in 24ms (View: 1, DB: 4) | 200 OK [http://localhost/home/monuments?monuments_article=1]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing HomeController#monuments (for 127.0.0.1 at 2010-04-13 08:47:05) [GET]
  [4;35;1mMenyItem Load (0.1ms)[0m   [0mSELECT * FROM `meny_items` [0m
  [4;36;1mProductCategory Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `product_categories`[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.`id` = 0) LIMIT 1[0m
  [4;36;1mArticle Load (0.4ms)[0m   [0;1mSELECT * FROM `articles` WHERE (directory = 'Памятники') ORDER BY created_at DESC LIMIT 0, 15[0m
Rendering template within layouts/application
Rendering home/monuments
  [4;35;1mArticle Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `articles`[0m
Rendered shared/_monuments_tree (14.6ms)
  [4;36;1mMenyItem Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `meny_items`[0m
Rendered shared/_main_many (5.3ms)
  [4;35;1mProductCategory Load (0.2ms)[0m   [0mSELECT * FROM `product_categories` WHERE (show_slide = 1) [0m
Completed in 112ms (View: 79, DB: 4) | 200 OK [http://localhost/home/monuments]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#tree_funeral (for 127.0.0.1 at 2010-04-13 08:47:06) [GET]
  Parameters: {"id"=>"0"}
  [4;36;1mMenyItem Load (0.2ms)[0m   [0;1mSELECT * FROM `meny_items` [0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE ((category_type = 'Funerals') AND (parent_id = 0)) [0m
  [4;36;1mProductCategory Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `product_categories`[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 9) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.4ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 51) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.2ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 52) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 53) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 44) ORDER BY category_name ASC[0m
Completed in 43ms (View: 1, DB: 3) | 200 OK [http://localhost/admin/products/tree_funeral?id=0]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#tree_monument (for 127.0.0.1 at 2010-04-13 08:47:06) [GET]
  Parameters: {"id"=>"0"}
  [4;36;1mMenyItem Load (0.1ms)[0m   [0;1mSELECT * FROM `meny_items` [0m
  [4;35;1mProductCategory Load (0.5ms)[0m   [0mSELECT * FROM `product_categories` WHERE ((category_type = 'Monuments') AND (parent_id = 0)) [0m
  [4;36;1mProductCategory Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `product_categories`[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 10) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 54) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 55) ORDER BY category_name ASC[0m
Completed in 105ms (View: 1, DB: 2) | 200 OK [http://localhost/admin/products/tree_monument?id=0]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HomeController#contacts (for 127.0.0.1 at 2010-04-13 08:47:10) [GET]
  [4;36;1mMenyItem Load (0.2ms)[0m   [0;1mSELECT * FROM `meny_items` [0m
  [4;35;1mContact Load (0.9ms)[0m   [0mSELECT * FROM `contacts` [0m
Rendering template within layouts/application
Rendering home/contacts
  [4;36;1mContact Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `contacts`[0m
Rendered shared/_tree_for_users (1.7ms)
  [4;35;1mMenyItem Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `meny_items`[0m
Rendered shared/_main_many (6.6ms)
  [4;36;1mProductCategory Load (0.7ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (show_slide = 1) [0m
  [4;35;1mProductCategory Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `product_categories`[0m
Completed in 87ms (View: 59, DB: 6) | 200 OK [http://localhost/home/contacts]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#tree_funeral (for 127.0.0.1 at 2010-04-13 08:47:11) [GET]
  Parameters: {"id"=>"0"}
  [4;36;1mMenyItem Load (0.1ms)[0m   [0;1mSELECT * FROM `meny_items` [0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE ((category_type = 'Funerals') AND (parent_id = 0)) [0m
  [4;36;1mProductCategory Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `product_categories`[0m
  [4;35;1mProductCategory Load (0.2ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 9) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 51) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 52) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 53) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 44) ORDER BY category_name ASC[0m
Completed in 40ms (View: 1, DB: 2) | 200 OK [http://localhost/admin/products/tree_funeral?id=0]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#tree_monument (for 127.0.0.1 at 2010-04-13 08:47:11) [GET]
  Parameters: {"id"=>"0"}
  [4;36;1mMenyItem Load (0.1ms)[0m   [0;1mSELECT * FROM `meny_items` [0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE ((category_type = 'Monuments') AND (parent_id = 0)) [0m
  [4;36;1mProductCategory Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `product_categories`[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 10) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 54) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 55) ORDER BY category_name ASC[0m
Completed in 34ms (View: 1, DB: 2) | 200 OK [http://localhost/admin/products/tree_monument?id=0]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing SessionsController#new (for 127.0.0.1 at 2010-04-13 08:47:24) [GET]
  [4;36;1mMenyItem Load (0.1ms)[0m   [0;1mSELECT * FROM `meny_items` [0m
Rendering template within layouts/sessions
Rendering sessions/new
Completed in 23ms (View: 4, DB: 0) | 200 OK [http://localhost/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing SessionsController#create (for 127.0.0.1 at 2010-04-13 08:47:26) [POST]
  Parameters: {"authenticity_token"=>"nYhFcnyj6nSarl1GitlusuXgj/tS59QRzpnCA9PYRPk=", "login"=>"admin", "password"=>"admin1234"}
  [4;35;1mMenyItem Load (1.3ms)[0m   [0mSELECT * FROM `meny_items` [0m
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`login` = 'admin') LIMIT 1[0m
Redirected to http://localhost:3000/admin/articles
Completed in 31ms (DB: 2) | 302 Found [http://localhost/session]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ArticlesController#index (for 127.0.0.1 at 2010-04-13 08:47:26) [GET]
  [4;36;1mMenyItem Load (0.4ms)[0m   [0;1mSELECT * FROM `meny_items` [0m
  [4;35;1mUser Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mArticle Load (0.1ms)[0m   [0mSELECT * FROM `articles` ORDER BY created_at DESC LIMIT 0, 15[0m
Rendering template within layouts/admin
Rendering admin/articles/index
  [4;36;1mArticle Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `articles`[0m
Rendered shared/_main_many (1.5ms)
Completed in 107ms (View: 66, DB: 3) | 200 OK [http://localhost/admin/articles]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#index (for 127.0.0.1 at 2010-04-13 08:47:29) [GET]
  [4;35;1mMenyItem Load (0.1ms)[0m   [0mSELECT * FROM `meny_items` [0m
  [4;36;1mUser Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mProductCategory Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `product_categories`[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.`id` = 0) LIMIT 1[0m
Rendering template within layouts/admin
Rendering admin/products/index
Rendered shared/_full_tree (0.9ms)
Rendered shared/_main_many (1.5ms)
Completed in 39ms (View: 8, DB: 2) | 200 OK [http://localhost/admin/products]
  [4;36;1mSQL (0.5ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#tree_funeral (for 127.0.0.1 at 2010-04-13 08:47:30) [GET]
  Parameters: {"id"=>"0"}
  [4;36;1mMenyItem Load (0.2ms)[0m   [0;1mSELECT * FROM `meny_items` [0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE ((category_type = 'Funerals') AND (parent_id = 0)) [0m
  [4;36;1mProductCategory Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `product_categories`[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 9) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 51) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 52) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 53) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.5ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 44) ORDER BY category_name ASC[0m
Completed in 50ms (View: 1, DB: 3) | 200 OK [http://localhost/admin/products/tree_funeral?id=0]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#tree_monument (for 127.0.0.1 at 2010-04-13 08:47:30) [GET]
  Parameters: {"id"=>"0"}
  [4;36;1mMenyItem Load (0.1ms)[0m   [0;1mSELECT * FROM `meny_items` [0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE ((category_type = 'Monuments') AND (parent_id = 0)) [0m
  [4;36;1mProductCategory Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `product_categories`[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 10) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 54) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 55) ORDER BY category_name ASC[0m
Completed in 30ms (View: 1, DB: 2) | 200 OK [http://localhost/admin/products/tree_monument?id=0]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#show_product_table (for 127.0.0.1 at 2010-04-13 08:47:30) [GET]
  Parameters: {"parent_id"=>"51"}
  [4;36;1mMenyItem Load (0.1ms)[0m   [0;1mSELECT * FROM `meny_items` [0m
  [4;35;1mUser Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mProductCategory Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `product_categories`[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.`id` = 51) LIMIT 1[0m
  [4;35;1mProductCategory Load (0.2ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 51) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 52) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 53) ORDER BY category_name ASC[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (product_category_id IN(52,53,51)) ORDER BY created_at DESC LIMIT 0, 12[0m
  [4;35;1mProduct Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `products`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `products` WHERE (product_category_id IN(52,53,51)) [0m
Rendered shared/_products (93.3ms)
Completed in 157ms (View: 110, DB: 4) | 200 OK [http://localhost/admin/products/show_product_table?parent_id=51]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#show_product_table (for 127.0.0.1 at 2010-04-13 08:47:31) [GET]
  Parameters: {"parent_id"=>"44"}
  [4;35;1mMenyItem Load (0.1ms)[0m   [0mSELECT * FROM `meny_items` [0m
  [4;36;1mUser Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mProductCategory Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `product_categories`[0m
  [4;35;1mProductCategory Load (0.3ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.`id` = 44) LIMIT 1[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 44) ORDER BY category_name ASC[0m
  [4;35;1mProduct Load (0.3ms)[0m   [0mSELECT * FROM `products` WHERE (product_category_id IN(44)) ORDER BY created_at DESC LIMIT 0, 12[0m
Rendered shared/_products (8.9ms)
Completed in 58ms (View: 12, DB: 3) | 200 OK [http://localhost/admin/products/show_product_table?parent_id=44]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#show_product_table (for 127.0.0.1 at 2010-04-13 08:47:33) [GET]
  Parameters: {"parent_id"=>"54"}
  [4;36;1mMenyItem Load (0.1ms)[0m   [0;1mSELECT * FROM `meny_items` [0m
  [4;35;1mUser Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mProductCategory Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `product_categories`[0m
  [4;36;1mProductCategory Load (0.3ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.`id` = 54) LIMIT 1[0m
  [4;35;1mProductCategory Load (0.2ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 54) ORDER BY category_name ASC[0m
  [4;36;1mProduct Load (0.3ms)[0m   [0;1mSELECT * FROM `products` WHERE (product_category_id IN(54)) ORDER BY created_at DESC LIMIT 0, 12[0m
Rendered shared/_products (8.9ms)
Completed in 52ms (View: 12, DB: 3) | 200 OK [http://localhost/admin/products/show_product_table?parent_id=54]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#show_product_table (for 127.0.0.1 at 2010-04-13 08:47:34) [GET]
  Parameters: {"parent_id"=>"55"}
  [4;35;1mMenyItem Load (0.2ms)[0m   [0mSELECT * FROM `meny_items` [0m
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mProductCategory Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `product_categories`[0m
  [4;35;1mProductCategory Load (0.3ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.`id` = 55) LIMIT 1[0m
  [4;36;1mProductCategory Load (0.2ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 55) ORDER BY category_name ASC[0m
  [4;35;1mProduct Load (0.6ms)[0m   [0mSELECT * FROM `products` WHERE (product_category_id IN(55)) ORDER BY created_at DESC LIMIT 0, 12[0m
  [4;36;1mProduct Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
Rendered shared/_products (20.8ms)
Completed in 68ms (View: 24, DB: 5) | 200 OK [http://localhost/admin/products/show_product_table?parent_id=55]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#new (for 127.0.0.1 at 2010-04-13 08:47:37) [GET]
  Parameters: {"parent_id"=>"55"}
  [4;35;1mMenyItem Load (0.1ms)[0m   [0mSELECT * FROM `meny_items` [0m
  [4;36;1mUser Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mProductCategory Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `product_categories`[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.`id` = 55) LIMIT 1[0m
  [4;36;1mProduct Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
Rendering template within layouts/admin
Rendering admin/products/new
Rendered admin/products/_form (25.2ms)
Rendered shared/_main_many (1.4ms)
Completed in 87ms (View: 46, DB: 4) | 200 OK [http://localhost/admin/products/new?parent_id=55]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#create (for 127.0.0.1 at 2010-04-13 08:47:41) [POST]
  Parameters: {"commit"=>"Создать", "authenticity_token"=>"nYhFcnyj6nSarl1GitlusuXgj/tS59QRzpnCA9PYRPk=", "product"=>{"title"=>"ew", "description"=>"<p>ew</p>"}, "parent_id"=>"55"}
  [4;35;1mMenyItem Load (0.1ms)[0m   [0mSELECT * FROM `meny_items` [0m
  [4;36;1mUser Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mProductCategory Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `product_categories`[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.`id` = 55) LIMIT 1[0m
  [4;36;1mProduct Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mProduct Load (0.4ms)[0m   [0;1mSELECT `products`.id FROM `products` WHERE (`products`.`title` = BINARY 'ew') LIMIT 1[0m
  [4;35;1mProduct Create (10.6ms)[0m   [0mINSERT INTO `products` (`created_at`, `title`, `product_category_id`, `updated_at`, `category_type`, `description`, `product_photo_file_name`, `product_photo_content_type`, `product_photo_file_size`, `product_photo_updated_at`) VALUES('2010-04-13 05:47:41', 'ew', 55, '2010-04-13 05:47:41', 'Monuments', '<p>ew</p>', NULL, NULL, NULL, NULL)[0m
[paperclip] Saving attachments.
  [4;36;1mSQL (27.6ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost:3000/admin/products?parent_id=55
Completed in 95ms (DB: 42) | 302 Found [http://localhost/admin/products]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#index (for 127.0.0.1 at 2010-04-13 08:47:41) [GET]
  Parameters: {"parent_id"=>"55"}
  [4;35;1mMenyItem Load (0.2ms)[0m   [0mSELECT * FROM `meny_items` [0m
  [4;36;1mUser Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mProductCategory Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `product_categories`[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.`id` = 55) LIMIT 1[0m
  [4;36;1mProductCategory Load (0.2ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 55) ORDER BY category_name ASC[0m
  [4;35;1mProduct Load (0.6ms)[0m   [0mSELECT * FROM `products` WHERE (product_category_id IN(55)) ORDER BY created_at DESC LIMIT 0, 12[0m
Rendering template within layouts/admin
Rendering admin/products/index
  [4;36;1mProduct Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
Rendered shared/_products (23.8ms)
Rendered shared/_full_tree (0.9ms)
Rendered shared/_main_many (1.5ms)
Completed in 79ms (View: 31, DB: 5) | 200 OK [http://localhost/admin/products?parent_id=55]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2010-04-13 08:47:42) [GET]

ActionController::RoutingError (No route matches "/product_photos/thumb/missing.png" with {:method=>:get}):
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendering rescues/layout (not_found)
  [4;35;1mSQL (0.3ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#tree_funeral (for 127.0.0.1 at 2010-04-13 08:47:42) [GET]
  Parameters: {"id"=>"0"}
  [4;35;1mMenyItem Load (1.8ms)[0m   [0mSELECT * FROM `meny_items` [0m
  [4;36;1mProductCategory Load (0.3ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE ((category_type = 'Funerals') AND (parent_id = 0)) [0m
  [4;35;1mProductCategory Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `product_categories`[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 9) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.2ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 51) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.2ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 52) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 53) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 44) ORDER BY category_name ASC[0m
Completed in 46ms (View: 1, DB: 4) | 200 OK [http://localhost/admin/products/tree_funeral?id=0]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#tree_monument (for 127.0.0.1 at 2010-04-13 08:47:42) [GET]
  Parameters: {"id"=>"0"}
  [4;35;1mMenyItem Load (1.7ms)[0m   [0mSELECT * FROM `meny_items` [0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE ((category_type = 'Monuments') AND (parent_id = 0)) [0m
  [4;35;1mProductCategory Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `product_categories`[0m
  [4;36;1mProductCategory Load (0.2ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 10) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.2ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 54) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 55) ORDER BY category_name ASC[0m
Completed in 32ms (View: 1, DB: 4) | 200 OK [http://localhost/admin/products/tree_monument?id=0]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#destroy (for 127.0.0.1 at 2010-04-13 08:47:45) [DELETE]
  Parameters: {"authenticity_token"=>"nYhFcnyj6nSarl1GitlusuXgj/tS59QRzpnCA9PYRPk=", "id"=>"46", "parent_id"=>"55"}
  [4;35;1mMenyItem Load (0.2ms)[0m   [0mSELECT * FROM `meny_items` [0m
  [4;36;1mUser Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mProductCategory Columns (3.8ms)[0m   [0;1mSHOW FIELDS FROM `product_categories`[0m
  [4;35;1mProductCategory Load (3.3ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.`id` = 55) LIMIT 1[0m
  [4;36;1mProduct Columns (7.8ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
  [4;35;1mProduct Load (15.5ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 46) [0m
  [4;36;1mSQL (8.0ms)[0m   [0;1mBEGIN[0m
[paperclip] Deleting attachments.
  [4;35;1mProduct Destroy (1.2ms)[0m   [0mDELETE FROM `products` WHERE `id` = 46[0m
  [4;36;1mSQL (2.6ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost:3000/admin/products?parent_id=55
Completed in 95ms (DB: 44) | 302 Found [http://localhost/admin/products/46?parent_id=55]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#index (for 127.0.0.1 at 2010-04-13 08:47:45) [GET]
  Parameters: {"parent_id"=>"55"}
  [4;35;1mMenyItem Load (0.1ms)[0m   [0mSELECT * FROM `meny_items` [0m
  [4;36;1mUser Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mProductCategory Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `product_categories`[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.`id` = 55) LIMIT 1[0m
  [4;36;1mProductCategory Load (0.2ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 55) ORDER BY category_name ASC[0m
  [4;35;1mProduct Load (0.5ms)[0m   [0mSELECT * FROM `products` WHERE (product_category_id IN(55)) ORDER BY created_at DESC LIMIT 0, 12[0m
Rendering template within layouts/admin
Rendering admin/products/index
  [4;36;1mProduct Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
Rendered shared/_products (18.6ms)
Rendered shared/_full_tree (0.9ms)
Rendered shared/_main_many (1.5ms)
Completed in 75ms (View: 27, DB: 5) | 200 OK [http://localhost/admin/products?parent_id=55]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#tree_funeral (for 127.0.0.1 at 2010-04-13 08:47:45) [GET]
  Parameters: {"id"=>"0"}
  [4;35;1mMenyItem Load (0.6ms)[0m   [0mSELECT * FROM `meny_items` [0m
  [4;36;1mProductCategory Load (0.2ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE ((category_type = 'Funerals') AND (parent_id = 0)) [0m
  [4;35;1mProductCategory Columns (3.2ms)[0m   [0mSHOW FIELDS FROM `product_categories`[0m
  [4;36;1mProductCategory Load (1.8ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 9) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 51) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 52) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 53) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 44) ORDER BY category_name ASC[0m
Completed in 41ms (View: 1, DB: 6) | 200 OK [http://localhost/admin/products/tree_funeral?id=0]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#tree_monument (for 127.0.0.1 at 2010-04-13 08:47:45) [GET]
  Parameters: {"id"=>"0"}
  [4;35;1mMenyItem Load (0.1ms)[0m   [0mSELECT * FROM `meny_items` [0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE ((category_type = 'Monuments') AND (parent_id = 0)) [0m
  [4;35;1mProductCategory Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `product_categories`[0m
  [4;36;1mProductCategory Load (0.3ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 10) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.3ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 54) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.2ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 55) ORDER BY category_name ASC[0m
Completed in 106ms (View: 1, DB: 2) | 200 OK [http://localhost/admin/products/tree_monument?id=0]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#show_product_table (for 127.0.0.1 at 2010-04-13 08:47:47) [GET]
  Parameters: {"parent_id"=>"51"}
  [4;35;1mMenyItem Load (0.1ms)[0m   [0mSELECT * FROM `meny_items` [0m
  [4;36;1mUser Columns (14.6ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mProductCategory Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `product_categories`[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.`id` = 51) LIMIT 1[0m
  [4;36;1mProductCategory Load (0.4ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 51) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 52) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 53) ORDER BY category_name ASC[0m
  [4;35;1mProduct Load (0.6ms)[0m   [0mSELECT * FROM `products` WHERE (product_category_id IN(52,53,51)) ORDER BY created_at DESC LIMIT 0, 12[0m
  [4;36;1mProduct Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(*) AS count_all FROM `products` WHERE (product_category_id IN(52,53,51)) [0m
Rendered shared/_products (102.3ms)
Completed in 186ms (View: 120, DB: 19) | 200 OK [http://localhost/admin/products/show_product_table?parent_id=51]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing SessionsController#destroy (for 127.0.0.1 at 2010-04-13 08:47:50) [GET]
  [4;36;1mMenyItem Load (0.6ms)[0m   [0;1mSELECT * FROM `meny_items` [0m
  [4;35;1mUser Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.7ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost:3000/
Completed in 39ms (DB: 3) | 302 Found [http://localhost/logout]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing SessionsController#destroy (for 127.0.0.1 at 2010-04-13 08:47:50) [GET]
  [4;35;1mMenyItem Load (0.2ms)[0m   [0mSELECT * FROM `meny_items` [0m
  [4;36;1mUser Columns (3.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost:3000/
Completed in 34ms (DB: 4) | 302 Found [http://localhost/logout]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing HomeController#index (for 127.0.0.1 at 2010-04-13 08:47:50) [GET]
  [4;36;1mMenyItem Load (6.5ms)[0m   [0;1mSELECT * FROM `meny_items` [0m
  [4;35;1mArticle Load (0.2ms)[0m   [0mSELECT * FROM `articles` WHERE (directory = 'Новости') ORDER BY created_at DESC LIMIT 0, 15[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mArticle Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `articles`[0m
Rendered shared/_tree_for_users (0.9ms)
  [4;35;1mMenyItem Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `meny_items`[0m
Rendered shared/_main_many (5.3ms)
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (show_slide = 1) [0m
  [4;35;1mProductCategory Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `product_categories`[0m
Completed in 77ms (View: 41, DB: 10) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (12.6ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#tree_funeral (for 127.0.0.1 at 2010-04-13 08:47:51) [GET]
  Parameters: {"id"=>"0"}
  [4;36;1mMenyItem Load (0.2ms)[0m   [0;1mSELECT * FROM `meny_items` [0m
  [4;35;1mProductCategory Load (1.2ms)[0m   [0mSELECT * FROM `product_categories` WHERE ((category_type = 'Funerals') AND (parent_id = 0)) [0m
  [4;36;1mProductCategory Columns (14.3ms)[0m   [0;1mSHOW FIELDS FROM `product_categories`[0m
  [4;35;1mProductCategory Load (0.2ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 9) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 51) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 52) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.2ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 53) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (1.8ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 44) ORDER BY category_name ASC[0m
Completed in 62ms (View: 1, DB: 31) | 200 OK [http://localhost/admin/products/tree_funeral?id=0]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::ProductsController#tree_monument (for 127.0.0.1 at 2010-04-13 08:47:51) [GET]
  Parameters: {"id"=>"0"}
  [4;36;1mMenyItem Load (0.2ms)[0m   [0;1mSELECT * FROM `meny_items` [0m
  [4;35;1mProductCategory Load (0.2ms)[0m   [0mSELECT * FROM `product_categories` WHERE ((category_type = 'Monuments') AND (parent_id = 0)) [0m
  [4;36;1mProductCategory Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `product_categories`[0m
  [4;35;1mProductCategory Load (0.3ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 10) ORDER BY category_name ASC[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 54) ORDER BY category_name ASC[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `product_categories` WHERE (`product_categories`.parent_id = 55) ORDER BY category_name ASC[0m
Completed in 34ms (View: 1, DB: 2) | 200 OK [http://localhost/admin/products/tree_monument?id=0]
